"use strict";var b1=Object.defineProperty;var Fg=t=>{throw TypeError(t)};var v1=(t,e,r)=>e in t?b1(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var oe=(t,e,r)=>v1(t,typeof e!="symbol"?e+"":e,r),Cf=(t,e,r)=>e.has(t)||Fg("Cannot "+r);var y=(t,e,r)=>(Cf(t,e,"read from private field"),r?r.call(t):e.get(t)),me=(t,e,r)=>e.has(t)?Fg("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ee=(t,e,r,n)=>(Cf(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),he=(t,e,r)=>(Cf(t,e,"access private method"),r);var Bl=(t,e,r,n)=>({set _(i){ee(t,e,i,r)},get _(){return y(t,e,n)}});const ye=require("electron"),ot=require("node:path"),qe=require("fs-extra"),E1=require("chokidar"),tp=require("node:os"),sd=require("node:fs/promises"),pi=require("child_process"),Pe=require("path"),Cr=require("events"),Nn=require("crypto"),yw=require("tty"),Bt=require("util"),fs=require("os"),vr=require("fs"),jt=require("stream"),ga=require("url"),ww=require("string_decoder"),el=require("zlib"),S1=require("http"),T1=require("constants"),A1=require("assert"),Xr=require("buffer"),_w=require("node:url"),x1=require("node:fs"),R1=require("node:events"),O1=require("node:stream"),I1=require("node:string_decoder");var Be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function vw(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var sr={},kn={},vi={},Nt={},Ei={};Object.defineProperty(Ei,"__esModule",{value:!0});Ei.CancellationError=Ei.CancellationToken=void 0;const C1=Cr;class D1 extends C1.EventEmitter{get cancelled(){return this._cancelled||this._parent!=null&&this._parent.cancelled}set parent(e){this.removeParentCancelHandler(),this._parent=e,this.parentCancelHandler=()=>this.cancel(),this._parent.onCancel(this.parentCancelHandler)}constructor(e){super(),this.parentCancelHandler=null,this._parent=null,this._cancelled=!1,e!=null&&(this.parent=e)}cancel(){this._cancelled=!0,this.emit("cancel")}onCancel(e){this.cancelled?e():this.once("cancel",e)}createPromise(e){if(this.cancelled)return Promise.reject(new ad);const r=()=>{if(n!=null)try{this.removeListener("cancel",n),n=null}catch{}};let n=null;return new Promise((i,s)=>{let a=null;if(n=()=>{try{a!=null&&(a(),a=null)}finally{s(new ad)}},this.cancelled){n();return}this.onCancel(n),e(i,s,o=>{a=o})}).then(i=>(r(),i)).catch(i=>{throw r(),i})}removeParentCancelHandler(){const e=this._parent;e!=null&&this.parentCancelHandler!=null&&(e.removeListener("cancel",this.parentCancelHandler),this.parentCancelHandler=null)}dispose(){try{this.removeParentCancelHandler()}finally{this.removeAllListeners(),this._parent=null}}}Ei.CancellationToken=D1;class ad extends Error{constructor(){super("cancelled")}}Ei.CancellationError=ad;var ma={};Object.defineProperty(ma,"__esModule",{value:!0});ma.newError=P1;function P1(t,e){const r=new Error(t);return r.code=e,r}var Jt={},od={exports:{}},jl={exports:{}},Df,Mg;function $1(){if(Mg)return Df;Mg=1;var t=1e3,e=t*60,r=e*60,n=r*24,i=n*7,s=n*365.25;Df=function(u,h){h=h||{};var d=typeof u;if(d==="string"&&u.length>0)return a(u);if(d==="number"&&isFinite(u))return h.long?l(u):o(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function a(u){if(u=String(u),!(u.length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(h){var d=parseFloat(h[1]),b=(h[2]||"ms").toLowerCase();switch(b){case"years":case"year":case"yrs":case"yr":case"y":return d*s;case"weeks":case"week":case"w":return d*i;case"days":case"day":case"d":return d*n;case"hours":case"hour":case"hrs":case"hr":case"h":return d*r;case"minutes":case"minute":case"mins":case"min":case"m":return d*e;case"seconds":case"second":case"secs":case"sec":case"s":return d*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return d;default:return}}}}function o(u){var h=Math.abs(u);return h>=n?Math.round(u/n)+"d":h>=r?Math.round(u/r)+"h":h>=e?Math.round(u/e)+"m":h>=t?Math.round(u/t)+"s":u+"ms"}function l(u){var h=Math.abs(u);return h>=n?c(u,h,n,"day"):h>=r?c(u,h,r,"hour"):h>=e?c(u,h,e,"minute"):h>=t?c(u,h,t,"second"):u+" ms"}function c(u,h,d,b){var T=h>=d*1.5;return Math.round(u/d)+" "+b+(T?"s":"")}return Df}var Pf,Ug;function Ew(){if(Ug)return Pf;Ug=1;function t(e){n.debug=n,n.default=n,n.coerce=c,n.disable=o,n.enable=s,n.enabled=l,n.humanize=$1(),n.destroy=u,Object.keys(e).forEach(h=>{n[h]=e[h]}),n.names=[],n.skips=[],n.formatters={};function r(h){let d=0;for(let b=0;b<h.length;b++)d=(d<<5)-d+h.charCodeAt(b),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=r;function n(h){let d,b=null,T,w;function E(...p){if(!E.enabled)return;const m=E,v=Number(new Date),N=v-(d||v);m.diff=N,m.prev=d,m.curr=v,d=v,p[0]=n.coerce(p[0]),typeof p[0]!="string"&&p.unshift("%O");let z=0;p[0]=p[0].replace(/%([a-zA-Z%])/g,(Q,G)=>{if(Q==="%%")return"%";z++;const R=n.formatters[G];if(typeof R=="function"){const k=p[z];Q=R.call(m,k),p.splice(z,1),z--}return Q}),n.formatArgs.call(m,p),(m.log||n.log).apply(m,p)}return E.namespace=h,E.useColors=n.useColors(),E.color=n.selectColor(h),E.extend=i,E.destroy=n.destroy,Object.defineProperty(E,"enabled",{enumerable:!0,configurable:!1,get:()=>b!==null?b:(T!==n.namespaces&&(T=n.namespaces,w=n.enabled(h)),w),set:p=>{b=p}}),typeof n.init=="function"&&n.init(E),E}function i(h,d){const b=n(this.namespace+(typeof d>"u"?":":d)+h);return b.log=this.log,b}function s(h){n.save(h),n.namespaces=h,n.names=[],n.skips=[];const d=(typeof h=="string"?h:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const b of d)b[0]==="-"?n.skips.push(b.slice(1)):n.names.push(b)}function a(h,d){let b=0,T=0,w=-1,E=0;for(;b<h.length;)if(T<d.length&&(d[T]===h[b]||d[T]==="*"))d[T]==="*"?(w=T,E=b,T++):(b++,T++);else if(w!==-1)T=w+1,E++,b=E;else return!1;for(;T<d.length&&d[T]==="*";)T++;return T===d.length}function o(){const h=[...n.names,...n.skips.map(d=>"-"+d)].join(",");return n.enable(""),h}function l(h){for(const d of n.skips)if(a(h,d))return!1;for(const d of n.names)if(a(h,d))return!0;return!1}function c(h){return h instanceof Error?h.stack||h.message:h}function u(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return Pf=t,Pf}var kg;function N1(){return kg||(kg=1,function(t,e){e.formatArgs=n,e.save=i,e.load=s,e.useColors=r,e.storage=a(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;l.splice(1,0,c,"color: inherit");let u=0,h=0;l[0].replace(/%[a-zA-Z%]/g,d=>{d!=="%%"&&(u++,d==="%c"&&(h=u))}),l.splice(h,0,c)}e.log=console.debug||console.log||(()=>{});function i(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function s(){let l;try{l=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!l&&typeof process<"u"&&"env"in process&&(l=process.env.DEBUG),l}function a(){try{return localStorage}catch{}}t.exports=Ew()(e);const{formatters:o}=t.exports;o.j=function(l){try{return JSON.stringify(l)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}}(jl,jl.exports)),jl.exports}var Wl={exports:{}},$f,Bg;function L1(){return Bg||(Bg=1,$f=(t,e=process.argv)=>{const r=t.startsWith("-")?"":t.length===1?"-":"--",n=e.indexOf(r+t),i=e.indexOf("--");return n!==-1&&(i===-1||n<i)}),$f}var Nf,jg;function F1(){if(jg)return Nf;jg=1;const t=fs,e=yw,r=L1(),{env:n}=process;let i;r("no-color")||r("no-colors")||r("color=false")||r("color=never")?i=0:(r("color")||r("colors")||r("color=true")||r("color=always"))&&(i=1);function s(){if("FORCE_COLOR"in n)return n.FORCE_COLOR==="true"?1:n.FORCE_COLOR==="false"?0:n.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(n.FORCE_COLOR,10),3)}function a(c){return c===0?!1:{level:c,hasBasic:!0,has256:c>=2,has16m:c>=3}}function o(c,{streamIsTTY:u,sniffFlags:h=!0}={}){const d=s();d!==void 0&&(i=d);const b=h?i:d;if(b===0)return 0;if(h){if(r("color=16m")||r("color=full")||r("color=truecolor"))return 3;if(r("color=256"))return 2}if(c&&!u&&b===void 0)return 0;const T=b||0;if(n.TERM==="dumb")return T;if(process.platform==="win32"){const w=t.release().split(".");return Number(w[0])>=10&&Number(w[2])>=10586?Number(w[2])>=14931?3:2:1}if("CI"in n)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(w=>w in n)||n.CI_NAME==="codeship"?1:T;if("TEAMCITY_VERSION"in n)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(n.TEAMCITY_VERSION)?1:0;if(n.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in n){const w=Number.parseInt((n.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(n.TERM_PROGRAM){case"iTerm.app":return w>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(n.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(n.TERM)||"COLORTERM"in n?1:T}function l(c,u={}){const h=o(c,{streamIsTTY:c&&c.isTTY,...u});return a(h)}return Nf={supportsColor:l,stdout:l({isTTY:e.isatty(1)}),stderr:l({isTTY:e.isatty(2)})},Nf}var Wg;function M1(){return Wg||(Wg=1,function(t,e){const r=yw,n=Bt;e.init=u,e.log=o,e.formatArgs=s,e.save=l,e.load=c,e.useColors=i,e.destroy=n.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),e.colors=[6,2,3,4,5,1];try{const d=F1();d&&(d.stderr||d).level>=2&&(e.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}e.inspectOpts=Object.keys(process.env).filter(d=>/^debug_/i.test(d)).reduce((d,b)=>{const T=b.substring(6).toLowerCase().replace(/_([a-z])/g,(E,p)=>p.toUpperCase());let w=process.env[b];return/^(yes|on|true|enabled)$/i.test(w)?w=!0:/^(no|off|false|disabled)$/i.test(w)?w=!1:w==="null"?w=null:w=Number(w),d[T]=w,d},{});function i(){return"colors"in e.inspectOpts?!!e.inspectOpts.colors:r.isatty(process.stderr.fd)}function s(d){const{namespace:b,useColors:T}=this;if(T){const w=this.color,E="\x1B[3"+(w<8?w:"8;5;"+w),p=`  ${E};1m${b} \x1B[0m`;d[0]=p+d[0].split(`
`).join(`
`+p),d.push(E+"m+"+t.exports.humanize(this.diff)+"\x1B[0m")}else d[0]=a()+b+" "+d[0]}function a(){return e.inspectOpts.hideDate?"":new Date().toISOString()+" "}function o(...d){return process.stderr.write(n.formatWithOptions(e.inspectOpts,...d)+`
`)}function l(d){d?process.env.DEBUG=d:delete process.env.DEBUG}function c(){return process.env.DEBUG}function u(d){d.inspectOpts={};const b=Object.keys(e.inspectOpts);for(let T=0;T<b.length;T++)d.inspectOpts[b[T]]=e.inspectOpts[b[T]]}t.exports=Ew()(e);const{formatters:h}=t.exports;h.o=function(d){return this.inspectOpts.colors=this.useColors,n.inspect(d,this.inspectOpts).split(`
`).map(b=>b.trim()).join(" ")},h.O=function(d){return this.inspectOpts.colors=this.useColors,n.inspect(d,this.inspectOpts)}}(Wl,Wl.exports)),Wl.exports}typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?od.exports=N1():od.exports=M1();var Sw=od.exports,tl={};Object.defineProperty(tl,"__esModule",{value:!0});tl.ProgressCallbackTransform=void 0;const U1=jt;class k1 extends U1.Transform{constructor(e,r,n){super(),this.total=e,this.cancellationToken=r,this.onProgress=n,this.start=Date.now(),this.transferred=0,this.delta=0,this.nextUpdate=this.start+1e3}_transform(e,r,n){if(this.cancellationToken.cancelled){n(new Error("cancelled"),null);return}this.transferred+=e.length,this.delta+=e.length;const i=Date.now();i>=this.nextUpdate&&this.transferred!==this.total&&(this.nextUpdate=i+1e3,this.onProgress({total:this.total,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.total*100,bytesPerSecond:Math.round(this.transferred/((i-this.start)/1e3))}),this.delta=0),n(null,e)}_flush(e){if(this.cancellationToken.cancelled){e(new Error("cancelled"));return}this.onProgress({total:this.total,delta:this.delta,transferred:this.total,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,e(null)}}tl.ProgressCallbackTransform=k1;Object.defineProperty(Jt,"__esModule",{value:!0});Jt.DigestTransform=Jt.HttpExecutor=Jt.HttpError=void 0;Jt.createHttpError=ld;Jt.parseJson=V1;Jt.configureRequestOptionsFromUrl=Aw;Jt.configureRequestUrl=np;Jt.safeGetHeader=Gs;Jt.configureRequestOptions=Bu;Jt.safeStringifyJson=ju;const B1=Nn,j1=Sw,W1=vr,G1=jt,Tw=ga,q1=Ei,Gg=ma,z1=tl,Pa=(0,j1.default)("electron-builder");function ld(t,e=null){return new rp(t.statusCode||-1,`${t.statusCode} ${t.statusMessage}`+(e==null?"":`
`+JSON.stringify(e,null,"  "))+`
Headers: `+ju(t.headers),e)}const H1=new Map([[429,"Too many requests"],[400,"Bad request"],[403,"Forbidden"],[404,"Not found"],[405,"Method not allowed"],[406,"Not acceptable"],[408,"Request timeout"],[413,"Request entity too large"],[500,"Internal server error"],[502,"Bad gateway"],[503,"Service unavailable"],[504,"Gateway timeout"],[505,"HTTP version not supported"]]);class rp extends Error{constructor(e,r=`HTTP error: ${H1.get(e)||e}`,n=null){super(r),this.statusCode=e,this.description=n,this.name="HttpError",this.code=`HTTP_ERROR_${e}`}isServerError(){return this.statusCode>=500&&this.statusCode<=599}}Jt.HttpError=rp;function V1(t){return t.then(e=>e==null||e.length===0?null:JSON.parse(e))}class ku{constructor(){this.maxRedirects=10}request(e,r=new q1.CancellationToken,n){Bu(e);const i=n==null?void 0:JSON.stringify(n),s=i?Buffer.from(i):void 0;if(s!=null){Pa(i);const{headers:a,...o}=e;e={method:"post",headers:{"Content-Type":"application/json","Content-Length":s.length,...a},...o}}return this.doApiRequest(e,r,a=>a.end(s))}doApiRequest(e,r,n,i=0){return Pa.enabled&&Pa(`Request: ${ju(e)}`),r.createPromise((s,a,o)=>{const l=this.createRequest(e,c=>{try{this.handleResponse(c,e,r,s,a,i,n)}catch(u){a(u)}});this.addErrorAndTimeoutHandlers(l,a,e.timeout),this.addRedirectHandlers(l,e,a,i,c=>{this.doApiRequest(c,r,n,i).then(s).catch(a)}),n(l,a),o(()=>l.abort())})}addRedirectHandlers(e,r,n,i,s){}addErrorAndTimeoutHandlers(e,r,n=60*1e3){this.addTimeOutHandler(e,r,n),e.on("error",r),e.on("aborted",()=>{r(new Error("Request has been aborted by the server"))})}handleResponse(e,r,n,i,s,a,o){var l;if(Pa.enabled&&Pa(`Response: ${e.statusCode} ${e.statusMessage}, request options: ${ju(r)}`),e.statusCode===404){s(ld(e,`method: ${r.method||"GET"} url: ${r.protocol||"https:"}//${r.hostname}${r.port?`:${r.port}`:""}${r.path}

Please double check that your authentication token is correct. Due to security reasons, actual status maybe not reported, but 404.
`));return}else if(e.statusCode===204){i();return}const c=(l=e.statusCode)!==null&&l!==void 0?l:0,u=c>=300&&c<400,h=Gs(e,"location");if(u&&h!=null){if(a>this.maxRedirects){s(this.createMaxRedirectError());return}this.doApiRequest(ku.prepareRedirectUrlOptions(h,r),n,o,a).then(i).catch(s);return}e.setEncoding("utf8");let d="";e.on("error",s),e.on("data",b=>d+=b),e.on("end",()=>{try{if(e.statusCode!=null&&e.statusCode>=400){const b=Gs(e,"content-type"),T=b!=null&&(Array.isArray(b)?b.find(w=>w.includes("json"))!=null:b.includes("json"));s(ld(e,`method: ${r.method||"GET"} url: ${r.protocol||"https:"}//${r.hostname}${r.port?`:${r.port}`:""}${r.path}

          Data:
          ${T?JSON.stringify(JSON.parse(d)):d}
          `))}else i(d.length===0?null:d)}catch(b){s(b)}})}async downloadToBuffer(e,r){return await r.cancellationToken.createPromise((n,i,s)=>{const a=[],o={headers:r.headers||void 0,redirect:"manual"};np(e,o),Bu(o),this.doDownload(o,{destination:null,options:r,onCancel:s,callback:l=>{l==null?n(Buffer.concat(a)):i(l)},responseHandler:(l,c)=>{let u=0;l.on("data",h=>{if(u+=h.length,u>524288e3){c(new Error("Maximum allowed size is 500 MB"));return}a.push(h)}),l.on("end",()=>{c(null)})}},0)})}doDownload(e,r,n){const i=this.createRequest(e,s=>{if(s.statusCode>=400){r.callback(new Error(`Cannot download "${e.protocol||"https:"}//${e.hostname}${e.path}", status ${s.statusCode}: ${s.statusMessage}`));return}s.on("error",r.callback);const a=Gs(s,"location");if(a!=null){n<this.maxRedirects?this.doDownload(ku.prepareRedirectUrlOptions(a,e),r,n++):r.callback(this.createMaxRedirectError());return}r.responseHandler==null?K1(r,s):r.responseHandler(s,r.callback)});this.addErrorAndTimeoutHandlers(i,r.callback,e.timeout),this.addRedirectHandlers(i,e,r.callback,n,s=>{this.doDownload(s,r,n++)}),i.end()}createMaxRedirectError(){return new Error(`Too many redirects (> ${this.maxRedirects})`)}addTimeOutHandler(e,r,n){e.on("socket",i=>{i.setTimeout(n,()=>{e.abort(),r(new Error("Request timed out"))})})}static prepareRedirectUrlOptions(e,r){const n=Aw(e,{...r}),i=n.headers;if(i!=null&&i.authorization){const s=new Tw.URL(e);(s.hostname.endsWith(".amazonaws.com")||s.searchParams.has("X-Amz-Credential"))&&delete i.authorization}return n}static retryOnServerError(e,r=3){for(let n=0;;n++)try{return e()}catch(i){if(n<r&&(i instanceof rp&&i.isServerError()||i.code==="EPIPE"))continue;throw i}}}Jt.HttpExecutor=ku;function Aw(t,e){const r=Bu(e);return np(new Tw.URL(t),r),r}function np(t,e){e.protocol=t.protocol,e.hostname=t.hostname,t.port?e.port=t.port:e.port&&delete e.port,e.path=t.pathname+t.search}class ud extends G1.Transform{get actual(){return this._actual}constructor(e,r="sha512",n="base64"){super(),this.expected=e,this.algorithm=r,this.encoding=n,this._actual=null,this.isValidateOnEnd=!0,this.digester=(0,B1.createHash)(r)}_transform(e,r,n){this.digester.update(e),n(null,e)}_flush(e){if(this._actual=this.digester.digest(this.encoding),this.isValidateOnEnd)try{this.validate()}catch(r){e(r);return}e(null)}validate(){if(this._actual==null)throw(0,Gg.newError)("Not finished yet","ERR_STREAM_NOT_FINISHED");if(this._actual!==this.expected)throw(0,Gg.newError)(`${this.algorithm} checksum mismatch, expected ${this.expected}, got ${this._actual}`,"ERR_CHECKSUM_MISMATCH");return null}}Jt.DigestTransform=ud;function Y1(t,e,r){return t!=null&&e!=null&&t!==e?(r(new Error(`checksum mismatch: expected ${e} but got ${t} (X-Checksum-Sha2 header)`)),!1):!0}function Gs(t,e){const r=t.headers[e];return r==null?null:Array.isArray(r)?r.length===0?null:r[r.length-1]:r}function K1(t,e){if(!Y1(Gs(e,"X-Checksum-Sha2"),t.options.sha2,t.callback))return;const r=[];if(t.options.onProgress!=null){const a=Gs(e,"content-length");a!=null&&r.push(new z1.ProgressCallbackTransform(parseInt(a,10),t.options.cancellationToken,t.options.onProgress))}const n=t.options.sha512;n!=null?r.push(new ud(n,"sha512",n.length===128&&!n.includes("+")&&!n.includes("Z")&&!n.includes("=")?"hex":"base64")):t.options.sha2!=null&&r.push(new ud(t.options.sha2,"sha256","hex"));const i=(0,W1.createWriteStream)(t.destination);r.push(i);let s=e;for(const a of r)a.on("error",o=>{i.close(),t.options.cancellationToken.cancelled||t.callback(o)}),s=s.pipe(a);i.on("finish",()=>{i.close(t.callback)})}function Bu(t,e,r){r!=null&&(t.method=r),t.headers={...t.headers};const n=t.headers;return e!=null&&(n.authorization=e.startsWith("Basic")||e.startsWith("Bearer")?e:`token ${e}`),n["User-Agent"]==null&&(n["User-Agent"]="electron-builder"),(r==null||r==="GET"||n["Cache-Control"]==null)&&(n["Cache-Control"]="no-cache"),t.protocol==null&&process.versions.electron!=null&&(t.protocol="https:"),t}function ju(t,e){return JSON.stringify(t,(r,n)=>r.endsWith("Authorization")||r.endsWith("authorization")||r.endsWith("Password")||r.endsWith("PASSWORD")||r.endsWith("Token")||r.includes("password")||r.includes("token")||e!=null&&e.has(r)?"<stripped sensitive data>":n,2)}var Tc={};Object.defineProperty(Tc,"__esModule",{value:!0});Tc.MemoLazy=void 0;class X1{constructor(e,r){this.selector=e,this.creator=r,this.selected=void 0,this._value=void 0}get hasValue(){return this._value!==void 0}get value(){const e=this.selector();if(this._value!==void 0&&xw(this.selected,e))return this._value;this.selected=e;const r=this.creator(e);return this.value=r,r}set value(e){this._value=e}}Tc.MemoLazy=X1;function xw(t,e){if(typeof t=="object"&&t!==null&&(typeof e=="object"&&e!==null)){const i=Object.keys(t),s=Object.keys(e);return i.length===s.length&&i.every(a=>xw(t[a],e[a]))}return t===e}var Ac={};Object.defineProperty(Ac,"__esModule",{value:!0});Ac.githubUrl=Z1;Ac.getS3LikeProviderBaseUrl=Q1;function Z1(t,e="github.com"){return`${t.protocol||"https"}://${t.host||e}`}function Q1(t){const e=t.provider;if(e==="s3")return J1(t);if(e==="spaces")return eT(t);throw new Error(`Not supported provider: ${e}`)}function J1(t){let e;if(t.accelerate==!0)e=`https://${t.bucket}.s3-accelerate.amazonaws.com`;else if(t.endpoint!=null)e=`${t.endpoint}/${t.bucket}`;else if(t.bucket.includes(".")){if(t.region==null)throw new Error(`Bucket name "${t.bucket}" includes a dot, but S3 region is missing`);t.region==="us-east-1"?e=`https://s3.amazonaws.com/${t.bucket}`:e=`https://s3-${t.region}.amazonaws.com/${t.bucket}`}else t.region==="cn-north-1"?e=`https://${t.bucket}.s3.${t.region}.amazonaws.com.cn`:e=`https://${t.bucket}.s3.amazonaws.com`;return Rw(e,t.path)}function Rw(t,e){return e!=null&&e.length>0&&(e.startsWith("/")||(t+="/"),t+=e),t}function eT(t){if(t.name==null)throw new Error("name is missing");if(t.region==null)throw new Error("region is missing");return Rw(`https://${t.name}.${t.region}.digitaloceanspaces.com`,t.path)}var ip={};Object.defineProperty(ip,"__esModule",{value:!0});ip.retry=Ow;const tT=Ei;async function Ow(t,e,r,n=0,i=0,s){var a;const o=new tT.CancellationToken;try{return await t()}catch(l){if((!((a=s==null?void 0:s(l))!==null&&a!==void 0)||a)&&e>0&&!o.cancelled)return await new Promise(c=>setTimeout(c,r+n*i)),await Ow(t,e-1,r,n,i+1,s);throw l}}var sp={};Object.defineProperty(sp,"__esModule",{value:!0});sp.parseDn=rT;function rT(t){let e=!1,r=null,n="",i=0;t=t.trim();const s=new Map;for(let a=0;a<=t.length;a++){if(a===t.length){r!==null&&s.set(r,n);break}const o=t[a];if(e){if(o==='"'){e=!1;continue}}else{if(o==='"'){e=!0;continue}if(o==="\\"){a++;const l=parseInt(t.slice(a,a+2),16);Number.isNaN(l)?n+=t[a]:(a++,n+=String.fromCharCode(l));continue}if(r===null&&o==="="){r=n,n="";continue}if(o===","||o===";"||o==="+"){r!==null&&s.set(r,n),r=null,n="";continue}}if(o===" "&&!e){if(n.length===0)continue;if(a>i){let l=a;for(;t[l]===" ";)l++;i=l}if(i>=t.length||t[i]===","||t[i]===";"||r===null&&t[i]==="="||r!==null&&t[i]==="+"){a=i-1;continue}}n+=o}return s}var sa={};Object.defineProperty(sa,"__esModule",{value:!0});sa.nil=sa.UUID=void 0;const Iw=Nn,Cw=ma,nT="options.name must be either a string or a Buffer",qg=(0,Iw.randomBytes)(16);qg[0]=qg[0]|1;const Su={},We=[];for(let t=0;t<256;t++){const e=(t+256).toString(16).substr(1);Su[e]=t,We[t]=e}class hs{constructor(e){this.ascii=null,this.binary=null;const r=hs.check(e);if(!r)throw new Error("not a UUID");this.version=r.version,r.format==="ascii"?this.ascii=e:this.binary=e}static v5(e,r){return iT(e,"sha1",80,r)}toString(){return this.ascii==null&&(this.ascii=sT(this.binary)),this.ascii}inspect(){return`UUID v${this.version} ${this.toString()}`}static check(e,r=0){if(typeof e=="string")return e=e.toLowerCase(),/^[a-f0-9]{8}(-[a-f0-9]{4}){3}-([a-f0-9]{12})$/.test(e)?e==="00000000-0000-0000-0000-000000000000"?{version:void 0,variant:"nil",format:"ascii"}:{version:(Su[e[14]+e[15]]&240)>>4,variant:zg((Su[e[19]+e[20]]&224)>>5),format:"ascii"}:!1;if(Buffer.isBuffer(e)){if(e.length<r+16)return!1;let n=0;for(;n<16&&e[r+n]===0;n++);return n===16?{version:void 0,variant:"nil",format:"binary"}:{version:(e[r+6]&240)>>4,variant:zg((e[r+8]&224)>>5),format:"binary"}}throw(0,Cw.newError)("Unknown type of uuid","ERR_UNKNOWN_UUID_TYPE")}static parse(e){const r=Buffer.allocUnsafe(16);let n=0;for(let i=0;i<16;i++)r[i]=Su[e[n++]+e[n++]],(i===3||i===5||i===7||i===9)&&(n+=1);return r}}sa.UUID=hs;hs.OID=hs.parse("6ba7b812-9dad-11d1-80b4-00c04fd430c8");function zg(t){switch(t){case 0:case 1:case 3:return"ncs";case 4:case 5:return"rfc4122";case 6:return"microsoft";default:return"future"}}var to;(function(t){t[t.ASCII=0]="ASCII",t[t.BINARY=1]="BINARY",t[t.OBJECT=2]="OBJECT"})(to||(to={}));function iT(t,e,r,n,i=to.ASCII){const s=(0,Iw.createHash)(e);if(typeof t!="string"&&!Buffer.isBuffer(t))throw(0,Cw.newError)(nT,"ERR_INVALID_UUID_NAME");s.update(n),s.update(t);const o=s.digest();let l;switch(i){case to.BINARY:o[6]=o[6]&15|r,o[8]=o[8]&63|128,l=o;break;case to.OBJECT:o[6]=o[6]&15|r,o[8]=o[8]&63|128,l=new hs(o);break;default:l=We[o[0]]+We[o[1]]+We[o[2]]+We[o[3]]+"-"+We[o[4]]+We[o[5]]+"-"+We[o[6]&15|r]+We[o[7]]+"-"+We[o[8]&63|128]+We[o[9]]+"-"+We[o[10]]+We[o[11]]+We[o[12]]+We[o[13]]+We[o[14]]+We[o[15]];break}return l}function sT(t){return We[t[0]]+We[t[1]]+We[t[2]]+We[t[3]]+"-"+We[t[4]]+We[t[5]]+"-"+We[t[6]]+We[t[7]]+"-"+We[t[8]]+We[t[9]]+"-"+We[t[10]]+We[t[11]]+We[t[12]]+We[t[13]]+We[t[14]]+We[t[15]]}sa.nil=new hs("00000000-0000-0000-0000-000000000000");var rl={},Dw={};(function(t){(function(e){e.parser=function(g,f){return new n(g,f)},e.SAXParser=n,e.SAXStream=u,e.createStream=c,e.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(g,f){if(!(this instanceof n))return new n(g,f);var I=this;s(I),I.q=I.c="",I.bufferCheckPosition=e.MAX_BUFFER_LENGTH,I.opt=f||{},I.opt.lowercase=I.opt.lowercase||I.opt.lowercasetags,I.looseCase=I.opt.lowercase?"toLowerCase":"toUpperCase",I.tags=[],I.closed=I.closedRoot=I.sawRoot=!1,I.tag=I.error=null,I.strict=!!g,I.noscript=!!(g||I.opt.noscript),I.state=R.BEGIN,I.strictEntities=I.opt.strictEntities,I.ENTITIES=I.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),I.attribList=[],I.opt.xmlns&&(I.ns=Object.create(w)),I.opt.unquotedAttributeValues===void 0&&(I.opt.unquotedAttributeValues=!g),I.trackPosition=I.opt.position!==!1,I.trackPosition&&(I.position=I.line=I.column=0),W(I,"onready")}Object.create||(Object.create=function(g){function f(){}f.prototype=g;var I=new f;return I}),Object.keys||(Object.keys=function(g){var f=[];for(var I in g)g.hasOwnProperty(I)&&f.push(I);return f});function i(g){for(var f=Math.max(e.MAX_BUFFER_LENGTH,10),I=0,S=0,D=r.length;S<D;S++){var F=g[r[S]].length;if(F>f)switch(r[S]){case"textNode":j(g);break;case"cdata":H(g,"oncdata",g.cdata),g.cdata="";break;case"script":H(g,"onscript",g.script),g.script="";break;default:Y(g,"Max buffer length exceeded: "+r[S])}I=Math.max(I,F)}var A=e.MAX_BUFFER_LENGTH-I;g.bufferCheckPosition=A+g.position}function s(g){for(var f=0,I=r.length;f<I;f++)g[r[f]]=""}function a(g){j(g),g.cdata!==""&&(H(g,"oncdata",g.cdata),g.cdata=""),g.script!==""&&(H(g,"onscript",g.script),g.script="")}n.prototype={end:function(){ne(this)},write:Ee,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){a(this)}};var o;try{o=require("stream").Stream}catch{o=function(){}}o||(o=function(){});var l=e.EVENTS.filter(function(g){return g!=="error"&&g!=="end"});function c(g,f){return new u(g,f)}function u(g,f){if(!(this instanceof u))return new u(g,f);o.apply(this),this._parser=new n(g,f),this.writable=!0,this.readable=!0;var I=this;this._parser.onend=function(){I.emit("end")},this._parser.onerror=function(S){I.emit("error",S),I._parser.error=null},this._decoder=null,l.forEach(function(S){Object.defineProperty(I,"on"+S,{get:function(){return I._parser["on"+S]},set:function(D){if(!D)return I.removeAllListeners(S),I._parser["on"+S]=D,D;I.on(S,D)},enumerable:!0,configurable:!1})})}u.prototype=Object.create(o.prototype,{constructor:{value:u}}),u.prototype.write=function(g){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(g)){if(!this._decoder){var f=ww.StringDecoder;this._decoder=new f("utf8")}g=this._decoder.write(g)}return this._parser.write(g.toString()),this.emit("data",g),!0},u.prototype.end=function(g){return g&&g.length&&this.write(g),this._parser.end(),!0},u.prototype.on=function(g,f){var I=this;return!I._parser["on"+g]&&l.indexOf(g)!==-1&&(I._parser["on"+g]=function(){var S=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);S.splice(0,0,g),I.emit.apply(I,S)}),o.prototype.on.call(I,g,f)};var h="[CDATA[",d="DOCTYPE",b="http://www.w3.org/XML/1998/namespace",T="http://www.w3.org/2000/xmlns/",w={xml:b,xmlns:T},E=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,p=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,m=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,v=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function N(g){return g===" "||g===`
`||g==="\r"||g==="	"}function z(g){return g==='"'||g==="'"}function ue(g){return g===">"||N(g)}function Q(g,f){return g.test(f)}function G(g,f){return!Q(g,f)}var R=0;e.STATE={BEGIN:R++,BEGIN_WHITESPACE:R++,TEXT:R++,TEXT_ENTITY:R++,OPEN_WAKA:R++,SGML_DECL:R++,SGML_DECL_QUOTED:R++,DOCTYPE:R++,DOCTYPE_QUOTED:R++,DOCTYPE_DTD:R++,DOCTYPE_DTD_QUOTED:R++,COMMENT_STARTING:R++,COMMENT:R++,COMMENT_ENDING:R++,COMMENT_ENDED:R++,CDATA:R++,CDATA_ENDING:R++,CDATA_ENDING_2:R++,PROC_INST:R++,PROC_INST_BODY:R++,PROC_INST_ENDING:R++,OPEN_TAG:R++,OPEN_TAG_SLASH:R++,ATTRIB:R++,ATTRIB_NAME:R++,ATTRIB_NAME_SAW_WHITE:R++,ATTRIB_VALUE:R++,ATTRIB_VALUE_QUOTED:R++,ATTRIB_VALUE_CLOSED:R++,ATTRIB_VALUE_UNQUOTED:R++,ATTRIB_VALUE_ENTITY_Q:R++,ATTRIB_VALUE_ENTITY_U:R++,CLOSE_TAG:R++,CLOSE_TAG_SAW_WHITE:R++,SCRIPT:R++,SCRIPT_ENDING:R++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(g){var f=e.ENTITIES[g],I=typeof f=="number"?String.fromCharCode(f):f;e.ENTITIES[g]=I});for(var k in e.STATE)e.STATE[e.STATE[k]]=k;R=e.STATE;function W(g,f,I){g[f]&&g[f](I)}function H(g,f,I){g.textNode&&j(g),W(g,f,I)}function j(g){g.textNode=X(g.opt,g.textNode),g.textNode&&W(g,"ontext",g.textNode),g.textNode=""}function X(g,f){return g.trim&&(f=f.trim()),g.normalize&&(f=f.replace(/\s+/g," ")),f}function Y(g,f){return j(g),g.trackPosition&&(f+=`
Line: `+g.line+`
Column: `+g.column+`
Char: `+g.c),f=new Error(f),g.error=f,W(g,"onerror",f),g}function ne(g){return g.sawRoot&&!g.closedRoot&&P(g,"Unclosed root tag"),g.state!==R.BEGIN&&g.state!==R.BEGIN_WHITESPACE&&g.state!==R.TEXT&&Y(g,"Unexpected end"),j(g),g.c="",g.closed=!0,W(g,"onend"),n.call(g,g.strict,g.opt),g}function P(g,f){if(typeof g!="object"||!(g instanceof n))throw new Error("bad call to strictFail");g.strict&&Y(g,f)}function x(g){g.strict||(g.tagName=g.tagName[g.looseCase]());var f=g.tags[g.tags.length-1]||g,I=g.tag={name:g.tagName,attributes:{}};g.opt.xmlns&&(I.ns=f.ns),g.attribList.length=0,H(g,"onopentagstart",I)}function U(g,f){var I=g.indexOf(":"),S=I<0?["",g]:g.split(":"),D=S[0],F=S[1];return f&&g==="xmlns"&&(D="xmlns",F=""),{prefix:D,local:F}}function O(g){if(g.strict||(g.attribName=g.attribName[g.looseCase]()),g.attribList.indexOf(g.attribName)!==-1||g.tag.attributes.hasOwnProperty(g.attribName)){g.attribName=g.attribValue="";return}if(g.opt.xmlns){var f=U(g.attribName,!0),I=f.prefix,S=f.local;if(I==="xmlns")if(S==="xml"&&g.attribValue!==b)P(g,"xml: prefix must be bound to "+b+`
Actual: `+g.attribValue);else if(S==="xmlns"&&g.attribValue!==T)P(g,"xmlns: prefix must be bound to "+T+`
Actual: `+g.attribValue);else{var D=g.tag,F=g.tags[g.tags.length-1]||g;D.ns===F.ns&&(D.ns=Object.create(F.ns)),D.ns[S]=g.attribValue}g.attribList.push([g.attribName,g.attribValue])}else g.tag.attributes[g.attribName]=g.attribValue,H(g,"onattribute",{name:g.attribName,value:g.attribValue});g.attribName=g.attribValue=""}function V(g,f){if(g.opt.xmlns){var I=g.tag,S=U(g.tagName);I.prefix=S.prefix,I.local=S.local,I.uri=I.ns[S.prefix]||"",I.prefix&&!I.uri&&(P(g,"Unbound namespace prefix: "+JSON.stringify(g.tagName)),I.uri=S.prefix);var D=g.tags[g.tags.length-1]||g;I.ns&&D.ns!==I.ns&&Object.keys(I.ns).forEach(function(ie){H(g,"onopennamespace",{prefix:ie,uri:I.ns[ie]})});for(var F=0,A=g.attribList.length;F<A;F++){var C=g.attribList[F],B=C[0],te=C[1],ae=U(B,!0),le=ae.prefix,q=ae.local,re=le===""?"":I.ns[le]||"",ce={name:B,value:te,prefix:le,local:q,uri:re};le&&le!=="xmlns"&&!re&&(P(g,"Unbound namespace prefix: "+JSON.stringify(le)),ce.uri=le),g.tag.attributes[B]=ce,H(g,"onattribute",ce)}g.attribList.length=0}g.tag.isSelfClosing=!!f,g.sawRoot=!0,g.tags.push(g.tag),H(g,"onopentag",g.tag),f||(!g.noscript&&g.tagName.toLowerCase()==="script"?g.state=R.SCRIPT:g.state=R.TEXT,g.tag=null,g.tagName=""),g.attribName=g.attribValue="",g.attribList.length=0}function J(g){if(!g.tagName){P(g,"Weird empty close tag."),g.textNode+="</>",g.state=R.TEXT;return}if(g.script){if(g.tagName!=="script"){g.script+="</"+g.tagName+">",g.tagName="",g.state=R.SCRIPT;return}H(g,"onscript",g.script),g.script=""}var f=g.tags.length,I=g.tagName;g.strict||(I=I[g.looseCase]());for(var S=I;f--;){var D=g.tags[f];if(D.name!==S)P(g,"Unexpected close tag");else break}if(f<0){P(g,"Unmatched closing tag: "+g.tagName),g.textNode+="</"+g.tagName+">",g.state=R.TEXT;return}g.tagName=I;for(var F=g.tags.length;F-- >f;){var A=g.tag=g.tags.pop();g.tagName=g.tag.name,H(g,"onclosetag",g.tagName);var C={};for(var B in A.ns)C[B]=A.ns[B];var te=g.tags[g.tags.length-1]||g;g.opt.xmlns&&A.ns!==te.ns&&Object.keys(A.ns).forEach(function(ae){var le=A.ns[ae];H(g,"onclosenamespace",{prefix:ae,uri:le})})}f===0&&(g.closedRoot=!0),g.tagName=g.attribValue=g.attribName="",g.attribList.length=0,g.state=R.TEXT}function Z(g){var f=g.entity,I=f.toLowerCase(),S,D="";return g.ENTITIES[f]?g.ENTITIES[f]:g.ENTITIES[I]?g.ENTITIES[I]:(f=I,f.charAt(0)==="#"&&(f.charAt(1)==="x"?(f=f.slice(2),S=parseInt(f,16),D=S.toString(16)):(f=f.slice(1),S=parseInt(f,10),D=S.toString(10))),f=f.replace(/^0+/,""),isNaN(S)||D.toLowerCase()!==f?(P(g,"Invalid character entity"),"&"+g.entity+";"):String.fromCodePoint(S))}function ge(g,f){f==="<"?(g.state=R.OPEN_WAKA,g.startTagPosition=g.position):N(f)||(P(g,"Non-whitespace before first tag."),g.textNode=f,g.state=R.TEXT)}function fe(g,f){var I="";return f<g.length&&(I=g.charAt(f)),I}function Ee(g){var f=this;if(this.error)throw this.error;if(f.closed)return Y(f,"Cannot write after close. Assign an onready handler.");if(g===null)return ne(f);typeof g=="object"&&(g=g.toString());for(var I=0,S="";S=fe(g,I++),f.c=S,!!S;)switch(f.trackPosition&&(f.position++,S===`
`?(f.line++,f.column=0):f.column++),f.state){case R.BEGIN:if(f.state=R.BEGIN_WHITESPACE,S==="\uFEFF")continue;ge(f,S);continue;case R.BEGIN_WHITESPACE:ge(f,S);continue;case R.TEXT:if(f.sawRoot&&!f.closedRoot){for(var D=I-1;S&&S!=="<"&&S!=="&";)S=fe(g,I++),S&&f.trackPosition&&(f.position++,S===`
`?(f.line++,f.column=0):f.column++);f.textNode+=g.substring(D,I-1)}S==="<"&&!(f.sawRoot&&f.closedRoot&&!f.strict)?(f.state=R.OPEN_WAKA,f.startTagPosition=f.position):(!N(S)&&(!f.sawRoot||f.closedRoot)&&P(f,"Text data outside of root node."),S==="&"?f.state=R.TEXT_ENTITY:f.textNode+=S);continue;case R.SCRIPT:S==="<"?f.state=R.SCRIPT_ENDING:f.script+=S;continue;case R.SCRIPT_ENDING:S==="/"?f.state=R.CLOSE_TAG:(f.script+="<"+S,f.state=R.SCRIPT);continue;case R.OPEN_WAKA:if(S==="!")f.state=R.SGML_DECL,f.sgmlDecl="";else if(!N(S))if(Q(E,S))f.state=R.OPEN_TAG,f.tagName=S;else if(S==="/")f.state=R.CLOSE_TAG,f.tagName="";else if(S==="?")f.state=R.PROC_INST,f.procInstName=f.procInstBody="";else{if(P(f,"Unencoded <"),f.startTagPosition+1<f.position){var F=f.position-f.startTagPosition;S=new Array(F).join(" ")+S}f.textNode+="<"+S,f.state=R.TEXT}continue;case R.SGML_DECL:if(f.sgmlDecl+S==="--"){f.state=R.COMMENT,f.comment="",f.sgmlDecl="";continue}f.doctype&&f.doctype!==!0&&f.sgmlDecl?(f.state=R.DOCTYPE_DTD,f.doctype+="<!"+f.sgmlDecl+S,f.sgmlDecl=""):(f.sgmlDecl+S).toUpperCase()===h?(H(f,"onopencdata"),f.state=R.CDATA,f.sgmlDecl="",f.cdata=""):(f.sgmlDecl+S).toUpperCase()===d?(f.state=R.DOCTYPE,(f.doctype||f.sawRoot)&&P(f,"Inappropriately located doctype declaration"),f.doctype="",f.sgmlDecl=""):S===">"?(H(f,"onsgmldeclaration",f.sgmlDecl),f.sgmlDecl="",f.state=R.TEXT):(z(S)&&(f.state=R.SGML_DECL_QUOTED),f.sgmlDecl+=S);continue;case R.SGML_DECL_QUOTED:S===f.q&&(f.state=R.SGML_DECL,f.q=""),f.sgmlDecl+=S;continue;case R.DOCTYPE:S===">"?(f.state=R.TEXT,H(f,"ondoctype",f.doctype),f.doctype=!0):(f.doctype+=S,S==="["?f.state=R.DOCTYPE_DTD:z(S)&&(f.state=R.DOCTYPE_QUOTED,f.q=S));continue;case R.DOCTYPE_QUOTED:f.doctype+=S,S===f.q&&(f.q="",f.state=R.DOCTYPE);continue;case R.DOCTYPE_DTD:S==="]"?(f.doctype+=S,f.state=R.DOCTYPE):S==="<"?(f.state=R.OPEN_WAKA,f.startTagPosition=f.position):z(S)?(f.doctype+=S,f.state=R.DOCTYPE_DTD_QUOTED,f.q=S):f.doctype+=S;continue;case R.DOCTYPE_DTD_QUOTED:f.doctype+=S,S===f.q&&(f.state=R.DOCTYPE_DTD,f.q="");continue;case R.COMMENT:S==="-"?f.state=R.COMMENT_ENDING:f.comment+=S;continue;case R.COMMENT_ENDING:S==="-"?(f.state=R.COMMENT_ENDED,f.comment=X(f.opt,f.comment),f.comment&&H(f,"oncomment",f.comment),f.comment=""):(f.comment+="-"+S,f.state=R.COMMENT);continue;case R.COMMENT_ENDED:S!==">"?(P(f,"Malformed comment"),f.comment+="--"+S,f.state=R.COMMENT):f.doctype&&f.doctype!==!0?f.state=R.DOCTYPE_DTD:f.state=R.TEXT;continue;case R.CDATA:S==="]"?f.state=R.CDATA_ENDING:f.cdata+=S;continue;case R.CDATA_ENDING:S==="]"?f.state=R.CDATA_ENDING_2:(f.cdata+="]"+S,f.state=R.CDATA);continue;case R.CDATA_ENDING_2:S===">"?(f.cdata&&H(f,"oncdata",f.cdata),H(f,"onclosecdata"),f.cdata="",f.state=R.TEXT):S==="]"?f.cdata+="]":(f.cdata+="]]"+S,f.state=R.CDATA);continue;case R.PROC_INST:S==="?"?f.state=R.PROC_INST_ENDING:N(S)?f.state=R.PROC_INST_BODY:f.procInstName+=S;continue;case R.PROC_INST_BODY:if(!f.procInstBody&&N(S))continue;S==="?"?f.state=R.PROC_INST_ENDING:f.procInstBody+=S;continue;case R.PROC_INST_ENDING:S===">"?(H(f,"onprocessinginstruction",{name:f.procInstName,body:f.procInstBody}),f.procInstName=f.procInstBody="",f.state=R.TEXT):(f.procInstBody+="?"+S,f.state=R.PROC_INST_BODY);continue;case R.OPEN_TAG:Q(p,S)?f.tagName+=S:(x(f),S===">"?V(f):S==="/"?f.state=R.OPEN_TAG_SLASH:(N(S)||P(f,"Invalid character in tag name"),f.state=R.ATTRIB));continue;case R.OPEN_TAG_SLASH:S===">"?(V(f,!0),J(f)):(P(f,"Forward-slash in opening tag not followed by >"),f.state=R.ATTRIB);continue;case R.ATTRIB:if(N(S))continue;S===">"?V(f):S==="/"?f.state=R.OPEN_TAG_SLASH:Q(E,S)?(f.attribName=S,f.attribValue="",f.state=R.ATTRIB_NAME):P(f,"Invalid attribute name");continue;case R.ATTRIB_NAME:S==="="?f.state=R.ATTRIB_VALUE:S===">"?(P(f,"Attribute without value"),f.attribValue=f.attribName,O(f),V(f)):N(S)?f.state=R.ATTRIB_NAME_SAW_WHITE:Q(p,S)?f.attribName+=S:P(f,"Invalid attribute name");continue;case R.ATTRIB_NAME_SAW_WHITE:if(S==="=")f.state=R.ATTRIB_VALUE;else{if(N(S))continue;P(f,"Attribute without value"),f.tag.attributes[f.attribName]="",f.attribValue="",H(f,"onattribute",{name:f.attribName,value:""}),f.attribName="",S===">"?V(f):Q(E,S)?(f.attribName=S,f.state=R.ATTRIB_NAME):(P(f,"Invalid attribute name"),f.state=R.ATTRIB)}continue;case R.ATTRIB_VALUE:if(N(S))continue;z(S)?(f.q=S,f.state=R.ATTRIB_VALUE_QUOTED):(f.opt.unquotedAttributeValues||Y(f,"Unquoted attribute value"),f.state=R.ATTRIB_VALUE_UNQUOTED,f.attribValue=S);continue;case R.ATTRIB_VALUE_QUOTED:if(S!==f.q){S==="&"?f.state=R.ATTRIB_VALUE_ENTITY_Q:f.attribValue+=S;continue}O(f),f.q="",f.state=R.ATTRIB_VALUE_CLOSED;continue;case R.ATTRIB_VALUE_CLOSED:N(S)?f.state=R.ATTRIB:S===">"?V(f):S==="/"?f.state=R.OPEN_TAG_SLASH:Q(E,S)?(P(f,"No whitespace between attributes"),f.attribName=S,f.attribValue="",f.state=R.ATTRIB_NAME):P(f,"Invalid attribute name");continue;case R.ATTRIB_VALUE_UNQUOTED:if(!ue(S)){S==="&"?f.state=R.ATTRIB_VALUE_ENTITY_U:f.attribValue+=S;continue}O(f),S===">"?V(f):f.state=R.ATTRIB;continue;case R.CLOSE_TAG:if(f.tagName)S===">"?J(f):Q(p,S)?f.tagName+=S:f.script?(f.script+="</"+f.tagName,f.tagName="",f.state=R.SCRIPT):(N(S)||P(f,"Invalid tagname in closing tag"),f.state=R.CLOSE_TAG_SAW_WHITE);else{if(N(S))continue;G(E,S)?f.script?(f.script+="</"+S,f.state=R.SCRIPT):P(f,"Invalid tagname in closing tag."):f.tagName=S}continue;case R.CLOSE_TAG_SAW_WHITE:if(N(S))continue;S===">"?J(f):P(f,"Invalid characters in closing tag");continue;case R.TEXT_ENTITY:case R.ATTRIB_VALUE_ENTITY_Q:case R.ATTRIB_VALUE_ENTITY_U:var A,C;switch(f.state){case R.TEXT_ENTITY:A=R.TEXT,C="textNode";break;case R.ATTRIB_VALUE_ENTITY_Q:A=R.ATTRIB_VALUE_QUOTED,C="attribValue";break;case R.ATTRIB_VALUE_ENTITY_U:A=R.ATTRIB_VALUE_UNQUOTED,C="attribValue";break}if(S===";"){var B=Z(f);f.opt.unparsedEntities&&!Object.values(e.XML_ENTITIES).includes(B)?(f.entity="",f.state=A,f.write(B)):(f[C]+=B,f.entity="",f.state=A)}else Q(f.entity.length?v:m,S)?f.entity+=S:(P(f,"Invalid character in entity name"),f[C]+="&"+f.entity+S,f.entity="",f.state=A);continue;default:throw new Error(f,"Unknown state: "+f.state)}return f.position>=f.bufferCheckPosition&&i(f),f}/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */String.fromCodePoint||function(){var g=String.fromCharCode,f=Math.floor,I=function(){var S=16384,D=[],F,A,C=-1,B=arguments.length;if(!B)return"";for(var te="";++C<B;){var ae=Number(arguments[C]);if(!isFinite(ae)||ae<0||ae>1114111||f(ae)!==ae)throw RangeError("Invalid code point: "+ae);ae<=65535?D.push(ae):(ae-=65536,F=(ae>>10)+55296,A=ae%1024+56320,D.push(F,A)),(C+1===B||D.length>S)&&(te+=g.apply(null,D),D.length=0)}return te};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:I,configurable:!0,writable:!0}):String.fromCodePoint=I}()})(t)})(Dw);Object.defineProperty(rl,"__esModule",{value:!0});rl.XElement=void 0;rl.parseXml=uT;const aT=Dw,Gl=ma;class Pw{constructor(e){if(this.name=e,this.value="",this.attributes=null,this.isCData=!1,this.elements=null,!e)throw(0,Gl.newError)("Element name cannot be empty","ERR_XML_ELEMENT_NAME_EMPTY");if(!lT(e))throw(0,Gl.newError)(`Invalid element name: ${e}`,"ERR_XML_ELEMENT_INVALID_NAME")}attribute(e){const r=this.attributes===null?null:this.attributes[e];if(r==null)throw(0,Gl.newError)(`No attribute "${e}"`,"ERR_XML_MISSED_ATTRIBUTE");return r}removeAttribute(e){this.attributes!==null&&delete this.attributes[e]}element(e,r=!1,n=null){const i=this.elementOrNull(e,r);if(i===null)throw(0,Gl.newError)(n||`No element "${e}"`,"ERR_XML_MISSED_ELEMENT");return i}elementOrNull(e,r=!1){if(this.elements===null)return null;for(const n of this.elements)if(Hg(n,e,r))return n;return null}getElements(e,r=!1){return this.elements===null?[]:this.elements.filter(n=>Hg(n,e,r))}elementValueOrEmpty(e,r=!1){const n=this.elementOrNull(e,r);return n===null?"":n.value}}rl.XElement=Pw;const oT=new RegExp(/^[A-Za-z_][:A-Za-z0-9_-]*$/i);function lT(t){return oT.test(t)}function Hg(t,e,r){const n=t.name;return n===e||r===!0&&n.length===e.length&&n.toLowerCase()===e.toLowerCase()}function uT(t){let e=null;const r=aT.parser(!0,{}),n=[];return r.onopentag=i=>{const s=new Pw(i.name);if(s.attributes=i.attributes,e===null)e=s;else{const a=n[n.length-1];a.elements==null&&(a.elements=[]),a.elements.push(s)}n.push(s)},r.onclosetag=()=>{n.pop()},r.ontext=i=>{n.length>0&&(n[n.length-1].value=i)},r.oncdata=i=>{const s=n[n.length-1];s.value=i,s.isCData=!0},r.onerror=i=>{throw i},r.write(t),e}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CURRENT_APP_PACKAGE_FILE_NAME=t.CURRENT_APP_INSTALLER_FILE_NAME=t.XElement=t.parseXml=t.UUID=t.parseDn=t.retry=t.githubUrl=t.getS3LikeProviderBaseUrl=t.ProgressCallbackTransform=t.MemoLazy=t.safeStringifyJson=t.safeGetHeader=t.parseJson=t.HttpExecutor=t.HttpError=t.DigestTransform=t.createHttpError=t.configureRequestUrl=t.configureRequestOptionsFromUrl=t.configureRequestOptions=t.newError=t.CancellationToken=t.CancellationError=void 0,t.asArray=h;var e=Ei;Object.defineProperty(t,"CancellationError",{enumerable:!0,get:function(){return e.CancellationError}}),Object.defineProperty(t,"CancellationToken",{enumerable:!0,get:function(){return e.CancellationToken}});var r=ma;Object.defineProperty(t,"newError",{enumerable:!0,get:function(){return r.newError}});var n=Jt;Object.defineProperty(t,"configureRequestOptions",{enumerable:!0,get:function(){return n.configureRequestOptions}}),Object.defineProperty(t,"configureRequestOptionsFromUrl",{enumerable:!0,get:function(){return n.configureRequestOptionsFromUrl}}),Object.defineProperty(t,"configureRequestUrl",{enumerable:!0,get:function(){return n.configureRequestUrl}}),Object.defineProperty(t,"createHttpError",{enumerable:!0,get:function(){return n.createHttpError}}),Object.defineProperty(t,"DigestTransform",{enumerable:!0,get:function(){return n.DigestTransform}}),Object.defineProperty(t,"HttpError",{enumerable:!0,get:function(){return n.HttpError}}),Object.defineProperty(t,"HttpExecutor",{enumerable:!0,get:function(){return n.HttpExecutor}}),Object.defineProperty(t,"parseJson",{enumerable:!0,get:function(){return n.parseJson}}),Object.defineProperty(t,"safeGetHeader",{enumerable:!0,get:function(){return n.safeGetHeader}}),Object.defineProperty(t,"safeStringifyJson",{enumerable:!0,get:function(){return n.safeStringifyJson}});var i=Tc;Object.defineProperty(t,"MemoLazy",{enumerable:!0,get:function(){return i.MemoLazy}});var s=tl;Object.defineProperty(t,"ProgressCallbackTransform",{enumerable:!0,get:function(){return s.ProgressCallbackTransform}});var a=Ac;Object.defineProperty(t,"getS3LikeProviderBaseUrl",{enumerable:!0,get:function(){return a.getS3LikeProviderBaseUrl}}),Object.defineProperty(t,"githubUrl",{enumerable:!0,get:function(){return a.githubUrl}});var o=ip;Object.defineProperty(t,"retry",{enumerable:!0,get:function(){return o.retry}});var l=sp;Object.defineProperty(t,"parseDn",{enumerable:!0,get:function(){return l.parseDn}});var c=sa;Object.defineProperty(t,"UUID",{enumerable:!0,get:function(){return c.UUID}});var u=rl;Object.defineProperty(t,"parseXml",{enumerable:!0,get:function(){return u.parseXml}}),Object.defineProperty(t,"XElement",{enumerable:!0,get:function(){return u.XElement}}),t.CURRENT_APP_INSTALLER_FILE_NAME="installer.exe",t.CURRENT_APP_PACKAGE_FILE_NAME="package.7z";function h(d){return d==null?[]:Array.isArray(d)?d:[d]}})(Nt);var Wt={},ap={},Zr={};function $w(t){return typeof t>"u"||t===null}function cT(t){return typeof t=="object"&&t!==null}function fT(t){return Array.isArray(t)?t:$w(t)?[]:[t]}function hT(t,e){var r,n,i,s;if(e)for(s=Object.keys(e),r=0,n=s.length;r<n;r+=1)i=s[r],t[i]=e[i];return t}function dT(t,e){var r="",n;for(n=0;n<e;n+=1)r+=t;return r}function pT(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}Zr.isNothing=$w;Zr.isObject=cT;Zr.toArray=fT;Zr.repeat=dT;Zr.isNegativeZero=pT;Zr.extend=hT;function Nw(t,e){var r="",n=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(r+='in "'+t.mark.name+'" '),r+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(r+=`

`+t.mark.snippet),n+" "+r):n}function io(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=Nw(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}io.prototype=Object.create(Error.prototype);io.prototype.constructor=io;io.prototype.toString=function(e){return this.name+": "+Nw(this,e)};var nl=io,qa=Zr;function Lf(t,e,r,n,i){var s="",a="",o=Math.floor(i/2)-1;return n-e>o&&(s=" ... ",e=n-o+s.length),r-n>o&&(a=" ...",r=n+o-a.length),{str:s+t.slice(e,r).replace(/\t/g,"")+a,pos:n-e+s.length}}function Ff(t,e){return qa.repeat(" ",e-t.length)+t}function gT(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),typeof e.indent!="number"&&(e.indent=1),typeof e.linesBefore!="number"&&(e.linesBefore=3),typeof e.linesAfter!="number"&&(e.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,a=-1;s=r.exec(t.buffer);)i.push(s.index),n.push(s.index+s[0].length),t.position<=s.index&&a<0&&(a=n.length-2);a<0&&(a=n.length-1);var o="",l,c,u=Math.min(t.line+e.linesAfter,i.length).toString().length,h=e.maxLength-(e.indent+u+3);for(l=1;l<=e.linesBefore&&!(a-l<0);l++)c=Lf(t.buffer,n[a-l],i[a-l],t.position-(n[a]-n[a-l]),h),o=qa.repeat(" ",e.indent)+Ff((t.line-l+1).toString(),u)+" | "+c.str+`
`+o;for(c=Lf(t.buffer,n[a],i[a],t.position,h),o+=qa.repeat(" ",e.indent)+Ff((t.line+1).toString(),u)+" | "+c.str+`
`,o+=qa.repeat("-",e.indent+u+3+c.pos)+`^
`,l=1;l<=e.linesAfter&&!(a+l>=i.length);l++)c=Lf(t.buffer,n[a+l],i[a+l],t.position-(n[a]-n[a+l]),h),o+=qa.repeat(" ",e.indent)+Ff((t.line+l+1).toString(),u)+" | "+c.str+`
`;return o.replace(/\n$/,"")}var mT=gT,Vg=nl,yT=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],wT=["scalar","sequence","mapping"];function _T(t){var e={};return t!==null&&Object.keys(t).forEach(function(r){t[r].forEach(function(n){e[String(n)]=r})}),e}function bT(t,e){if(e=e||{},Object.keys(e).forEach(function(r){if(yT.indexOf(r)===-1)throw new Vg('Unknown option "'+r+'" is met in definition of "'+t+'" YAML type.')}),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(r){return r},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=_T(e.styleAliases||null),wT.indexOf(this.kind)===-1)throw new Vg('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var er=bT,$a=nl,Mf=er;function Yg(t,e){var r=[];return t[e].forEach(function(n){var i=r.length;r.forEach(function(s,a){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=a)}),r[i]=n}),r}function vT(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},e,r;function n(i){i.multi?(t.multi[i.kind].push(i),t.multi.fallback.push(i)):t[i.kind][i.tag]=t.fallback[i.tag]=i}for(e=0,r=arguments.length;e<r;e+=1)arguments[e].forEach(n);return t}function cd(t){return this.extend(t)}cd.prototype.extend=function(e){var r=[],n=[];if(e instanceof Mf)n.push(e);else if(Array.isArray(e))n=n.concat(e);else if(e&&(Array.isArray(e.implicit)||Array.isArray(e.explicit)))e.implicit&&(r=r.concat(e.implicit)),e.explicit&&(n=n.concat(e.explicit));else throw new $a("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof Mf))throw new $a("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new $a("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new $a("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof Mf))throw new $a("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(cd.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=Yg(i,"implicit"),i.compiledExplicit=Yg(i,"explicit"),i.compiledTypeMap=vT(i.compiledImplicit,i.compiledExplicit),i};var Lw=cd,ET=er,Fw=new ET("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),ST=er,Mw=new ST("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),TT=er,Uw=new TT("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),AT=Lw,kw=new AT({explicit:[Fw,Mw,Uw]}),xT=er;function RT(t){if(t===null)return!0;var e=t.length;return e===1&&t==="~"||e===4&&(t==="null"||t==="Null"||t==="NULL")}function OT(){return null}function IT(t){return t===null}var Bw=new xT("tag:yaml.org,2002:null",{kind:"scalar",resolve:RT,construct:OT,predicate:IT,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"}),CT=er;function DT(t){if(t===null)return!1;var e=t.length;return e===4&&(t==="true"||t==="True"||t==="TRUE")||e===5&&(t==="false"||t==="False"||t==="FALSE")}function PT(t){return t==="true"||t==="True"||t==="TRUE"}function $T(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var jw=new CT("tag:yaml.org,2002:bool",{kind:"scalar",resolve:DT,construct:PT,predicate:$T,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"}),NT=Zr,LT=er;function FT(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function MT(t){return 48<=t&&t<=55}function UT(t){return 48<=t&&t<=57}function kT(t){if(t===null)return!1;var e=t.length,r=0,n=!1,i;if(!e)return!1;if(i=t[r],(i==="-"||i==="+")&&(i=t[++r]),i==="0"){if(r+1===e)return!0;if(i=t[++r],i==="b"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(!FT(t.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<e;r++)if(i=t[r],i!=="_"){if(!MT(t.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<e;r++)if(i=t[r],i!=="_"){if(!UT(t.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function BT(t){var e=t,r=1,n;if(e.indexOf("_")!==-1&&(e=e.replace(/_/g,"")),n=e[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),e=e.slice(1),n=e[0]),e==="0")return 0;if(n==="0"){if(e[1]==="b")return r*parseInt(e.slice(2),2);if(e[1]==="x")return r*parseInt(e.slice(2),16);if(e[1]==="o")return r*parseInt(e.slice(2),8)}return r*parseInt(e,10)}function jT(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!NT.isNegativeZero(t)}var Ww=new LT("tag:yaml.org,2002:int",{kind:"scalar",resolve:kT,construct:BT,predicate:jT,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),Gw=Zr,WT=er,GT=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function qT(t){return!(t===null||!GT.test(t)||t[t.length-1]==="_")}function zT(t){var e,r;return e=t.replace(/_/g,"").toLowerCase(),r=e[0]==="-"?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),e===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:e===".nan"?NaN:r*parseFloat(e,10)}var HT=/^[-+]?[0-9]+e/;function VT(t,e){var r;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Gw.isNegativeZero(t))return"-0.0";return r=t.toString(10),HT.test(r)?r.replace("e",".e"):r}function YT(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||Gw.isNegativeZero(t))}var qw=new WT("tag:yaml.org,2002:float",{kind:"scalar",resolve:qT,construct:zT,predicate:YT,represent:VT,defaultStyle:"lowercase"}),zw=kw.extend({implicit:[Bw,jw,Ww,qw]}),Hw=zw,KT=er,Vw=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Yw=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function XT(t){return t===null?!1:Vw.exec(t)!==null||Yw.exec(t)!==null}function ZT(t){var e,r,n,i,s,a,o,l=0,c=null,u,h,d;if(e=Vw.exec(t),e===null&&(e=Yw.exec(t)),e===null)throw new Error("Date resolve error");if(r=+e[1],n=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(r,n,i));if(s=+e[4],a=+e[5],o=+e[6],e[7]){for(l=e[7].slice(0,3);l.length<3;)l+="0";l=+l}return e[9]&&(u=+e[10],h=+(e[11]||0),c=(u*60+h)*6e4,e[9]==="-"&&(c=-c)),d=new Date(Date.UTC(r,n,i,s,a,o,l)),c&&d.setTime(d.getTime()-c),d}function QT(t){return t.toISOString()}var Kw=new KT("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:XT,construct:ZT,instanceOf:Date,represent:QT}),JT=er;function eA(t){return t==="<<"||t===null}var Xw=new JT("tag:yaml.org,2002:merge",{kind:"scalar",resolve:eA}),tA=er,op=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function rA(t){if(t===null)return!1;var e,r,n=0,i=t.length,s=op;for(r=0;r<i;r++)if(e=s.indexOf(t.charAt(r)),!(e>64)){if(e<0)return!1;n+=6}return n%8===0}function nA(t){var e,r,n=t.replace(/[\r\n=]/g,""),i=n.length,s=op,a=0,o=[];for(e=0;e<i;e++)e%4===0&&e&&(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)),a=a<<6|s.indexOf(n.charAt(e));return r=i%4*6,r===0?(o.push(a>>16&255),o.push(a>>8&255),o.push(a&255)):r===18?(o.push(a>>10&255),o.push(a>>2&255)):r===12&&o.push(a>>4&255),new Uint8Array(o)}function iA(t){var e="",r=0,n,i,s=t.length,a=op;for(n=0;n<s;n++)n%3===0&&n&&(e+=a[r>>18&63],e+=a[r>>12&63],e+=a[r>>6&63],e+=a[r&63]),r=(r<<8)+t[n];return i=s%3,i===0?(e+=a[r>>18&63],e+=a[r>>12&63],e+=a[r>>6&63],e+=a[r&63]):i===2?(e+=a[r>>10&63],e+=a[r>>4&63],e+=a[r<<2&63],e+=a[64]):i===1&&(e+=a[r>>2&63],e+=a[r<<4&63],e+=a[64],e+=a[64]),e}function sA(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var Zw=new tA("tag:yaml.org,2002:binary",{kind:"scalar",resolve:rA,construct:nA,predicate:sA,represent:iA}),aA=er,oA=Object.prototype.hasOwnProperty,lA=Object.prototype.toString;function uA(t){if(t===null)return!0;var e=[],r,n,i,s,a,o=t;for(r=0,n=o.length;r<n;r+=1){if(i=o[r],a=!1,lA.call(i)!=="[object Object]")return!1;for(s in i)if(oA.call(i,s))if(!a)a=!0;else return!1;if(!a)return!1;if(e.indexOf(s)===-1)e.push(s);else return!1}return!0}function cA(t){return t!==null?t:[]}var Qw=new aA("tag:yaml.org,2002:omap",{kind:"sequence",resolve:uA,construct:cA}),fA=er,hA=Object.prototype.toString;function dA(t){if(t===null)return!0;var e,r,n,i,s,a=t;for(s=new Array(a.length),e=0,r=a.length;e<r;e+=1){if(n=a[e],hA.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[e]=[i[0],n[i[0]]]}return!0}function pA(t){if(t===null)return[];var e,r,n,i,s,a=t;for(s=new Array(a.length),e=0,r=a.length;e<r;e+=1)n=a[e],i=Object.keys(n),s[e]=[i[0],n[i[0]]];return s}var Jw=new fA("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:dA,construct:pA}),gA=er,mA=Object.prototype.hasOwnProperty;function yA(t){if(t===null)return!0;var e,r=t;for(e in r)if(mA.call(r,e)&&r[e]!==null)return!1;return!0}function wA(t){return t!==null?t:{}}var e_=new gA("tag:yaml.org,2002:set",{kind:"mapping",resolve:yA,construct:wA}),lp=Hw.extend({implicit:[Kw,Xw],explicit:[Zw,Qw,Jw,e_]}),Xi=Zr,t_=nl,_A=mT,bA=lp,Si=Object.prototype.hasOwnProperty,Wu=1,r_=2,n_=3,Gu=4,Uf=1,vA=2,Kg=3,EA=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,SA=/[\x85\u2028\u2029]/,TA=/[,\[\]\{\}]/,i_=/^(?:!|!!|![a-z\-]+!)$/i,s_=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Xg(t){return Object.prototype.toString.call(t)}function cn(t){return t===10||t===13}function ls(t){return t===9||t===32}function ar(t){return t===9||t===32||t===10||t===13}function Ms(t){return t===44||t===91||t===93||t===123||t===125}function AA(t){var e;return 48<=t&&t<=57?t-48:(e=t|32,97<=e&&e<=102?e-97+10:-1)}function xA(t){return t===120?2:t===117?4:t===85?8:0}function RA(t){return 48<=t&&t<=57?t-48:-1}function Zg(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?"":t===76?"\u2028":t===80?"\u2029":""}function OA(t){return t<=65535?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}var a_=new Array(256),o_=new Array(256);for(var Ts=0;Ts<256;Ts++)a_[Ts]=Zg(Ts)?1:0,o_[Ts]=Zg(Ts);function IA(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||bA,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function l_(t,e){var r={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return r.snippet=_A(r),new t_(e,r)}function xe(t,e){throw l_(t,e)}function qu(t,e){t.onWarning&&t.onWarning.call(null,l_(t,e))}var Qg={YAML:function(e,r,n){var i,s,a;e.version!==null&&xe(e,"duplication of %YAML directive"),n.length!==1&&xe(e,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&xe(e,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),a=parseInt(i[2],10),s!==1&&xe(e,"unacceptable YAML version of the document"),e.version=n[0],e.checkLineBreaks=a<2,a!==1&&a!==2&&qu(e,"unsupported YAML version of the document")},TAG:function(e,r,n){var i,s;n.length!==2&&xe(e,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],i_.test(i)||xe(e,"ill-formed tag handle (first argument) of the TAG directive"),Si.call(e.tagMap,i)&&xe(e,'there is a previously declared suffix for "'+i+'" tag handle'),s_.test(s)||xe(e,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{xe(e,"tag prefix is malformed: "+s)}e.tagMap[i]=s}};function gi(t,e,r,n){var i,s,a,o;if(e<r){if(o=t.input.slice(e,r),n)for(i=0,s=o.length;i<s;i+=1)a=o.charCodeAt(i),a===9||32<=a&&a<=1114111||xe(t,"expected valid JSON character");else EA.test(o)&&xe(t,"the stream contains non-printable characters");t.result+=o}}function Jg(t,e,r,n){var i,s,a,o;for(Xi.isObject(r)||xe(t,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),a=0,o=i.length;a<o;a+=1)s=i[a],Si.call(e,s)||(e[s]=r[s],n[s]=!0)}function Us(t,e,r,n,i,s,a,o,l){var c,u;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,u=i.length;c<u;c+=1)Array.isArray(i[c])&&xe(t,"nested arrays are not supported inside keys"),typeof i=="object"&&Xg(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&Xg(i)==="[object Object]"&&(i="[object Object]"),i=String(i),e===null&&(e={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(c=0,u=s.length;c<u;c+=1)Jg(t,e,s[c],r);else Jg(t,e,s,r);else!t.json&&!Si.call(r,i)&&Si.call(e,i)&&(t.line=a||t.line,t.lineStart=o||t.lineStart,t.position=l||t.position,xe(t,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:s}):e[i]=s,delete r[i];return e}function up(t){var e;e=t.input.charCodeAt(t.position),e===10?t.position++:e===13?(t.position++,t.input.charCodeAt(t.position)===10&&t.position++):xe(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function bt(t,e,r){for(var n=0,i=t.input.charCodeAt(t.position);i!==0;){for(;ls(i);)i===9&&t.firstTabInLine===-1&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&i===35)do i=t.input.charCodeAt(++t.position);while(i!==10&&i!==13&&i!==0);if(cn(i))for(up(t),i=t.input.charCodeAt(t.position),n++,t.lineIndent=0;i===32;)t.lineIndent++,i=t.input.charCodeAt(++t.position);else break}return r!==-1&&n!==0&&t.lineIndent<r&&qu(t,"deficient indentation"),n}function xc(t){var e=t.position,r;return r=t.input.charCodeAt(e),!!((r===45||r===46)&&r===t.input.charCodeAt(e+1)&&r===t.input.charCodeAt(e+2)&&(e+=3,r=t.input.charCodeAt(e),r===0||ar(r)))}function cp(t,e){e===1?t.result+=" ":e>1&&(t.result+=Xi.repeat(`
`,e-1))}function CA(t,e,r){var n,i,s,a,o,l,c,u,h=t.kind,d=t.result,b;if(b=t.input.charCodeAt(t.position),ar(b)||Ms(b)||b===35||b===38||b===42||b===33||b===124||b===62||b===39||b===34||b===37||b===64||b===96||(b===63||b===45)&&(i=t.input.charCodeAt(t.position+1),ar(i)||r&&Ms(i)))return!1;for(t.kind="scalar",t.result="",s=a=t.position,o=!1;b!==0;){if(b===58){if(i=t.input.charCodeAt(t.position+1),ar(i)||r&&Ms(i))break}else if(b===35){if(n=t.input.charCodeAt(t.position-1),ar(n))break}else{if(t.position===t.lineStart&&xc(t)||r&&Ms(b))break;if(cn(b))if(l=t.line,c=t.lineStart,u=t.lineIndent,bt(t,!1,-1),t.lineIndent>=e){o=!0,b=t.input.charCodeAt(t.position);continue}else{t.position=a,t.line=l,t.lineStart=c,t.lineIndent=u;break}}o&&(gi(t,s,a,!1),cp(t,t.line-l),s=a=t.position,o=!1),ls(b)||(a=t.position+1),b=t.input.charCodeAt(++t.position)}return gi(t,s,a,!1),t.result?!0:(t.kind=h,t.result=d,!1)}function DA(t,e){var r,n,i;if(r=t.input.charCodeAt(t.position),r!==39)return!1;for(t.kind="scalar",t.result="",t.position++,n=i=t.position;(r=t.input.charCodeAt(t.position))!==0;)if(r===39)if(gi(t,n,t.position,!0),r=t.input.charCodeAt(++t.position),r===39)n=t.position,t.position++,i=t.position;else return!0;else cn(r)?(gi(t,n,i,!0),cp(t,bt(t,!1,e)),n=i=t.position):t.position===t.lineStart&&xc(t)?xe(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);xe(t,"unexpected end of the stream within a single quoted scalar")}function PA(t,e){var r,n,i,s,a,o;if(o=t.input.charCodeAt(t.position),o!==34)return!1;for(t.kind="scalar",t.result="",t.position++,r=n=t.position;(o=t.input.charCodeAt(t.position))!==0;){if(o===34)return gi(t,r,t.position,!0),t.position++,!0;if(o===92){if(gi(t,r,t.position,!0),o=t.input.charCodeAt(++t.position),cn(o))bt(t,!1,e);else if(o<256&&a_[o])t.result+=o_[o],t.position++;else if((a=xA(o))>0){for(i=a,s=0;i>0;i--)o=t.input.charCodeAt(++t.position),(a=AA(o))>=0?s=(s<<4)+a:xe(t,"expected hexadecimal character");t.result+=OA(s),t.position++}else xe(t,"unknown escape sequence");r=n=t.position}else cn(o)?(gi(t,r,n,!0),cp(t,bt(t,!1,e)),r=n=t.position):t.position===t.lineStart&&xc(t)?xe(t,"unexpected end of the document within a double quoted scalar"):(t.position++,n=t.position)}xe(t,"unexpected end of the stream within a double quoted scalar")}function $A(t,e){var r=!0,n,i,s,a=t.tag,o,l=t.anchor,c,u,h,d,b,T=Object.create(null),w,E,p,m;if(m=t.input.charCodeAt(t.position),m===91)u=93,b=!1,o=[];else if(m===123)u=125,b=!0,o={};else return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=o),m=t.input.charCodeAt(++t.position);m!==0;){if(bt(t,!0,e),m=t.input.charCodeAt(t.position),m===u)return t.position++,t.tag=a,t.anchor=l,t.kind=b?"mapping":"sequence",t.result=o,!0;r?m===44&&xe(t,"expected the node content, but found ','"):xe(t,"missed comma between flow collection entries"),E=w=p=null,h=d=!1,m===63&&(c=t.input.charCodeAt(t.position+1),ar(c)&&(h=d=!0,t.position++,bt(t,!0,e))),n=t.line,i=t.lineStart,s=t.position,aa(t,e,Wu,!1,!0),E=t.tag,w=t.result,bt(t,!0,e),m=t.input.charCodeAt(t.position),(d||t.line===n)&&m===58&&(h=!0,m=t.input.charCodeAt(++t.position),bt(t,!0,e),aa(t,e,Wu,!1,!0),p=t.result),b?Us(t,o,T,E,w,p,n,i,s):h?o.push(Us(t,null,T,E,w,p,n,i,s)):o.push(w),bt(t,!0,e),m=t.input.charCodeAt(t.position),m===44?(r=!0,m=t.input.charCodeAt(++t.position)):r=!1}xe(t,"unexpected end of the stream within a flow collection")}function NA(t,e){var r,n,i=Uf,s=!1,a=!1,o=e,l=0,c=!1,u,h;if(h=t.input.charCodeAt(t.position),h===124)n=!1;else if(h===62)n=!0;else return!1;for(t.kind="scalar",t.result="";h!==0;)if(h=t.input.charCodeAt(++t.position),h===43||h===45)Uf===i?i=h===43?Kg:vA:xe(t,"repeat of a chomping mode identifier");else if((u=RA(h))>=0)u===0?xe(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):a?xe(t,"repeat of an indentation width identifier"):(o=e+u-1,a=!0);else break;if(ls(h)){do h=t.input.charCodeAt(++t.position);while(ls(h));if(h===35)do h=t.input.charCodeAt(++t.position);while(!cn(h)&&h!==0)}for(;h!==0;){for(up(t),t.lineIndent=0,h=t.input.charCodeAt(t.position);(!a||t.lineIndent<o)&&h===32;)t.lineIndent++,h=t.input.charCodeAt(++t.position);if(!a&&t.lineIndent>o&&(o=t.lineIndent),cn(h)){l++;continue}if(t.lineIndent<o){i===Kg?t.result+=Xi.repeat(`
`,s?1+l:l):i===Uf&&s&&(t.result+=`
`);break}for(n?ls(h)?(c=!0,t.result+=Xi.repeat(`
`,s?1+l:l)):c?(c=!1,t.result+=Xi.repeat(`
`,l+1)):l===0?s&&(t.result+=" "):t.result+=Xi.repeat(`
`,l):t.result+=Xi.repeat(`
`,s?1+l:l),s=!0,a=!0,l=0,r=t.position;!cn(h)&&h!==0;)h=t.input.charCodeAt(++t.position);gi(t,r,t.position,!1)}return!0}function em(t,e){var r,n=t.tag,i=t.anchor,s=[],a,o=!1,l;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=s),l=t.input.charCodeAt(t.position);l!==0&&(t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,xe(t,"tab characters must not be used in indentation")),!(l!==45||(a=t.input.charCodeAt(t.position+1),!ar(a))));){if(o=!0,t.position++,bt(t,!0,-1)&&t.lineIndent<=e){s.push(null),l=t.input.charCodeAt(t.position);continue}if(r=t.line,aa(t,e,n_,!1,!0),s.push(t.result),bt(t,!0,-1),l=t.input.charCodeAt(t.position),(t.line===r||t.lineIndent>e)&&l!==0)xe(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break}return o?(t.tag=n,t.anchor=i,t.kind="sequence",t.result=s,!0):!1}function LA(t,e,r){var n,i,s,a,o,l,c=t.tag,u=t.anchor,h={},d=Object.create(null),b=null,T=null,w=null,E=!1,p=!1,m;if(t.firstTabInLine!==-1)return!1;for(t.anchor!==null&&(t.anchorMap[t.anchor]=h),m=t.input.charCodeAt(t.position);m!==0;){if(!E&&t.firstTabInLine!==-1&&(t.position=t.firstTabInLine,xe(t,"tab characters must not be used in indentation")),n=t.input.charCodeAt(t.position+1),s=t.line,(m===63||m===58)&&ar(n))m===63?(E&&(Us(t,h,d,b,T,null,a,o,l),b=T=w=null),p=!0,E=!0,i=!0):E?(E=!1,i=!0):xe(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,m=n;else{if(a=t.line,o=t.lineStart,l=t.position,!aa(t,r,r_,!1,!0))break;if(t.line===s){for(m=t.input.charCodeAt(t.position);ls(m);)m=t.input.charCodeAt(++t.position);if(m===58)m=t.input.charCodeAt(++t.position),ar(m)||xe(t,"a whitespace character is expected after the key-value separator within a block mapping"),E&&(Us(t,h,d,b,T,null,a,o,l),b=T=w=null),p=!0,E=!1,i=!1,b=t.tag,T=t.result;else if(p)xe(t,"can not read an implicit mapping pair; a colon is missed");else return t.tag=c,t.anchor=u,!0}else if(p)xe(t,"can not read a block mapping entry; a multiline key may not be an implicit key");else return t.tag=c,t.anchor=u,!0}if((t.line===s||t.lineIndent>e)&&(E&&(a=t.line,o=t.lineStart,l=t.position),aa(t,e,Gu,!0,i)&&(E?T=t.result:w=t.result),E||(Us(t,h,d,b,T,w,a,o,l),b=T=w=null),bt(t,!0,-1),m=t.input.charCodeAt(t.position)),(t.line===s||t.lineIndent>e)&&m!==0)xe(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return E&&Us(t,h,d,b,T,null,a,o,l),p&&(t.tag=c,t.anchor=u,t.kind="mapping",t.result=h),p}function FA(t){var e,r=!1,n=!1,i,s,a;if(a=t.input.charCodeAt(t.position),a!==33)return!1;if(t.tag!==null&&xe(t,"duplication of a tag property"),a=t.input.charCodeAt(++t.position),a===60?(r=!0,a=t.input.charCodeAt(++t.position)):a===33?(n=!0,i="!!",a=t.input.charCodeAt(++t.position)):i="!",e=t.position,r){do a=t.input.charCodeAt(++t.position);while(a!==0&&a!==62);t.position<t.length?(s=t.input.slice(e,t.position),a=t.input.charCodeAt(++t.position)):xe(t,"unexpected end of the stream within a verbatim tag")}else{for(;a!==0&&!ar(a);)a===33&&(n?xe(t,"tag suffix cannot contain exclamation marks"):(i=t.input.slice(e-1,t.position+1),i_.test(i)||xe(t,"named tag handle cannot contain such characters"),n=!0,e=t.position+1)),a=t.input.charCodeAt(++t.position);s=t.input.slice(e,t.position),TA.test(s)&&xe(t,"tag suffix cannot contain flow indicator characters")}s&&!s_.test(s)&&xe(t,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{xe(t,"tag name is malformed: "+s)}return r?t.tag=s:Si.call(t.tagMap,i)?t.tag=t.tagMap[i]+s:i==="!"?t.tag="!"+s:i==="!!"?t.tag="tag:yaml.org,2002:"+s:xe(t,'undeclared tag handle "'+i+'"'),!0}function MA(t){var e,r;if(r=t.input.charCodeAt(t.position),r!==38)return!1;for(t.anchor!==null&&xe(t,"duplication of an anchor property"),r=t.input.charCodeAt(++t.position),e=t.position;r!==0&&!ar(r)&&!Ms(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&xe(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function UA(t){var e,r,n;if(n=t.input.charCodeAt(t.position),n!==42)return!1;for(n=t.input.charCodeAt(++t.position),e=t.position;n!==0&&!ar(n)&&!Ms(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&xe(t,"name of an alias node must contain at least one character"),r=t.input.slice(e,t.position),Si.call(t.anchorMap,r)||xe(t,'unidentified alias "'+r+'"'),t.result=t.anchorMap[r],bt(t,!0,-1),!0}function aa(t,e,r,n,i){var s,a,o,l=1,c=!1,u=!1,h,d,b,T,w,E;if(t.listener!==null&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=a=o=Gu===r||n_===r,n&&bt(t,!0,-1)&&(c=!0,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)),l===1)for(;FA(t)||MA(t);)bt(t,!0,-1)?(c=!0,o=s,t.lineIndent>e?l=1:t.lineIndent===e?l=0:t.lineIndent<e&&(l=-1)):o=!1;if(o&&(o=c||i),(l===1||Gu===r)&&(Wu===r||r_===r?w=e:w=e+1,E=t.position-t.lineStart,l===1?o&&(em(t,E)||LA(t,E,w))||$A(t,w)?u=!0:(a&&NA(t,w)||DA(t,w)||PA(t,w)?u=!0:UA(t)?(u=!0,(t.tag!==null||t.anchor!==null)&&xe(t,"alias node should not have any properties")):CA(t,w,Wu===r)&&(u=!0,t.tag===null&&(t.tag="?")),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):l===0&&(u=o&&em(t,E))),t.tag===null)t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);else if(t.tag==="?"){for(t.result!==null&&t.kind!=="scalar"&&xe(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),h=0,d=t.implicitTypes.length;h<d;h+=1)if(T=t.implicitTypes[h],T.resolve(t.result)){t.result=T.construct(t.result),t.tag=T.tag,t.anchor!==null&&(t.anchorMap[t.anchor]=t.result);break}}else if(t.tag!=="!"){if(Si.call(t.typeMap[t.kind||"fallback"],t.tag))T=t.typeMap[t.kind||"fallback"][t.tag];else for(T=null,b=t.typeMap.multi[t.kind||"fallback"],h=0,d=b.length;h<d;h+=1)if(t.tag.slice(0,b[h].tag.length)===b[h].tag){T=b[h];break}T||xe(t,"unknown tag !<"+t.tag+">"),t.result!==null&&T.kind!==t.kind&&xe(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+T.kind+'", not "'+t.kind+'"'),T.resolve(t.result,t.tag)?(t.result=T.construct(t.result,t.tag),t.anchor!==null&&(t.anchorMap[t.anchor]=t.result)):xe(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return t.listener!==null&&t.listener("close",t),t.tag!==null||t.anchor!==null||u}function kA(t){var e=t.position,r,n,i,s=!1,a;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);(a=t.input.charCodeAt(t.position))!==0&&(bt(t,!0,-1),a=t.input.charCodeAt(t.position),!(t.lineIndent>0||a!==37));){for(s=!0,a=t.input.charCodeAt(++t.position),r=t.position;a!==0&&!ar(a);)a=t.input.charCodeAt(++t.position);for(n=t.input.slice(r,t.position),i=[],n.length<1&&xe(t,"directive name must not be less than one character in length");a!==0;){for(;ls(a);)a=t.input.charCodeAt(++t.position);if(a===35){do a=t.input.charCodeAt(++t.position);while(a!==0&&!cn(a));break}if(cn(a))break;for(r=t.position;a!==0&&!ar(a);)a=t.input.charCodeAt(++t.position);i.push(t.input.slice(r,t.position))}a!==0&&up(t),Si.call(Qg,n)?Qg[n](t,n,i):qu(t,'unknown document directive "'+n+'"')}if(bt(t,!0,-1),t.lineIndent===0&&t.input.charCodeAt(t.position)===45&&t.input.charCodeAt(t.position+1)===45&&t.input.charCodeAt(t.position+2)===45?(t.position+=3,bt(t,!0,-1)):s&&xe(t,"directives end mark is expected"),aa(t,t.lineIndent-1,Gu,!1,!0),bt(t,!0,-1),t.checkLineBreaks&&SA.test(t.input.slice(e,t.position))&&qu(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&xc(t)){t.input.charCodeAt(t.position)===46&&(t.position+=3,bt(t,!0,-1));return}if(t.position<t.length-1)xe(t,"end of the stream or a document separator is expected");else return}function u_(t,e){t=String(t),e=e||{},t.length!==0&&(t.charCodeAt(t.length-1)!==10&&t.charCodeAt(t.length-1)!==13&&(t+=`
`),t.charCodeAt(0)===65279&&(t=t.slice(1)));var r=new IA(t,e),n=t.indexOf("\0");for(n!==-1&&(r.position=n,xe(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)kA(r);return r.documents}function BA(t,e,r){e!==null&&typeof e=="object"&&typeof r>"u"&&(r=e,e=null);var n=u_(t,r);if(typeof e!="function")return n;for(var i=0,s=n.length;i<s;i+=1)e(n[i])}function jA(t,e){var r=u_(t,e);if(r.length!==0){if(r.length===1)return r[0];throw new t_("expected a single document in the stream, but found more")}}ap.loadAll=BA;ap.load=jA;var c_={},Rc=Zr,il=nl,WA=lp,f_=Object.prototype.toString,h_=Object.prototype.hasOwnProperty,fp=65279,GA=9,so=10,qA=13,zA=32,HA=33,VA=34,fd=35,YA=37,KA=38,XA=39,ZA=42,d_=44,QA=45,zu=58,JA=61,ex=62,tx=63,rx=64,p_=91,g_=93,nx=96,m_=123,ix=124,y_=125,zt={};zt[0]="\\0";zt[7]="\\a";zt[8]="\\b";zt[9]="\\t";zt[10]="\\n";zt[11]="\\v";zt[12]="\\f";zt[13]="\\r";zt[27]="\\e";zt[34]='\\"';zt[92]="\\\\";zt[133]="\\N";zt[160]="\\_";zt[8232]="\\L";zt[8233]="\\P";var sx=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],ax=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function ox(t,e){var r,n,i,s,a,o,l;if(e===null)return{};for(r={},n=Object.keys(e),i=0,s=n.length;i<s;i+=1)a=n[i],o=String(e[a]),a.slice(0,2)==="!!"&&(a="tag:yaml.org,2002:"+a.slice(2)),l=t.compiledTypeMap.fallback[a],l&&h_.call(l.styleAliases,o)&&(o=l.styleAliases[o]),r[a]=o;return r}function lx(t){var e,r,n;if(e=t.toString(16).toUpperCase(),t<=255)r="x",n=2;else if(t<=65535)r="u",n=4;else if(t<=4294967295)r="U",n=8;else throw new il("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+Rc.repeat("0",n-e.length)+e}var ux=1,ao=2;function cx(t){this.schema=t.schema||WA,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=Rc.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=ox(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType=t.quotingType==='"'?ao:ux,this.forceQuotes=t.forceQuotes||!1,this.replacer=typeof t.replacer=="function"?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function tm(t,e){for(var r=Rc.repeat(" ",e),n=0,i=-1,s="",a,o=t.length;n<o;)i=t.indexOf(`
`,n),i===-1?(a=t.slice(n),n=o):(a=t.slice(n,i+1),n=i+1),a.length&&a!==`
`&&(s+=r),s+=a;return s}function hd(t,e){return`
`+Rc.repeat(" ",t.indent*e)}function fx(t,e){var r,n,i;for(r=0,n=t.implicitTypes.length;r<n;r+=1)if(i=t.implicitTypes[r],i.resolve(e))return!0;return!1}function Hu(t){return t===zA||t===GA}function oo(t){return 32<=t&&t<=126||161<=t&&t<=55295&&t!==8232&&t!==8233||57344<=t&&t<=65533&&t!==fp||65536<=t&&t<=1114111}function rm(t){return oo(t)&&t!==fp&&t!==qA&&t!==so}function nm(t,e,r){var n=rm(t),i=n&&!Hu(t);return(r?n:n&&t!==d_&&t!==p_&&t!==g_&&t!==m_&&t!==y_)&&t!==fd&&!(e===zu&&!i)||rm(e)&&!Hu(e)&&t===fd||e===zu&&i}function hx(t){return oo(t)&&t!==fp&&!Hu(t)&&t!==QA&&t!==tx&&t!==zu&&t!==d_&&t!==p_&&t!==g_&&t!==m_&&t!==y_&&t!==fd&&t!==KA&&t!==ZA&&t!==HA&&t!==ix&&t!==JA&&t!==ex&&t!==XA&&t!==VA&&t!==YA&&t!==rx&&t!==nx}function dx(t){return!Hu(t)&&t!==zu}function za(t,e){var r=t.charCodeAt(e),n;return r>=55296&&r<=56319&&e+1<t.length&&(n=t.charCodeAt(e+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function w_(t){var e=/^\n* /;return e.test(t)}var __=1,dd=2,b_=3,v_=4,Ns=5;function px(t,e,r,n,i,s,a,o){var l,c=0,u=null,h=!1,d=!1,b=n!==-1,T=-1,w=hx(za(t,0))&&dx(za(t,t.length-1));if(e||a)for(l=0;l<t.length;c>=65536?l+=2:l++){if(c=za(t,l),!oo(c))return Ns;w=w&&nm(c,u,o),u=c}else{for(l=0;l<t.length;c>=65536?l+=2:l++){if(c=za(t,l),c===so)h=!0,b&&(d=d||l-T-1>n&&t[T+1]!==" ",T=l);else if(!oo(c))return Ns;w=w&&nm(c,u,o),u=c}d=d||b&&l-T-1>n&&t[T+1]!==" "}return!h&&!d?w&&!a&&!i(t)?__:s===ao?Ns:dd:r>9&&w_(t)?Ns:a?s===ao?Ns:dd:d?v_:b_}function gx(t,e,r,n,i){t.dump=function(){if(e.length===0)return t.quotingType===ao?'""':"''";if(!t.noCompatMode&&(sx.indexOf(e)!==-1||ax.test(e)))return t.quotingType===ao?'"'+e+'"':"'"+e+"'";var s=t.indent*Math.max(1,r),a=t.lineWidth===-1?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-s),o=n||t.flowLevel>-1&&r>=t.flowLevel;function l(c){return fx(t,c)}switch(px(e,o,t.indent,a,l,t.quotingType,t.forceQuotes&&!n,i)){case __:return e;case dd:return"'"+e.replace(/'/g,"''")+"'";case b_:return"|"+im(e,t.indent)+sm(tm(e,s));case v_:return">"+im(e,t.indent)+sm(tm(mx(e,a),s));case Ns:return'"'+yx(e)+'"';default:throw new il("impossible error: invalid scalar style")}}()}function im(t,e){var r=w_(t)?String(e):"",n=t[t.length-1]===`
`,i=n&&(t[t.length-2]===`
`||t===`
`),s=i?"+":n?"":"-";return r+s+`
`}function sm(t){return t[t.length-1]===`
`?t.slice(0,-1):t}function mx(t,e){for(var r=/(\n+)([^\n]*)/g,n=function(){var c=t.indexOf(`
`);return c=c!==-1?c:t.length,r.lastIndex=c,am(t.slice(0,c),e)}(),i=t[0]===`
`||t[0]===" ",s,a;a=r.exec(t);){var o=a[1],l=a[2];s=l[0]===" ",n+=o+(!i&&!s&&l!==""?`
`:"")+am(l,e),i=s}return n}function am(t,e){if(t===""||t[0]===" ")return t;for(var r=/ [^ ]/g,n,i=0,s,a=0,o=0,l="";n=r.exec(t);)o=n.index,o-i>e&&(s=a>i?a:o,l+=`
`+t.slice(i,s),i=s+1),a=o;return l+=`
`,t.length-i>e&&a>i?l+=t.slice(i,a)+`
`+t.slice(a+1):l+=t.slice(i),l.slice(1)}function yx(t){for(var e="",r=0,n,i=0;i<t.length;r>=65536?i+=2:i++)r=za(t,i),n=zt[r],!n&&oo(r)?(e+=t[i],r>=65536&&(e+=t[i+1])):e+=n||lx(r);return e}function wx(t,e,r){var n="",i=t.tag,s,a,o;for(s=0,a=r.length;s<a;s+=1)o=r[s],t.replacer&&(o=t.replacer.call(r,String(s),o)),(Ln(t,e,o,!1,!1)||typeof o>"u"&&Ln(t,e,null,!1,!1))&&(n!==""&&(n+=","+(t.condenseFlow?"":" ")),n+=t.dump);t.tag=i,t.dump="["+n+"]"}function om(t,e,r,n){var i="",s=t.tag,a,o,l;for(a=0,o=r.length;a<o;a+=1)l=r[a],t.replacer&&(l=t.replacer.call(r,String(a),l)),(Ln(t,e+1,l,!0,!0,!1,!0)||typeof l>"u"&&Ln(t,e+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=hd(t,e)),t.dump&&so===t.dump.charCodeAt(0)?i+="-":i+="- ",i+=t.dump);t.tag=s,t.dump=i||"[]"}function _x(t,e,r){var n="",i=t.tag,s=Object.keys(r),a,o,l,c,u;for(a=0,o=s.length;a<o;a+=1)u="",n!==""&&(u+=", "),t.condenseFlow&&(u+='"'),l=s[a],c=r[l],t.replacer&&(c=t.replacer.call(r,l,c)),Ln(t,e,l,!1,!1)&&(t.dump.length>1024&&(u+="? "),u+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),Ln(t,e,c,!1,!1)&&(u+=t.dump,n+=u));t.tag=i,t.dump="{"+n+"}"}function bx(t,e,r,n){var i="",s=t.tag,a=Object.keys(r),o,l,c,u,h,d;if(t.sortKeys===!0)a.sort();else if(typeof t.sortKeys=="function")a.sort(t.sortKeys);else if(t.sortKeys)throw new il("sortKeys must be a boolean or a function");for(o=0,l=a.length;o<l;o+=1)d="",(!n||i!=="")&&(d+=hd(t,e)),c=a[o],u=r[c],t.replacer&&(u=t.replacer.call(r,c,u)),Ln(t,e+1,c,!0,!0,!0)&&(h=t.tag!==null&&t.tag!=="?"||t.dump&&t.dump.length>1024,h&&(t.dump&&so===t.dump.charCodeAt(0)?d+="?":d+="? "),d+=t.dump,h&&(d+=hd(t,e)),Ln(t,e+1,u,!0,h)&&(t.dump&&so===t.dump.charCodeAt(0)?d+=":":d+=": ",d+=t.dump,i+=d));t.tag=s,t.dump=i||"{}"}function lm(t,e,r){var n,i,s,a,o,l;for(i=r?t.explicitTypes:t.implicitTypes,s=0,a=i.length;s<a;s+=1)if(o=i[s],(o.instanceOf||o.predicate)&&(!o.instanceOf||typeof e=="object"&&e instanceof o.instanceOf)&&(!o.predicate||o.predicate(e))){if(r?o.multi&&o.representName?t.tag=o.representName(e):t.tag=o.tag:t.tag="?",o.represent){if(l=t.styleMap[o.tag]||o.defaultStyle,f_.call(o.represent)==="[object Function]")n=o.represent(e,l);else if(h_.call(o.represent,l))n=o.represent[l](e,l);else throw new il("!<"+o.tag+'> tag resolver accepts not "'+l+'" style');t.dump=n}return!0}return!1}function Ln(t,e,r,n,i,s,a){t.tag=null,t.dump=r,lm(t,r,!1)||lm(t,r,!0);var o=f_.call(t.dump),l=n,c;n&&(n=t.flowLevel<0||t.flowLevel>e);var u=o==="[object Object]"||o==="[object Array]",h,d;if(u&&(h=t.duplicates.indexOf(r),d=h!==-1),(t.tag!==null&&t.tag!=="?"||d||t.indent!==2&&e>0)&&(i=!1),d&&t.usedDuplicates[h])t.dump="*ref_"+h;else{if(u&&d&&!t.usedDuplicates[h]&&(t.usedDuplicates[h]=!0),o==="[object Object]")n&&Object.keys(t.dump).length!==0?(bx(t,e,t.dump,i),d&&(t.dump="&ref_"+h+t.dump)):(_x(t,e,t.dump),d&&(t.dump="&ref_"+h+" "+t.dump));else if(o==="[object Array]")n&&t.dump.length!==0?(t.noArrayIndent&&!a&&e>0?om(t,e-1,t.dump,i):om(t,e,t.dump,i),d&&(t.dump="&ref_"+h+t.dump)):(wx(t,e,t.dump),d&&(t.dump="&ref_"+h+" "+t.dump));else if(o==="[object String]")t.tag!=="?"&&gx(t,t.dump,e,s,l);else{if(o==="[object Undefined]")return!1;if(t.skipInvalid)return!1;throw new il("unacceptable kind of an object to dump "+o)}t.tag!==null&&t.tag!=="?"&&(c=encodeURI(t.tag[0]==="!"?t.tag.slice(1):t.tag).replace(/!/g,"%21"),t.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",t.dump=c+" "+t.dump)}return!0}function vx(t,e){var r=[],n=[],i,s;for(pd(t,r,n),i=0,s=n.length;i<s;i+=1)e.duplicates.push(r[n[i]]);e.usedDuplicates=new Array(s)}function pd(t,e,r){var n,i,s;if(t!==null&&typeof t=="object")if(i=e.indexOf(t),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(e.push(t),Array.isArray(t))for(i=0,s=t.length;i<s;i+=1)pd(t[i],e,r);else for(n=Object.keys(t),i=0,s=n.length;i<s;i+=1)pd(t[n[i]],e,r)}function Ex(t,e){e=e||{};var r=new cx(e);r.noRefs||vx(t,r);var n=t;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Ln(r,0,n,!0,!0)?r.dump+`
`:""}c_.dump=Ex;var E_=ap,Sx=c_;function hp(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}Wt.Type=er;Wt.Schema=Lw;Wt.FAILSAFE_SCHEMA=kw;Wt.JSON_SCHEMA=zw;Wt.CORE_SCHEMA=Hw;Wt.DEFAULT_SCHEMA=lp;Wt.load=E_.load;Wt.loadAll=E_.loadAll;Wt.dump=Sx.dump;Wt.YAMLException=nl;Wt.types={binary:Zw,float:qw,map:Uw,null:Bw,pairs:Jw,set:e_,timestamp:Kw,bool:jw,int:Ww,merge:Xw,omap:Qw,seq:Mw,str:Fw};Wt.safeLoad=hp("safeLoad","load");Wt.safeLoadAll=hp("safeLoadAll","loadAll");Wt.safeDump=hp("safeDump","dump");var Oc={};Object.defineProperty(Oc,"__esModule",{value:!0});Oc.Lazy=void 0;class Tx{constructor(e){this._value=null,this.creator=e}get hasValue(){return this.creator==null}get value(){if(this.creator==null)return this._value;const e=this.creator();return this.value=e,e}set value(e){this._value=e,this.creator=null}}Oc.Lazy=Tx;var gd={exports:{}};const Ax="2.0.0",S_=256,xx=Number.MAX_SAFE_INTEGER||9007199254740991,Rx=16,Ox=S_-6,Ix=["major","premajor","minor","preminor","patch","prepatch","prerelease"];var Ic={MAX_LENGTH:S_,MAX_SAFE_COMPONENT_LENGTH:Rx,MAX_SAFE_BUILD_LENGTH:Ox,MAX_SAFE_INTEGER:xx,RELEASE_TYPES:Ix,SEMVER_SPEC_VERSION:Ax,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2};const Cx=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};var Cc=Cx;(function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:n,MAX_LENGTH:i}=Ic,s=Cc;e=t.exports={};const a=e.re=[],o=e.safeRe=[],l=e.src=[],c=e.safeSrc=[],u=e.t={};let h=0;const d="[a-zA-Z0-9-]",b=[["\\s",1],["\\d",i],[d,n]],T=E=>{for(const[p,m]of b)E=E.split(`${p}*`).join(`${p}{0,${m}}`).split(`${p}+`).join(`${p}{1,${m}}`);return E},w=(E,p,m)=>{const v=T(p),N=h++;s(E,N,p),u[E]=N,l[N]=p,c[N]=v,a[N]=new RegExp(p,m?"g":void 0),o[N]=new RegExp(v,m?"g":void 0)};w("NUMERICIDENTIFIER","0|[1-9]\\d*"),w("NUMERICIDENTIFIERLOOSE","\\d+"),w("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${d}*`),w("MAINVERSION",`(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})\\.(${l[u.NUMERICIDENTIFIER]})`),w("MAINVERSIONLOOSE",`(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})\\.(${l[u.NUMERICIDENTIFIERLOOSE]})`),w("PRERELEASEIDENTIFIER",`(?:${l[u.NONNUMERICIDENTIFIER]}|${l[u.NUMERICIDENTIFIER]})`),w("PRERELEASEIDENTIFIERLOOSE",`(?:${l[u.NONNUMERICIDENTIFIER]}|${l[u.NUMERICIDENTIFIERLOOSE]})`),w("PRERELEASE",`(?:-(${l[u.PRERELEASEIDENTIFIER]}(?:\\.${l[u.PRERELEASEIDENTIFIER]})*))`),w("PRERELEASELOOSE",`(?:-?(${l[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${l[u.PRERELEASEIDENTIFIERLOOSE]})*))`),w("BUILDIDENTIFIER",`${d}+`),w("BUILD",`(?:\\+(${l[u.BUILDIDENTIFIER]}(?:\\.${l[u.BUILDIDENTIFIER]})*))`),w("FULLPLAIN",`v?${l[u.MAINVERSION]}${l[u.PRERELEASE]}?${l[u.BUILD]}?`),w("FULL",`^${l[u.FULLPLAIN]}$`),w("LOOSEPLAIN",`[v=\\s]*${l[u.MAINVERSIONLOOSE]}${l[u.PRERELEASELOOSE]}?${l[u.BUILD]}?`),w("LOOSE",`^${l[u.LOOSEPLAIN]}$`),w("GTLT","((?:<|>)?=?)"),w("XRANGEIDENTIFIERLOOSE",`${l[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),w("XRANGEIDENTIFIER",`${l[u.NUMERICIDENTIFIER]}|x|X|\\*`),w("XRANGEPLAIN",`[v=\\s]*(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:\\.(${l[u.XRANGEIDENTIFIER]})(?:${l[u.PRERELEASE]})?${l[u.BUILD]}?)?)?`),w("XRANGEPLAINLOOSE",`[v=\\s]*(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${l[u.XRANGEIDENTIFIERLOOSE]})(?:${l[u.PRERELEASELOOSE]})?${l[u.BUILD]}?)?)?`),w("XRANGE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAIN]}$`),w("XRANGELOOSE",`^${l[u.GTLT]}\\s*${l[u.XRANGEPLAINLOOSE]}$`),w("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),w("COERCE",`${l[u.COERCEPLAIN]}(?:$|[^\\d])`),w("COERCEFULL",l[u.COERCEPLAIN]+`(?:${l[u.PRERELEASE]})?(?:${l[u.BUILD]})?(?:$|[^\\d])`),w("COERCERTL",l[u.COERCE],!0),w("COERCERTLFULL",l[u.COERCEFULL],!0),w("LONETILDE","(?:~>?)"),w("TILDETRIM",`(\\s*)${l[u.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",w("TILDE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAIN]}$`),w("TILDELOOSE",`^${l[u.LONETILDE]}${l[u.XRANGEPLAINLOOSE]}$`),w("LONECARET","(?:\\^)"),w("CARETTRIM",`(\\s*)${l[u.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",w("CARET",`^${l[u.LONECARET]}${l[u.XRANGEPLAIN]}$`),w("CARETLOOSE",`^${l[u.LONECARET]}${l[u.XRANGEPLAINLOOSE]}$`),w("COMPARATORLOOSE",`^${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]})$|^$`),w("COMPARATOR",`^${l[u.GTLT]}\\s*(${l[u.FULLPLAIN]})$|^$`),w("COMPARATORTRIM",`(\\s*)${l[u.GTLT]}\\s*(${l[u.LOOSEPLAIN]}|${l[u.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",w("HYPHENRANGE",`^\\s*(${l[u.XRANGEPLAIN]})\\s+-\\s+(${l[u.XRANGEPLAIN]})\\s*$`),w("HYPHENRANGELOOSE",`^\\s*(${l[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${l[u.XRANGEPLAINLOOSE]})\\s*$`),w("STAR","(<|>)?=?\\s*\\*"),w("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),w("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(gd,gd.exports);var sl=gd.exports;const Dx=Object.freeze({loose:!0}),Px=Object.freeze({}),$x=t=>t?typeof t!="object"?Dx:t:Px;var dp=$x;const um=/^[0-9]+$/,T_=(t,e)=>{const r=um.test(t),n=um.test(e);return r&&n&&(t=+t,e=+e),t===e?0:r&&!n?-1:n&&!r?1:t<e?-1:1},Nx=(t,e)=>T_(e,t);var A_={compareIdentifiers:T_,rcompareIdentifiers:Nx};const ql=Cc,{MAX_LENGTH:cm,MAX_SAFE_INTEGER:zl}=Ic,{safeRe:Hl,t:Vl}=sl,Lx=dp,{compareIdentifiers:As}=A_;let Fx=class nn{constructor(e,r){if(r=Lx(r),e instanceof nn){if(e.loose===!!r.loose&&e.includePrerelease===!!r.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>cm)throw new TypeError(`version is longer than ${cm} characters`);ql("SemVer",e,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;const n=e.trim().match(r.loose?Hl[Vl.LOOSE]:Hl[Vl.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>zl||this.major<0)throw new TypeError("Invalid major version");if(this.minor>zl||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>zl||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){const s=+i;if(s>=0&&s<zl)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(ql("SemVer.compare",this.version,this.options,e),!(e instanceof nn)){if(typeof e=="string"&&e===this.version)return 0;e=new nn(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof nn||(e=new nn(e,this.options)),As(this.major,e.major)||As(this.minor,e.minor)||As(this.patch,e.patch)}comparePre(e){if(e instanceof nn||(e=new nn(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let r=0;do{const n=this.prerelease[r],i=e.prerelease[r];if(ql("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return As(n,i)}while(++r)}compareBuild(e){e instanceof nn||(e=new nn(e,this.options));let r=0;do{const n=this.build[r],i=e.build[r];if(ql("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return As(n,i)}while(++r)}inc(e,r,n){if(e.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){const i=`-${r}`.match(this.options.loose?Hl[Vl.PRERELEASELOOSE]:Hl[Vl.PRERELEASE]);if(!i||i[1]!==r)throw new Error(`invalid identifier: ${r}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),As(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};var tr=Fx;const fm=tr,Mx=(t,e,r=!1)=>{if(t instanceof fm)return t;try{return new fm(t,e)}catch(n){if(!r)return null;throw n}};var ya=Mx;const Ux=ya,kx=(t,e)=>{const r=Ux(t,e);return r?r.version:null};var Bx=kx;const jx=ya,Wx=(t,e)=>{const r=jx(t.trim().replace(/^[=v]+/,""),e);return r?r.version:null};var Gx=Wx;const hm=tr,qx=(t,e,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new hm(t instanceof hm?t.version:t,r).inc(e,n,i).version}catch{return null}};var zx=qx;const dm=ya,Hx=(t,e)=>{const r=dm(t,null,!0),n=dm(e,null,!0),i=r.compare(n);if(i===0)return null;const s=i>0,a=s?r:n,o=s?n:r,l=!!a.prerelease.length;if(!!o.prerelease.length&&!l){if(!o.patch&&!o.minor)return"major";if(o.compareMain(a)===0)return o.minor&&!o.patch?"minor":"patch"}const u=l?"pre":"";return r.major!==n.major?u+"major":r.minor!==n.minor?u+"minor":r.patch!==n.patch?u+"patch":"prerelease"};var Vx=Hx;const Yx=tr,Kx=(t,e)=>new Yx(t,e).major;var Xx=Kx;const Zx=tr,Qx=(t,e)=>new Zx(t,e).minor;var Jx=Qx;const eR=tr,tR=(t,e)=>new eR(t,e).patch;var rR=tR;const nR=ya,iR=(t,e)=>{const r=nR(t,e);return r&&r.prerelease.length?r.prerelease:null};var sR=iR;const pm=tr,aR=(t,e,r)=>new pm(t,r).compare(new pm(e,r));var Qr=aR;const oR=Qr,lR=(t,e,r)=>oR(e,t,r);var uR=lR;const cR=Qr,fR=(t,e)=>cR(t,e,!0);var hR=fR;const gm=tr,dR=(t,e,r)=>{const n=new gm(t,r),i=new gm(e,r);return n.compare(i)||n.compareBuild(i)};var pp=dR;const pR=pp,gR=(t,e)=>t.sort((r,n)=>pR(r,n,e));var mR=gR;const yR=pp,wR=(t,e)=>t.sort((r,n)=>yR(n,r,e));var _R=wR;const bR=Qr,vR=(t,e,r)=>bR(t,e,r)>0;var Dc=vR;const ER=Qr,SR=(t,e,r)=>ER(t,e,r)<0;var gp=SR;const TR=Qr,AR=(t,e,r)=>TR(t,e,r)===0;var x_=AR;const xR=Qr,RR=(t,e,r)=>xR(t,e,r)!==0;var R_=RR;const OR=Qr,IR=(t,e,r)=>OR(t,e,r)>=0;var mp=IR;const CR=Qr,DR=(t,e,r)=>CR(t,e,r)<=0;var yp=DR;const PR=x_,$R=R_,NR=Dc,LR=mp,FR=gp,MR=yp,UR=(t,e,r,n)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t===r;case"!==":return typeof t=="object"&&(t=t.version),typeof r=="object"&&(r=r.version),t!==r;case"":case"=":case"==":return PR(t,r,n);case"!=":return $R(t,r,n);case">":return NR(t,r,n);case">=":return LR(t,r,n);case"<":return FR(t,r,n);case"<=":return MR(t,r,n);default:throw new TypeError(`Invalid operator: ${e}`)}};var O_=UR;const kR=tr,BR=ya,{safeRe:Yl,t:Kl}=sl,jR=(t,e)=>{if(t instanceof kR)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let r=null;if(!e.rtl)r=t.match(e.includePrerelease?Yl[Kl.COERCEFULL]:Yl[Kl.COERCE]);else{const l=e.includePrerelease?Yl[Kl.COERCERTLFULL]:Yl[Kl.COERCERTL];let c;for(;(c=l.exec(t))&&(!r||r.index+r[0].length!==t.length);)(!r||c.index+c[0].length!==r.index+r[0].length)&&(r=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(r===null)return null;const n=r[2],i=r[3]||"0",s=r[4]||"0",a=e.includePrerelease&&r[5]?`-${r[5]}`:"",o=e.includePrerelease&&r[6]?`+${r[6]}`:"";return BR(`${n}.${i}.${s}${a}${o}`,e)};var WR=jR;let GR=class{constructor(){this.max=1e3,this.map=new Map}get(e){const r=this.map.get(e);if(r!==void 0)return this.map.delete(e),this.map.set(e,r),r}delete(e){return this.map.delete(e)}set(e,r){if(!this.delete(e)&&r!==void 0){if(this.map.size>=this.max){const i=this.map.keys().next().value;this.delete(i)}this.map.set(e,r)}return this}};var qR=GR,kf,mm;function Jr(){if(mm)return kf;mm=1;const t=/\s+/g;class e{constructor(Y,ne){if(ne=i(ne),Y instanceof e)return Y.loose===!!ne.loose&&Y.includePrerelease===!!ne.includePrerelease?Y:new e(Y.raw,ne);if(Y instanceof s)return this.raw=Y.value,this.set=[[Y]],this.formatted=void 0,this;if(this.options=ne,this.loose=!!ne.loose,this.includePrerelease=!!ne.includePrerelease,this.raw=Y.trim().replace(t," "),this.set=this.raw.split("||").map(P=>this.parseRange(P.trim())).filter(P=>P.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const P=this.set[0];if(this.set=this.set.filter(x=>!w(x[0])),this.set.length===0)this.set=[P];else if(this.set.length>1){for(const x of this.set)if(x.length===1&&E(x[0])){this.set=[x];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let Y=0;Y<this.set.length;Y++){Y>0&&(this.formatted+="||");const ne=this.set[Y];for(let P=0;P<ne.length;P++)P>0&&(this.formatted+=" "),this.formatted+=ne[P].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(Y){const P=((this.options.includePrerelease&&b)|(this.options.loose&&T))+":"+Y,x=n.get(P);if(x)return x;const U=this.options.loose,O=U?l[c.HYPHENRANGELOOSE]:l[c.HYPHENRANGE];Y=Y.replace(O,H(this.options.includePrerelease)),a("hyphen replace",Y),Y=Y.replace(l[c.COMPARATORTRIM],u),a("comparator trim",Y),Y=Y.replace(l[c.TILDETRIM],h),a("tilde trim",Y),Y=Y.replace(l[c.CARETTRIM],d),a("caret trim",Y);let V=Y.split(" ").map(fe=>m(fe,this.options)).join(" ").split(/\s+/).map(fe=>W(fe,this.options));U&&(V=V.filter(fe=>(a("loose invalid filter",fe,this.options),!!fe.match(l[c.COMPARATORLOOSE])))),a("range list",V);const J=new Map,Z=V.map(fe=>new s(fe,this.options));for(const fe of Z){if(w(fe))return[fe];J.set(fe.value,fe)}J.size>1&&J.has("")&&J.delete("");const ge=[...J.values()];return n.set(P,ge),ge}intersects(Y,ne){if(!(Y instanceof e))throw new TypeError("a Range is required");return this.set.some(P=>p(P,ne)&&Y.set.some(x=>p(x,ne)&&P.every(U=>x.every(O=>U.intersects(O,ne)))))}test(Y){if(!Y)return!1;if(typeof Y=="string")try{Y=new o(Y,this.options)}catch{return!1}for(let ne=0;ne<this.set.length;ne++)if(j(this.set[ne],Y,this.options))return!0;return!1}}kf=e;const r=qR,n=new r,i=dp,s=Pc(),a=Cc,o=tr,{safeRe:l,t:c,comparatorTrimReplace:u,tildeTrimReplace:h,caretTrimReplace:d}=sl,{FLAG_INCLUDE_PRERELEASE:b,FLAG_LOOSE:T}=Ic,w=X=>X.value==="<0.0.0-0",E=X=>X.value==="",p=(X,Y)=>{let ne=!0;const P=X.slice();let x=P.pop();for(;ne&&P.length;)ne=P.every(U=>x.intersects(U,Y)),x=P.pop();return ne},m=(X,Y)=>(a("comp",X,Y),X=ue(X,Y),a("caret",X),X=N(X,Y),a("tildes",X),X=G(X,Y),a("xrange",X),X=k(X,Y),a("stars",X),X),v=X=>!X||X.toLowerCase()==="x"||X==="*",N=(X,Y)=>X.trim().split(/\s+/).map(ne=>z(ne,Y)).join(" "),z=(X,Y)=>{const ne=Y.loose?l[c.TILDELOOSE]:l[c.TILDE];return X.replace(ne,(P,x,U,O,V)=>{a("tilde",X,P,x,U,O,V);let J;return v(x)?J="":v(U)?J=`>=${x}.0.0 <${+x+1}.0.0-0`:v(O)?J=`>=${x}.${U}.0 <${x}.${+U+1}.0-0`:V?(a("replaceTilde pr",V),J=`>=${x}.${U}.${O}-${V} <${x}.${+U+1}.0-0`):J=`>=${x}.${U}.${O} <${x}.${+U+1}.0-0`,a("tilde return",J),J})},ue=(X,Y)=>X.trim().split(/\s+/).map(ne=>Q(ne,Y)).join(" "),Q=(X,Y)=>{a("caret",X,Y);const ne=Y.loose?l[c.CARETLOOSE]:l[c.CARET],P=Y.includePrerelease?"-0":"";return X.replace(ne,(x,U,O,V,J)=>{a("caret",X,x,U,O,V,J);let Z;return v(U)?Z="":v(O)?Z=`>=${U}.0.0${P} <${+U+1}.0.0-0`:v(V)?U==="0"?Z=`>=${U}.${O}.0${P} <${U}.${+O+1}.0-0`:Z=`>=${U}.${O}.0${P} <${+U+1}.0.0-0`:J?(a("replaceCaret pr",J),U==="0"?O==="0"?Z=`>=${U}.${O}.${V}-${J} <${U}.${O}.${+V+1}-0`:Z=`>=${U}.${O}.${V}-${J} <${U}.${+O+1}.0-0`:Z=`>=${U}.${O}.${V}-${J} <${+U+1}.0.0-0`):(a("no pr"),U==="0"?O==="0"?Z=`>=${U}.${O}.${V}${P} <${U}.${O}.${+V+1}-0`:Z=`>=${U}.${O}.${V}${P} <${U}.${+O+1}.0-0`:Z=`>=${U}.${O}.${V} <${+U+1}.0.0-0`),a("caret return",Z),Z})},G=(X,Y)=>(a("replaceXRanges",X,Y),X.split(/\s+/).map(ne=>R(ne,Y)).join(" ")),R=(X,Y)=>{X=X.trim();const ne=Y.loose?l[c.XRANGELOOSE]:l[c.XRANGE];return X.replace(ne,(P,x,U,O,V,J)=>{a("xRange",X,P,x,U,O,V,J);const Z=v(U),ge=Z||v(O),fe=ge||v(V),Ee=fe;return x==="="&&Ee&&(x=""),J=Y.includePrerelease?"-0":"",Z?x===">"||x==="<"?P="<0.0.0-0":P="*":x&&Ee?(ge&&(O=0),V=0,x===">"?(x=">=",ge?(U=+U+1,O=0,V=0):(O=+O+1,V=0)):x==="<="&&(x="<",ge?U=+U+1:O=+O+1),x==="<"&&(J="-0"),P=`${x+U}.${O}.${V}${J}`):ge?P=`>=${U}.0.0${J} <${+U+1}.0.0-0`:fe&&(P=`>=${U}.${O}.0${J} <${U}.${+O+1}.0-0`),a("xRange return",P),P})},k=(X,Y)=>(a("replaceStars",X,Y),X.trim().replace(l[c.STAR],"")),W=(X,Y)=>(a("replaceGTE0",X,Y),X.trim().replace(l[Y.includePrerelease?c.GTE0PRE:c.GTE0],"")),H=X=>(Y,ne,P,x,U,O,V,J,Z,ge,fe,Ee)=>(v(P)?ne="":v(x)?ne=`>=${P}.0.0${X?"-0":""}`:v(U)?ne=`>=${P}.${x}.0${X?"-0":""}`:O?ne=`>=${ne}`:ne=`>=${ne}${X?"-0":""}`,v(Z)?J="":v(ge)?J=`<${+Z+1}.0.0-0`:v(fe)?J=`<${Z}.${+ge+1}.0-0`:Ee?J=`<=${Z}.${ge}.${fe}-${Ee}`:X?J=`<${Z}.${ge}.${+fe+1}-0`:J=`<=${J}`,`${ne} ${J}`.trim()),j=(X,Y,ne)=>{for(let P=0;P<X.length;P++)if(!X[P].test(Y))return!1;if(Y.prerelease.length&&!ne.includePrerelease){for(let P=0;P<X.length;P++)if(a(X[P].semver),X[P].semver!==s.ANY&&X[P].semver.prerelease.length>0){const x=X[P].semver;if(x.major===Y.major&&x.minor===Y.minor&&x.patch===Y.patch)return!0}return!1}return!0};return kf}var Bf,ym;function Pc(){if(ym)return Bf;ym=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(u,h){if(h=r(h),u instanceof e){if(u.loose===!!h.loose)return u;u=u.value}u=u.trim().split(/\s+/).join(" "),a("comparator",u,h),this.options=h,this.loose=!!h.loose,this.parse(u),this.semver===t?this.value="":this.value=this.operator+this.semver.version,a("comp",this)}parse(u){const h=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],d=u.match(h);if(!d)throw new TypeError(`Invalid comparator: ${u}`);this.operator=d[1]!==void 0?d[1]:"",this.operator==="="&&(this.operator=""),d[2]?this.semver=new o(d[2],this.options.loose):this.semver=t}toString(){return this.value}test(u){if(a("Comparator.test",u,this.options.loose),this.semver===t||u===t)return!0;if(typeof u=="string")try{u=new o(u,this.options)}catch{return!1}return s(u,this.operator,this.semver,this.options)}intersects(u,h){if(!(u instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new l(u.value,h).test(this.value):u.operator===""?u.value===""?!0:new l(this.value,h).test(u.semver):(h=r(h),h.includePrerelease&&(this.value==="<0.0.0-0"||u.value==="<0.0.0-0")||!h.includePrerelease&&(this.value.startsWith("<0.0.0")||u.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&u.operator.startsWith(">")||this.operator.startsWith("<")&&u.operator.startsWith("<")||this.semver.version===u.semver.version&&this.operator.includes("=")&&u.operator.includes("=")||s(this.semver,"<",u.semver,h)&&this.operator.startsWith(">")&&u.operator.startsWith("<")||s(this.semver,">",u.semver,h)&&this.operator.startsWith("<")&&u.operator.startsWith(">")))}}Bf=e;const r=dp,{safeRe:n,t:i}=sl,s=O_,a=Cc,o=tr,l=Jr();return Bf}const zR=Jr(),HR=(t,e,r)=>{try{e=new zR(e,r)}catch{return!1}return e.test(t)};var $c=HR;const VR=Jr(),YR=(t,e)=>new VR(t,e).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));var KR=YR;const XR=tr,ZR=Jr(),QR=(t,e,r)=>{let n=null,i=null,s=null;try{s=new ZR(e,r)}catch{return null}return t.forEach(a=>{s.test(a)&&(!n||i.compare(a)===-1)&&(n=a,i=new XR(n,r))}),n};var JR=QR;const eO=tr,tO=Jr(),rO=(t,e,r)=>{let n=null,i=null,s=null;try{s=new tO(e,r)}catch{return null}return t.forEach(a=>{s.test(a)&&(!n||i.compare(a)===1)&&(n=a,i=new eO(n,r))}),n};var nO=rO;const jf=tr,iO=Jr(),wm=Dc,sO=(t,e)=>{t=new iO(t,e);let r=new jf("0.0.0");if(t.test(r)||(r=new jf("0.0.0-0"),t.test(r)))return r;r=null;for(let n=0;n<t.set.length;++n){const i=t.set[n];let s=null;i.forEach(a=>{const o=new jf(a.semver.version);switch(a.operator){case">":o.prerelease.length===0?o.patch++:o.prerelease.push(0),o.raw=o.format();case"":case">=":(!s||wm(o,s))&&(s=o);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),s&&(!r||wm(r,s))&&(r=s)}return r&&t.test(r)?r:null};var aO=sO;const oO=Jr(),lO=(t,e)=>{try{return new oO(t,e).range||"*"}catch{return null}};var uO=lO;const cO=tr,I_=Pc(),{ANY:fO}=I_,hO=Jr(),dO=$c,_m=Dc,bm=gp,pO=yp,gO=mp,mO=(t,e,r,n)=>{t=new cO(t,n),e=new hO(e,n);let i,s,a,o,l;switch(r){case">":i=_m,s=pO,a=bm,o=">",l=">=";break;case"<":i=bm,s=gO,a=_m,o="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(dO(t,e,n))return!1;for(let c=0;c<e.set.length;++c){const u=e.set[c];let h=null,d=null;if(u.forEach(b=>{b.semver===fO&&(b=new I_(">=0.0.0")),h=h||b,d=d||b,i(b.semver,h.semver,n)?h=b:a(b.semver,d.semver,n)&&(d=b)}),h.operator===o||h.operator===l||(!d.operator||d.operator===o)&&s(t,d.semver))return!1;if(d.operator===l&&a(t,d.semver))return!1}return!0};var wp=mO;const yO=wp,wO=(t,e,r)=>yO(t,e,">",r);var _O=wO;const bO=wp,vO=(t,e,r)=>bO(t,e,"<",r);var EO=vO;const vm=Jr(),SO=(t,e,r)=>(t=new vm(t,r),e=new vm(e,r),t.intersects(e,r));var TO=SO;const AO=$c,xO=Qr;var RO=(t,e,r)=>{const n=[];let i=null,s=null;const a=t.sort((u,h)=>xO(u,h,r));for(const u of a)AO(u,e,r)?(s=u,i||(i=u)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);const o=[];for(const[u,h]of n)u===h?o.push(u):!h&&u===a[0]?o.push("*"):h?u===a[0]?o.push(`<=${h}`):o.push(`${u} - ${h}`):o.push(`>=${u}`);const l=o.join(" || "),c=typeof e.raw=="string"?e.raw:String(e);return l.length<c.length?l:e};const Em=Jr(),_p=Pc(),{ANY:Wf}=_p,Na=$c,bp=Qr,OO=(t,e,r={})=>{if(t===e)return!0;t=new Em(t,r),e=new Em(e,r);let n=!1;e:for(const i of t.set){for(const s of e.set){const a=CO(i,s,r);if(n=n||a!==null,a)continue e}if(n)return!1}return!0},IO=[new _p(">=0.0.0-0")],Sm=[new _p(">=0.0.0")],CO=(t,e,r)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Wf){if(e.length===1&&e[0].semver===Wf)return!0;r.includePrerelease?t=IO:t=Sm}if(e.length===1&&e[0].semver===Wf){if(r.includePrerelease)return!0;e=Sm}const n=new Set;let i,s;for(const b of t)b.operator===">"||b.operator===">="?i=Tm(i,b,r):b.operator==="<"||b.operator==="<="?s=Am(s,b,r):n.add(b.semver);if(n.size>1)return null;let a;if(i&&s){if(a=bp(i.semver,s.semver,r),a>0)return null;if(a===0&&(i.operator!==">="||s.operator!=="<="))return null}for(const b of n){if(i&&!Na(b,String(i),r)||s&&!Na(b,String(s),r))return null;for(const T of e)if(!Na(b,String(T),r))return!1;return!0}let o,l,c,u,h=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,d=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;h&&h.prerelease.length===1&&s.operator==="<"&&h.prerelease[0]===0&&(h=!1);for(const b of e){if(u=u||b.operator===">"||b.operator===">=",c=c||b.operator==="<"||b.operator==="<=",i){if(d&&b.semver.prerelease&&b.semver.prerelease.length&&b.semver.major===d.major&&b.semver.minor===d.minor&&b.semver.patch===d.patch&&(d=!1),b.operator===">"||b.operator===">="){if(o=Tm(i,b,r),o===b&&o!==i)return!1}else if(i.operator===">="&&!Na(i.semver,String(b),r))return!1}if(s){if(h&&b.semver.prerelease&&b.semver.prerelease.length&&b.semver.major===h.major&&b.semver.minor===h.minor&&b.semver.patch===h.patch&&(h=!1),b.operator==="<"||b.operator==="<="){if(l=Am(s,b,r),l===b&&l!==s)return!1}else if(s.operator==="<="&&!Na(s.semver,String(b),r))return!1}if(!b.operator&&(s||i)&&a!==0)return!1}return!(i&&c&&!s&&a!==0||s&&u&&!i&&a!==0||d||h)},Tm=(t,e,r)=>{if(!t)return e;const n=bp(t.semver,e.semver,r);return n>0?t:n<0||e.operator===">"&&t.operator===">="?e:t},Am=(t,e,r)=>{if(!t)return e;const n=bp(t.semver,e.semver,r);return n<0?t:n>0||e.operator==="<"&&t.operator==="<="?e:t};var DO=OO;const Gf=sl,xm=Ic,PO=tr,Rm=A_,$O=ya,NO=Bx,LO=Gx,FO=zx,MO=Vx,UO=Xx,kO=Jx,BO=rR,jO=sR,WO=Qr,GO=uR,qO=hR,zO=pp,HO=mR,VO=_R,YO=Dc,KO=gp,XO=x_,ZO=R_,QO=mp,JO=yp,eI=O_,tI=WR,rI=Pc(),nI=Jr(),iI=$c,sI=KR,aI=JR,oI=nO,lI=aO,uI=uO,cI=wp,fI=_O,hI=EO,dI=TO,pI=RO,gI=DO;var C_={parse:$O,valid:NO,clean:LO,inc:FO,diff:MO,major:UO,minor:kO,patch:BO,prerelease:jO,compare:WO,rcompare:GO,compareLoose:qO,compareBuild:zO,sort:HO,rsort:VO,gt:YO,lt:KO,eq:XO,neq:ZO,gte:QO,lte:JO,cmp:eI,coerce:tI,Comparator:rI,Range:nI,satisfies:iI,toComparators:sI,maxSatisfying:aI,minSatisfying:oI,minVersion:lI,validRange:uI,outside:cI,gtr:fI,ltr:hI,intersects:dI,simplifyRange:pI,subset:gI,SemVer:PO,re:Gf.re,src:Gf.src,tokens:Gf.t,SEMVER_SPEC_VERSION:xm.SEMVER_SPEC_VERSION,RELEASE_TYPES:xm.RELEASE_TYPES,compareIdentifiers:Rm.compareIdentifiers,rcompareIdentifiers:Rm.rcompareIdentifiers},al={},Vu={exports:{}};Vu.exports;(function(t,e){var r=200,n="__lodash_hash_undefined__",i=1,s=2,a=9007199254740991,o="[object Arguments]",l="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",h="[object Date]",d="[object Error]",b="[object Function]",T="[object GeneratorFunction]",w="[object Map]",E="[object Number]",p="[object Null]",m="[object Object]",v="[object Promise]",N="[object Proxy]",z="[object RegExp]",ue="[object Set]",Q="[object String]",G="[object Symbol]",R="[object Undefined]",k="[object WeakMap]",W="[object ArrayBuffer]",H="[object DataView]",j="[object Float32Array]",X="[object Float64Array]",Y="[object Int8Array]",ne="[object Int16Array]",P="[object Int32Array]",x="[object Uint8Array]",U="[object Uint8ClampedArray]",O="[object Uint16Array]",V="[object Uint32Array]",J=/[\\^$.*+?()[\]{}|]/g,Z=/^\[object .+?Constructor\]$/,ge=/^(?:0|[1-9]\d*)$/,fe={};fe[j]=fe[X]=fe[Y]=fe[ne]=fe[P]=fe[x]=fe[U]=fe[O]=fe[V]=!0,fe[o]=fe[l]=fe[W]=fe[u]=fe[H]=fe[h]=fe[d]=fe[b]=fe[w]=fe[E]=fe[m]=fe[z]=fe[ue]=fe[Q]=fe[k]=!1;var Ee=typeof Be=="object"&&Be&&Be.Object===Object&&Be,g=typeof self=="object"&&self&&self.Object===Object&&self,f=Ee||g||Function("return this")(),I=e&&!e.nodeType&&e,S=I&&!0&&t&&!t.nodeType&&t,D=S&&S.exports===I,F=D&&Ee.process,A=function(){try{return F&&F.binding&&F.binding("util")}catch{}}(),C=A&&A.isTypedArray;function B(L,K){for(var pe=-1,ve=L==null?0:L.length,Ze=0,Le=[];++pe<ve;){var ft=L[pe];K(ft,pe,L)&&(Le[Ze++]=ft)}return Le}function te(L,K){for(var pe=-1,ve=K.length,Ze=L.length;++pe<ve;)L[Ze+pe]=K[pe];return L}function ae(L,K){for(var pe=-1,ve=L==null?0:L.length;++pe<ve;)if(K(L[pe],pe,L))return!0;return!1}function le(L,K){for(var pe=-1,ve=Array(L);++pe<L;)ve[pe]=K(pe);return ve}function q(L){return function(K){return L(K)}}function re(L,K){return L.has(K)}function ce(L,K){return L==null?void 0:L[K]}function ie(L){var K=-1,pe=Array(L.size);return L.forEach(function(ve,Ze){pe[++K]=[Ze,ve]}),pe}function Re(L,K){return function(pe){return L(K(pe))}}function Ge(L){var K=-1,pe=Array(L.size);return L.forEach(function(ve){pe[++K]=ve}),pe}var De=Array.prototype,gt=Function.prototype,Ye=Object.prototype,mt=f["__core-js_shared__"],yt=gt.toString,Ke=Ye.hasOwnProperty,ct=function(){var L=/[^.]+$/.exec(mt&&mt.keys&&mt.keys.IE_PROTO||"");return L?"Symbol(src)_1."+L:""}(),mn=Ye.toString,Oe=RegExp("^"+yt.call(Ke).replace(J,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lr=D?f.Buffer:void 0,se=f.Symbol,de=f.Uint8Array,Ae=Ye.propertyIsEnumerable,vt=De.splice,Xe=se?se.toStringTag:void 0,Ui=Object.getOwnPropertySymbols,yn=lr?lr.isBuffer:void 0,wn=Re(Object.keys,Object),_n=Ss(f,"DataView"),Sr=Ss(f,"Map"),ur=Ss(f,"Promise"),zn=Ss(f,"Set"),$=Ss(f,"WeakMap"),M=Ss(Object,"create"),we=ji(_n),_e=ji(Sr),Se=ji(ur),xt=ji(zn),nr=ji($),Ra=se?se.prototype:void 0,Pr=Ra?Ra.valueOf:void 0;function tn(L){var K=-1,pe=L==null?0:L.length;for(this.clear();++K<pe;){var ve=L[K];this.set(ve[0],ve[1])}}function Of(){this.__data__=M?M(null):{},this.size=0}function Pl(L){var K=this.has(L)&&delete this.__data__[L];return this.size-=K?1:0,K}function $l(L){var K=this.__data__;if(M){var pe=K[L];return pe===n?void 0:pe}return Ke.call(K,L)?K[L]:void 0}function Oa(L){var K=this.__data__;return M?K[L]!==void 0:Ke.call(K,L)}function Ia(L,K){var pe=this.__data__;return this.size+=this.has(L)?0:1,pe[L]=M&&K===void 0?n:K,this}tn.prototype.clear=Of,tn.prototype.delete=Pl,tn.prototype.get=$l,tn.prototype.has=Oa,tn.prototype.set=Ia;function cr(L){var K=-1,pe=L==null?0:L.length;for(this.clear();++K<pe;){var ve=L[K];this.set(ve[0],ve[1])}}function ki(){this.__data__=[],this.size=0}function bn(L){var K=this.__data__,pe=Ll(K,L);if(pe<0)return!1;var ve=K.length-1;return pe==ve?K.pop():vt.call(K,pe,1),--this.size,!0}function $r(L){var K=this.__data__,pe=Ll(K,L);return pe<0?void 0:K[pe][1]}function kS(L){return Ll(this.__data__,L)>-1}function BS(L,K){var pe=this.__data__,ve=Ll(pe,L);return ve<0?(++this.size,pe.push([L,K])):pe[ve][1]=K,this}cr.prototype.clear=ki,cr.prototype.delete=bn,cr.prototype.get=$r,cr.prototype.has=kS,cr.prototype.set=BS;function Bi(L){var K=-1,pe=L==null?0:L.length;for(this.clear();++K<pe;){var ve=L[K];this.set(ve[0],ve[1])}}function jS(){this.size=0,this.__data__={hash:new tn,map:new(Sr||cr),string:new tn}}function WS(L){var K=Fl(this,L).delete(L);return this.size-=K?1:0,K}function GS(L){return Fl(this,L).get(L)}function qS(L){return Fl(this,L).has(L)}function zS(L,K){var pe=Fl(this,L),ve=pe.size;return pe.set(L,K),this.size+=pe.size==ve?0:1,this}Bi.prototype.clear=jS,Bi.prototype.delete=WS,Bi.prototype.get=GS,Bi.prototype.has=qS,Bi.prototype.set=zS;function Nl(L){var K=-1,pe=L==null?0:L.length;for(this.__data__=new Bi;++K<pe;)this.add(L[K])}function HS(L){return this.__data__.set(L,n),this}function VS(L){return this.__data__.has(L)}Nl.prototype.add=Nl.prototype.push=HS,Nl.prototype.has=VS;function Hn(L){var K=this.__data__=new cr(L);this.size=K.size}function YS(){this.__data__=new cr,this.size=0}function KS(L){var K=this.__data__,pe=K.delete(L);return this.size=K.size,pe}function XS(L){return this.__data__.get(L)}function ZS(L){return this.__data__.has(L)}function QS(L,K){var pe=this.__data__;if(pe instanceof cr){var ve=pe.__data__;if(!Sr||ve.length<r-1)return ve.push([L,K]),this.size=++pe.size,this;pe=this.__data__=new Bi(ve)}return pe.set(L,K),this.size=pe.size,this}Hn.prototype.clear=YS,Hn.prototype.delete=KS,Hn.prototype.get=XS,Hn.prototype.has=ZS,Hn.prototype.set=QS;function JS(L,K){var pe=Ml(L),ve=!pe&&p1(L),Ze=!pe&&!ve&&If(L),Le=!pe&&!ve&&!Ze&&Ng(L),ft=pe||ve||Ze||Le,Rt=ft?le(L.length,String):[],Lt=Rt.length;for(var st in L)Ke.call(L,st)&&!(ft&&(st=="length"||Ze&&(st=="offset"||st=="parent")||Le&&(st=="buffer"||st=="byteLength"||st=="byteOffset")||u1(st,Lt)))&&Rt.push(st);return Rt}function Ll(L,K){for(var pe=L.length;pe--;)if(Cg(L[pe][0],K))return pe;return-1}function e1(L,K,pe){var ve=K(L);return Ml(L)?ve:te(ve,pe(L))}function Ca(L){return L==null?L===void 0?R:p:Xe&&Xe in Object(L)?o1(L):d1(L)}function xg(L){return Da(L)&&Ca(L)==o}function Rg(L,K,pe,ve,Ze){return L===K?!0:L==null||K==null||!Da(L)&&!Da(K)?L!==L&&K!==K:t1(L,K,pe,ve,Rg,Ze)}function t1(L,K,pe,ve,Ze,Le){var ft=Ml(L),Rt=Ml(K),Lt=ft?l:Vn(L),st=Rt?l:Vn(K);Lt=Lt==o?m:Lt,st=st==o?m:st;var fr=Lt==m,Nr=st==m,Gt=Lt==st;if(Gt&&If(L)){if(!If(K))return!1;ft=!0,fr=!1}if(Gt&&!fr)return Le||(Le=new Hn),ft||Ng(L)?Og(L,K,pe,ve,Ze,Le):s1(L,K,Lt,pe,ve,Ze,Le);if(!(pe&i)){var Tr=fr&&Ke.call(L,"__wrapped__"),Ar=Nr&&Ke.call(K,"__wrapped__");if(Tr||Ar){var Yn=Tr?L.value():L,vn=Ar?K.value():K;return Le||(Le=new Hn),Ze(Yn,vn,pe,ve,Le)}}return Gt?(Le||(Le=new Hn),a1(L,K,pe,ve,Ze,Le)):!1}function r1(L){if(!$g(L)||f1(L))return!1;var K=Dg(L)?Oe:Z;return K.test(ji(L))}function n1(L){return Da(L)&&Pg(L.length)&&!!fe[Ca(L)]}function i1(L){if(!h1(L))return wn(L);var K=[];for(var pe in Object(L))Ke.call(L,pe)&&pe!="constructor"&&K.push(pe);return K}function Og(L,K,pe,ve,Ze,Le){var ft=pe&i,Rt=L.length,Lt=K.length;if(Rt!=Lt&&!(ft&&Lt>Rt))return!1;var st=Le.get(L);if(st&&Le.get(K))return st==K;var fr=-1,Nr=!0,Gt=pe&s?new Nl:void 0;for(Le.set(L,K),Le.set(K,L);++fr<Rt;){var Tr=L[fr],Ar=K[fr];if(ve)var Yn=ft?ve(Ar,Tr,fr,K,L,Le):ve(Tr,Ar,fr,L,K,Le);if(Yn!==void 0){if(Yn)continue;Nr=!1;break}if(Gt){if(!ae(K,function(vn,Wi){if(!re(Gt,Wi)&&(Tr===vn||Ze(Tr,vn,pe,ve,Le)))return Gt.push(Wi)})){Nr=!1;break}}else if(!(Tr===Ar||Ze(Tr,Ar,pe,ve,Le))){Nr=!1;break}}return Le.delete(L),Le.delete(K),Nr}function s1(L,K,pe,ve,Ze,Le,ft){switch(pe){case H:if(L.byteLength!=K.byteLength||L.byteOffset!=K.byteOffset)return!1;L=L.buffer,K=K.buffer;case W:return!(L.byteLength!=K.byteLength||!Le(new de(L),new de(K)));case u:case h:case E:return Cg(+L,+K);case d:return L.name==K.name&&L.message==K.message;case z:case Q:return L==K+"";case w:var Rt=ie;case ue:var Lt=ve&i;if(Rt||(Rt=Ge),L.size!=K.size&&!Lt)return!1;var st=ft.get(L);if(st)return st==K;ve|=s,ft.set(L,K);var fr=Og(Rt(L),Rt(K),ve,Ze,Le,ft);return ft.delete(L),fr;case G:if(Pr)return Pr.call(L)==Pr.call(K)}return!1}function a1(L,K,pe,ve,Ze,Le){var ft=pe&i,Rt=Ig(L),Lt=Rt.length,st=Ig(K),fr=st.length;if(Lt!=fr&&!ft)return!1;for(var Nr=Lt;Nr--;){var Gt=Rt[Nr];if(!(ft?Gt in K:Ke.call(K,Gt)))return!1}var Tr=Le.get(L);if(Tr&&Le.get(K))return Tr==K;var Ar=!0;Le.set(L,K),Le.set(K,L);for(var Yn=ft;++Nr<Lt;){Gt=Rt[Nr];var vn=L[Gt],Wi=K[Gt];if(ve)var Lg=ft?ve(Wi,vn,Gt,K,L,Le):ve(vn,Wi,Gt,L,K,Le);if(!(Lg===void 0?vn===Wi||Ze(vn,Wi,pe,ve,Le):Lg)){Ar=!1;break}Yn||(Yn=Gt=="constructor")}if(Ar&&!Yn){var Ul=L.constructor,kl=K.constructor;Ul!=kl&&"constructor"in L&&"constructor"in K&&!(typeof Ul=="function"&&Ul instanceof Ul&&typeof kl=="function"&&kl instanceof kl)&&(Ar=!1)}return Le.delete(L),Le.delete(K),Ar}function Ig(L){return e1(L,y1,l1)}function Fl(L,K){var pe=L.__data__;return c1(K)?pe[typeof K=="string"?"string":"hash"]:pe.map}function Ss(L,K){var pe=ce(L,K);return r1(pe)?pe:void 0}function o1(L){var K=Ke.call(L,Xe),pe=L[Xe];try{L[Xe]=void 0;var ve=!0}catch{}var Ze=mn.call(L);return ve&&(K?L[Xe]=pe:delete L[Xe]),Ze}var l1=Ui?function(L){return L==null?[]:(L=Object(L),B(Ui(L),function(K){return Ae.call(L,K)}))}:w1,Vn=Ca;(_n&&Vn(new _n(new ArrayBuffer(1)))!=H||Sr&&Vn(new Sr)!=w||ur&&Vn(ur.resolve())!=v||zn&&Vn(new zn)!=ue||$&&Vn(new $)!=k)&&(Vn=function(L){var K=Ca(L),pe=K==m?L.constructor:void 0,ve=pe?ji(pe):"";if(ve)switch(ve){case we:return H;case _e:return w;case Se:return v;case xt:return ue;case nr:return k}return K});function u1(L,K){return K=K??a,!!K&&(typeof L=="number"||ge.test(L))&&L>-1&&L%1==0&&L<K}function c1(L){var K=typeof L;return K=="string"||K=="number"||K=="symbol"||K=="boolean"?L!=="__proto__":L===null}function f1(L){return!!ct&&ct in L}function h1(L){var K=L&&L.constructor,pe=typeof K=="function"&&K.prototype||Ye;return L===pe}function d1(L){return mn.call(L)}function ji(L){if(L!=null){try{return yt.call(L)}catch{}try{return L+""}catch{}}return""}function Cg(L,K){return L===K||L!==L&&K!==K}var p1=xg(function(){return arguments}())?xg:function(L){return Da(L)&&Ke.call(L,"callee")&&!Ae.call(L,"callee")},Ml=Array.isArray;function g1(L){return L!=null&&Pg(L.length)&&!Dg(L)}var If=yn||_1;function m1(L,K){return Rg(L,K)}function Dg(L){if(!$g(L))return!1;var K=Ca(L);return K==b||K==T||K==c||K==N}function Pg(L){return typeof L=="number"&&L>-1&&L%1==0&&L<=a}function $g(L){var K=typeof L;return L!=null&&(K=="object"||K=="function")}function Da(L){return L!=null&&typeof L=="object"}var Ng=C?q(C):n1;function y1(L){return g1(L)?JS(L):i1(L)}function w1(){return[]}function _1(){return!1}t.exports=m1})(Vu,Vu.exports);var mI=Vu.exports;Object.defineProperty(al,"__esModule",{value:!0});al.DownloadedUpdateHelper=void 0;al.createTempUpdateFile=vI;const yI=Nn,wI=vr,Om=mI,zi=qe,ro=Pe;class _I{constructor(e){this.cacheDir=e,this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,this._downloadedFileInfo=null}get downloadedFileInfo(){return this._downloadedFileInfo}get file(){return this._file}get packageFile(){return this._packageFile}get cacheDirForPendingUpdate(){return ro.join(this.cacheDir,"pending")}async validateDownloadedPath(e,r,n,i){if(this.versionInfo!=null&&this.file===e&&this.fileInfo!=null)return Om(this.versionInfo,r)&&Om(this.fileInfo.info,n.info)&&await(0,zi.pathExists)(e)?e:null;const s=await this.getValidCachedUpdateFile(n,i);return s===null?null:(i.info(`Update has already been downloaded to ${e}).`),this._file=s,s)}async setDownloadedFile(e,r,n,i,s,a){this._file=e,this._packageFile=r,this.versionInfo=n,this.fileInfo=i,this._downloadedFileInfo={fileName:s,sha512:i.info.sha512,isAdminRightsRequired:i.info.isAdminRightsRequired===!0},a&&await(0,zi.outputJson)(this.getUpdateInfoFile(),this._downloadedFileInfo)}async clear(){this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,await this.cleanCacheDirForPendingUpdate()}async cleanCacheDirForPendingUpdate(){try{await(0,zi.emptyDir)(this.cacheDirForPendingUpdate)}catch{}}async getValidCachedUpdateFile(e,r){const n=this.getUpdateInfoFile();if(!await(0,zi.pathExists)(n))return null;let s;try{s=await(0,zi.readJson)(n)}catch(c){let u="No cached update info available";return c.code!=="ENOENT"&&(await this.cleanCacheDirForPendingUpdate(),u+=` (error on read: ${c.message})`),r.info(u),null}if(!((s==null?void 0:s.fileName)!==null))return r.warn("Cached update info is corrupted: no fileName, directory for cached update will be cleaned"),await this.cleanCacheDirForPendingUpdate(),null;if(e.info.sha512!==s.sha512)return r.info(`Cached update sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ${s.sha512}, expected: ${e.info.sha512}. Directory for cached update will be cleaned`),await this.cleanCacheDirForPendingUpdate(),null;const o=ro.join(this.cacheDirForPendingUpdate,s.fileName);if(!await(0,zi.pathExists)(o))return r.info("Cached update file doesn't exist"),null;const l=await bI(o);return e.info.sha512!==l?(r.warn(`Sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ${l}, expected: ${e.info.sha512}`),await this.cleanCacheDirForPendingUpdate(),null):(this._downloadedFileInfo=s,o)}getUpdateInfoFile(){return ro.join(this.cacheDirForPendingUpdate,"update-info.json")}}al.DownloadedUpdateHelper=_I;function bI(t,e="sha512",r="base64",n){return new Promise((i,s)=>{const a=(0,yI.createHash)(e);a.on("error",s).setEncoding(r),(0,wI.createReadStream)(t,{...n,highWaterMark:1024*1024}).on("error",s).on("end",()=>{a.end(),i(a.read())}).pipe(a,{end:!1})})}async function vI(t,e,r){let n=0,i=ro.join(e,t);for(let s=0;s<3;s++)try{return await(0,zi.unlink)(i),i}catch(a){if(a.code==="ENOENT")return i;r.warn(`Error on remove temp update file: ${a}`),i=ro.join(e,`${n++}-${t}`)}return i}var Nc={},vp={};Object.defineProperty(vp,"__esModule",{value:!0});vp.getAppCacheDir=SI;const qf=Pe,EI=fs;function SI(){const t=(0,EI.homedir)();let e;return process.platform==="win32"?e=process.env.LOCALAPPDATA||qf.join(t,"AppData","Local"):process.platform==="darwin"?e=qf.join(t,"Library","Caches"):e=process.env.XDG_CACHE_HOME||qf.join(t,".cache"),e}Object.defineProperty(Nc,"__esModule",{value:!0});Nc.ElectronAppAdapter=void 0;const Im=Pe,TI=vp;class AI{constructor(e=ye.app){this.app=e}whenReady(){return this.app.whenReady()}get version(){return this.app.getVersion()}get name(){return this.app.getName()}get isPackaged(){return this.app.isPackaged===!0}get appUpdateConfigPath(){return this.isPackaged?Im.join(process.resourcesPath,"app-update.yml"):Im.join(this.app.getAppPath(),"dev-app-update.yml")}get userDataPath(){return this.app.getPath("userData")}get baseCachePath(){return(0,TI.getAppCacheDir)()}quit(){this.app.quit()}relaunch(){this.app.relaunch()}onQuit(e){this.app.once("quit",(r,n)=>e(n))}}Nc.ElectronAppAdapter=AI;var D_={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ElectronHttpExecutor=t.NET_SESSION_NAME=void 0,t.getNetSession=r;const e=Nt;t.NET_SESSION_NAME="electron-updater";function r(){return ye.session.fromPartition(t.NET_SESSION_NAME,{cache:!1})}class n extends e.HttpExecutor{constructor(s){super(),this.proxyLoginCallback=s,this.cachedSession=null}async download(s,a,o){return await o.cancellationToken.createPromise((l,c,u)=>{const h={headers:o.headers||void 0,redirect:"manual"};(0,e.configureRequestUrl)(s,h),(0,e.configureRequestOptions)(h),this.doDownload(h,{destination:a,options:o,onCancel:u,callback:d=>{d==null?l(a):c(d)},responseHandler:null},0)})}createRequest(s,a){s.headers&&s.headers.Host&&(s.host=s.headers.Host,delete s.headers.Host),this.cachedSession==null&&(this.cachedSession=r());const o=ye.net.request({...s,session:this.cachedSession});return o.on("response",a),this.proxyLoginCallback!=null&&o.on("login",this.proxyLoginCallback),o}addRedirectHandlers(s,a,o,l,c){s.on("redirect",(u,h,d)=>{s.abort(),l>this.maxRedirects?o(this.createMaxRedirectError()):c(e.HttpExecutor.prepareRedirectUrlOptions(d,a))})}}t.ElectronHttpExecutor=n})(D_);var ol={},Dr={},xI="[object Symbol]",P_=/[\\^$.*+?()[\]{}|]/g,RI=RegExp(P_.source),OI=typeof Be=="object"&&Be&&Be.Object===Object&&Be,II=typeof self=="object"&&self&&self.Object===Object&&self,CI=OI||II||Function("return this")(),DI=Object.prototype,PI=DI.toString,Cm=CI.Symbol,Dm=Cm?Cm.prototype:void 0,Pm=Dm?Dm.toString:void 0;function $I(t){if(typeof t=="string")return t;if(LI(t))return Pm?Pm.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function NI(t){return!!t&&typeof t=="object"}function LI(t){return typeof t=="symbol"||NI(t)&&PI.call(t)==xI}function FI(t){return t==null?"":$I(t)}function MI(t){return t=FI(t),t&&RI.test(t)?t.replace(P_,"\\$&"):t}var UI=MI;Object.defineProperty(Dr,"__esModule",{value:!0});Dr.newBaseUrl=BI;Dr.newUrlFromBase=md;Dr.getChannelFilename=jI;Dr.blockmapFiles=WI;const $_=ga,kI=UI;function BI(t){const e=new $_.URL(t);return e.pathname.endsWith("/")||(e.pathname+="/"),e}function md(t,e,r=!1){const n=new $_.URL(t,e),i=e.search;return i!=null&&i.length!==0?n.search=i:r&&(n.search=`noCache=${Date.now().toString(32)}`),n}function jI(t){return`${t}.yml`}function WI(t,e,r){const n=md(`${t.pathname}.blockmap`,t);return[md(`${t.pathname.replace(new RegExp(kI(r),"g"),e)}.blockmap`,t),n]}var At={};Object.defineProperty(At,"__esModule",{value:!0});At.Provider=void 0;At.findFile=zI;At.parseUpdateInfo=HI;At.getFileList=N_;At.resolveFiles=VI;const Ti=Nt,GI=Wt,$m=Dr;class qI{constructor(e){this.runtimeOptions=e,this.requestHeaders=null,this.executor=e.executor}get isUseMultipleRangeRequest(){return this.runtimeOptions.isUseMultipleRangeRequest!==!1}getChannelFilePrefix(){if(this.runtimeOptions.platform==="linux"){const e=process.env.TEST_UPDATER_ARCH||process.arch;return"-linux"+(e==="x64"?"":`-${e}`)}else return this.runtimeOptions.platform==="darwin"?"-mac":""}getDefaultChannelName(){return this.getCustomChannelName("latest")}getCustomChannelName(e){return`${e}${this.getChannelFilePrefix()}`}get fileExtraDownloadHeaders(){return null}setRequestHeaders(e){this.requestHeaders=e}httpRequest(e,r,n){return this.executor.request(this.createRequestOptions(e,r),n)}createRequestOptions(e,r){const n={};return this.requestHeaders==null?r!=null&&(n.headers=r):n.headers=r==null?this.requestHeaders:{...this.requestHeaders,...r},(0,Ti.configureRequestUrl)(e,n),n}}At.Provider=qI;function zI(t,e,r){if(t.length===0)throw(0,Ti.newError)("No files provided","ERR_UPDATER_NO_FILES_PROVIDED");const n=t.find(i=>i.url.pathname.toLowerCase().endsWith(`.${e}`));return n??(r==null?t[0]:t.find(i=>!r.some(s=>i.url.pathname.toLowerCase().endsWith(`.${s}`))))}function HI(t,e,r){if(t==null)throw(0,Ti.newError)(`Cannot parse update info from ${e} in the latest release artifacts (${r}): rawData: null`,"ERR_UPDATER_INVALID_UPDATE_INFO");let n;try{n=(0,GI.load)(t)}catch(i){throw(0,Ti.newError)(`Cannot parse update info from ${e} in the latest release artifacts (${r}): ${i.stack||i.message}, rawData: ${t}`,"ERR_UPDATER_INVALID_UPDATE_INFO")}return n}function N_(t){const e=t.files;if(e!=null&&e.length>0)return e;if(t.path!=null)return[{url:t.path,sha2:t.sha2,sha512:t.sha512}];throw(0,Ti.newError)(`No files provided: ${(0,Ti.safeStringifyJson)(t)}`,"ERR_UPDATER_NO_FILES_PROVIDED")}function VI(t,e,r=n=>n){const i=N_(t).map(o=>{if(o.sha2==null&&o.sha512==null)throw(0,Ti.newError)(`Update info doesn't contain nor sha256 neither sha512 checksum: ${(0,Ti.safeStringifyJson)(o)}`,"ERR_UPDATER_NO_CHECKSUM");return{url:(0,$m.newUrlFromBase)(r(o.url),e),info:o}}),s=t.packages,a=s==null?null:s[process.arch]||s.ia32;return a!=null&&(i[0].packageInfo={...a,path:(0,$m.newUrlFromBase)(r(a.path),e).href}),i}Object.defineProperty(ol,"__esModule",{value:!0});ol.GenericProvider=void 0;const Nm=Nt,zf=Dr,Hf=At;class YI extends Hf.Provider{constructor(e,r,n){super(n),this.configuration=e,this.updater=r,this.baseUrl=(0,zf.newBaseUrl)(this.configuration.url)}get channel(){const e=this.updater.channel||this.configuration.channel;return e==null?this.getDefaultChannelName():this.getCustomChannelName(e)}async getLatestVersion(){const e=(0,zf.getChannelFilename)(this.channel),r=(0,zf.newUrlFromBase)(e,this.baseUrl,this.updater.isAddNoCacheQuery);for(let n=0;;n++)try{return(0,Hf.parseUpdateInfo)(await this.httpRequest(r),e,r)}catch(i){if(i instanceof Nm.HttpError&&i.statusCode===404)throw(0,Nm.newError)(`Cannot find channel "${e}" update info: ${i.stack||i.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");if(i.code==="ECONNREFUSED"&&n<3){await new Promise((s,a)=>{try{setTimeout(s,1e3*n)}catch(o){a(o)}});continue}throw i}}resolveFiles(e){return(0,Hf.resolveFiles)(e,this.baseUrl)}}ol.GenericProvider=YI;var Lc={},Fc={};Object.defineProperty(Fc,"__esModule",{value:!0});Fc.BitbucketProvider=void 0;const Lm=Nt,Vf=Dr,Yf=At;class KI extends Yf.Provider{constructor(e,r,n){super({...n,isUseMultipleRangeRequest:!1}),this.configuration=e,this.updater=r;const{owner:i,slug:s}=e;this.baseUrl=(0,Vf.newBaseUrl)(`https://api.bitbucket.org/2.0/repositories/${i}/${s}/downloads`)}get channel(){return this.updater.channel||this.configuration.channel||"latest"}async getLatestVersion(){const e=new Lm.CancellationToken,r=(0,Vf.getChannelFilename)(this.getCustomChannelName(this.channel)),n=(0,Vf.newUrlFromBase)(r,this.baseUrl,this.updater.isAddNoCacheQuery);try{const i=await this.httpRequest(n,void 0,e);return(0,Yf.parseUpdateInfo)(i,r,n)}catch(i){throw(0,Lm.newError)(`Unable to find latest version on ${this.toString()}, please ensure release exists: ${i.stack||i.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}resolveFiles(e){return(0,Yf.resolveFiles)(e,this.baseUrl)}toString(){const{owner:e,slug:r}=this.configuration;return`Bitbucket (owner: ${e}, slug: ${r}, channel: ${this.channel})`}}Fc.BitbucketProvider=KI;var Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});Ai.GitHubProvider=Ai.BaseGitHubProvider=void 0;Ai.computeReleaseNotes=F_;const xn=Nt,ks=C_,XI=ga,Bs=Dr,yd=At,Kf=/\/tag\/([^/]+)$/;class L_ extends yd.Provider{constructor(e,r,n){super({...n,isUseMultipleRangeRequest:!1}),this.options=e,this.baseUrl=(0,Bs.newBaseUrl)((0,xn.githubUrl)(e,r));const i=r==="github.com"?"api.github.com":r;this.baseApiUrl=(0,Bs.newBaseUrl)((0,xn.githubUrl)(e,i))}computeGithubBasePath(e){const r=this.options.host;return r&&!["github.com","api.github.com"].includes(r)?`/api/v3${e}`:e}}Ai.BaseGitHubProvider=L_;class ZI extends L_{constructor(e,r,n){super(e,"github.com",n),this.options=e,this.updater=r}get channel(){const e=this.updater.channel||this.options.channel;return e==null?this.getDefaultChannelName():this.getCustomChannelName(e)}async getLatestVersion(){var e,r,n,i,s;const a=new xn.CancellationToken,o=await this.httpRequest((0,Bs.newUrlFromBase)(`${this.basePath}.atom`,this.baseUrl),{accept:"application/xml, application/atom+xml, text/xml, */*"},a),l=(0,xn.parseXml)(o);let c=l.element("entry",!1,"No published versions on GitHub"),u=null;try{if(this.updater.allowPrerelease){const E=((e=this.updater)===null||e===void 0?void 0:e.channel)||((r=ks.prerelease(this.updater.currentVersion))===null||r===void 0?void 0:r[0])||null;if(E===null)u=Kf.exec(c.element("link").attribute("href"))[1];else for(const p of l.getElements("entry")){const m=Kf.exec(p.element("link").attribute("href"));if(m===null)continue;const v=m[1],N=((n=ks.prerelease(v))===null||n===void 0?void 0:n[0])||null,z=!E||["alpha","beta"].includes(E),ue=N!==null&&!["alpha","beta"].includes(String(N));if(z&&!ue&&!(E==="beta"&&N==="alpha")){u=v;break}if(N&&N===E){u=v;break}}}else{u=await this.getLatestTagName(a);for(const E of l.getElements("entry"))if(Kf.exec(E.element("link").attribute("href"))[1]===u){c=E;break}}}catch(E){throw(0,xn.newError)(`Cannot parse releases feed: ${E.stack||E.message},
XML:
${o}`,"ERR_UPDATER_INVALID_RELEASE_FEED")}if(u==null)throw(0,xn.newError)("No published versions on GitHub","ERR_UPDATER_NO_PUBLISHED_VERSIONS");let h,d="",b="";const T=async E=>{d=(0,Bs.getChannelFilename)(E),b=(0,Bs.newUrlFromBase)(this.getBaseDownloadPath(String(u),d),this.baseUrl);const p=this.createRequestOptions(b);try{return await this.executor.request(p,a)}catch(m){throw m instanceof xn.HttpError&&m.statusCode===404?(0,xn.newError)(`Cannot find ${d} in the latest release artifacts (${b}): ${m.stack||m.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND"):m}};try{let E=this.channel;this.updater.allowPrerelease&&(!((i=ks.prerelease(u))===null||i===void 0)&&i[0])&&(E=this.getCustomChannelName(String((s=ks.prerelease(u))===null||s===void 0?void 0:s[0]))),h=await T(E)}catch(E){if(this.updater.allowPrerelease)h=await T(this.getDefaultChannelName());else throw E}const w=(0,yd.parseUpdateInfo)(h,d,b);return w.releaseName==null&&(w.releaseName=c.elementValueOrEmpty("title")),w.releaseNotes==null&&(w.releaseNotes=F_(this.updater.currentVersion,this.updater.fullChangelog,l,c)),{tag:u,...w}}async getLatestTagName(e){const r=this.options,n=r.host==null||r.host==="github.com"?(0,Bs.newUrlFromBase)(`${this.basePath}/latest`,this.baseUrl):new XI.URL(`${this.computeGithubBasePath(`/repos/${r.owner}/${r.repo}/releases`)}/latest`,this.baseApiUrl);try{const i=await this.httpRequest(n,{Accept:"application/json"},e);return i==null?null:JSON.parse(i).tag_name}catch(i){throw(0,xn.newError)(`Unable to find latest version on GitHub (${n}), please ensure a production release exists: ${i.stack||i.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}get basePath(){return`/${this.options.owner}/${this.options.repo}/releases`}resolveFiles(e){return(0,yd.resolveFiles)(e,this.baseUrl,r=>this.getBaseDownloadPath(e.tag,r.replace(/ /g,"-")))}getBaseDownloadPath(e,r){return`${this.basePath}/download/${e}/${r}`}}Ai.GitHubProvider=ZI;function Fm(t){const e=t.elementValueOrEmpty("content");return e==="No content."?"":e}function F_(t,e,r,n){if(!e)return Fm(n);const i=[];for(const s of r.getElements("entry")){const a=/\/tag\/v?([^/]+)$/.exec(s.element("link").attribute("href"))[1];ks.lt(t,a)&&i.push({version:a,note:Fm(s)})}return i.sort((s,a)=>ks.rcompare(s.version,a.version))}var Mc={};Object.defineProperty(Mc,"__esModule",{value:!0});Mc.KeygenProvider=void 0;const Mm=Nt,Xf=Dr,Zf=At;class QI extends Zf.Provider{constructor(e,r,n){super({...n,isUseMultipleRangeRequest:!1}),this.configuration=e,this.updater=r,this.defaultHostname="api.keygen.sh";const i=this.configuration.host||this.defaultHostname;this.baseUrl=(0,Xf.newBaseUrl)(`https://${i}/v1/accounts/${this.configuration.account}/artifacts?product=${this.configuration.product}`)}get channel(){return this.updater.channel||this.configuration.channel||"stable"}async getLatestVersion(){const e=new Mm.CancellationToken,r=(0,Xf.getChannelFilename)(this.getCustomChannelName(this.channel)),n=(0,Xf.newUrlFromBase)(r,this.baseUrl,this.updater.isAddNoCacheQuery);try{const i=await this.httpRequest(n,{Accept:"application/vnd.api+json","Keygen-Version":"1.1"},e);return(0,Zf.parseUpdateInfo)(i,r,n)}catch(i){throw(0,Mm.newError)(`Unable to find latest version on ${this.toString()}, please ensure release exists: ${i.stack||i.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}resolveFiles(e){return(0,Zf.resolveFiles)(e,this.baseUrl)}toString(){const{account:e,product:r,platform:n}=this.configuration;return`Keygen (account: ${e}, product: ${r}, platform: ${n}, channel: ${this.channel})`}}Mc.KeygenProvider=QI;var Uc={};Object.defineProperty(Uc,"__esModule",{value:!0});Uc.PrivateGitHubProvider=void 0;const xs=Nt,JI=Wt,eC=Pe,Um=ga,km=Dr,tC=Ai,rC=At;class nC extends tC.BaseGitHubProvider{constructor(e,r,n,i){super(e,"api.github.com",i),this.updater=r,this.token=n}createRequestOptions(e,r){const n=super.createRequestOptions(e,r);return n.redirect="manual",n}async getLatestVersion(){const e=new xs.CancellationToken,r=(0,km.getChannelFilename)(this.getDefaultChannelName()),n=await this.getLatestVersionInfo(e),i=n.assets.find(o=>o.name===r);if(i==null)throw(0,xs.newError)(`Cannot find ${r} in the release ${n.html_url||n.name}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");const s=new Um.URL(i.url);let a;try{a=(0,JI.load)(await this.httpRequest(s,this.configureHeaders("application/octet-stream"),e))}catch(o){throw o instanceof xs.HttpError&&o.statusCode===404?(0,xs.newError)(`Cannot find ${r} in the latest release artifacts (${s}): ${o.stack||o.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND"):o}return a.assets=n.assets,a}get fileExtraDownloadHeaders(){return this.configureHeaders("application/octet-stream")}configureHeaders(e){return{accept:e,authorization:`token ${this.token}`}}async getLatestVersionInfo(e){const r=this.updater.allowPrerelease;let n=this.basePath;r||(n=`${n}/latest`);const i=(0,km.newUrlFromBase)(n,this.baseUrl);try{const s=JSON.parse(await this.httpRequest(i,this.configureHeaders("application/vnd.github.v3+json"),e));return r?s.find(a=>a.prerelease)||s[0]:s}catch(s){throw(0,xs.newError)(`Unable to find latest version on GitHub (${i}), please ensure a production release exists: ${s.stack||s.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}get basePath(){return this.computeGithubBasePath(`/repos/${this.options.owner}/${this.options.repo}/releases`)}resolveFiles(e){return(0,rC.getFileList)(e).map(r=>{const n=eC.posix.basename(r.url).replace(/ /g,"-"),i=e.assets.find(s=>s!=null&&s.name===n);if(i==null)throw(0,xs.newError)(`Cannot find asset "${n}" in: ${JSON.stringify(e.assets,null,2)}`,"ERR_UPDATER_ASSET_NOT_FOUND");return{url:new Um.URL(i.url),info:r}})}}Uc.PrivateGitHubProvider=nC;Object.defineProperty(Lc,"__esModule",{value:!0});Lc.isUrlProbablySupportMultiRangeRequests=M_;Lc.createClient=lC;const Xl=Nt,iC=Fc,Bm=ol,sC=Ai,aC=Mc,oC=Uc;function M_(t){return!t.includes("s3.amazonaws.com")}function lC(t,e,r){if(typeof t=="string")throw(0,Xl.newError)("Please pass PublishConfiguration object","ERR_UPDATER_INVALID_PROVIDER_CONFIGURATION");const n=t.provider;switch(n){case"github":{const i=t,s=(i.private?process.env.GH_TOKEN||process.env.GITHUB_TOKEN:null)||i.token;return s==null?new sC.GitHubProvider(i,e,r):new oC.PrivateGitHubProvider(i,e,s,r)}case"bitbucket":return new iC.BitbucketProvider(t,e,r);case"keygen":return new aC.KeygenProvider(t,e,r);case"s3":case"spaces":return new Bm.GenericProvider({provider:"generic",url:(0,Xl.getS3LikeProviderBaseUrl)(t),channel:t.channel||null},e,{...r,isUseMultipleRangeRequest:!1});case"generic":{const i=t;return new Bm.GenericProvider(i,e,{...r,isUseMultipleRangeRequest:i.useMultipleRangeRequest!==!1&&M_(i.url)})}case"custom":{const i=t,s=i.updateProvider;if(!s)throw(0,Xl.newError)("Custom provider not specified","ERR_UPDATER_INVALID_PROVIDER_CONFIGURATION");return new s(i,e,r)}default:throw(0,Xl.newError)(`Unsupported provider: ${n}`,"ERR_UPDATER_UNSUPPORTED_PROVIDER")}}var kc={},ll={},wa={},bs={};Object.defineProperty(bs,"__esModule",{value:!0});bs.OperationKind=void 0;bs.computeOperations=uC;var Qi;(function(t){t[t.COPY=0]="COPY",t[t.DOWNLOAD=1]="DOWNLOAD"})(Qi||(bs.OperationKind=Qi={}));function uC(t,e,r){const n=Wm(t.files),i=Wm(e.files);let s=null;const a=e.files[0],o=[],l=a.name,c=n.get(l);if(c==null)throw new Error(`no file ${l} in old blockmap`);const u=i.get(l);let h=0;const{checksumToOffset:d,checksumToOldSize:b}=fC(n.get(l),c.offset,r);let T=a.offset;for(let w=0;w<u.checksums.length;T+=u.sizes[w],w++){const E=u.sizes[w],p=u.checksums[w];let m=d.get(p);m!=null&&b.get(p)!==E&&(r.warn(`Checksum ("${p}") matches, but size differs (old: ${b.get(p)}, new: ${E})`),m=void 0),m===void 0?(h++,s!=null&&s.kind===Qi.DOWNLOAD&&s.end===T?s.end+=E:(s={kind:Qi.DOWNLOAD,start:T,end:T+E},jm(s,o,p,w))):s!=null&&s.kind===Qi.COPY&&s.end===m?s.end+=E:(s={kind:Qi.COPY,start:m,end:m+E},jm(s,o,p,w))}return h>0&&r.info(`File${a.name==="file"?"":" "+a.name} has ${h} changed blocks`),o}const cC=process.env.DIFFERENTIAL_DOWNLOAD_PLAN_BUILDER_VALIDATE_RANGES==="true";function jm(t,e,r,n){if(cC&&e.length!==0){const i=e[e.length-1];if(i.kind===t.kind&&t.start<i.end&&t.start>i.start){const s=[i.start,i.end,t.start,t.end].reduce((a,o)=>a<o?a:o);throw new Error(`operation (block index: ${n}, checksum: ${r}, kind: ${Qi[t.kind]}) overlaps previous operation (checksum: ${r}):
abs: ${i.start} until ${i.end} and ${t.start} until ${t.end}
rel: ${i.start-s} until ${i.end-s} and ${t.start-s} until ${t.end-s}`)}}e.push(t)}function fC(t,e,r){const n=new Map,i=new Map;let s=e;for(let a=0;a<t.checksums.length;a++){const o=t.checksums[a],l=t.sizes[a],c=i.get(o);if(c===void 0)n.set(o,s),i.set(o,l);else if(r.debug!=null){const u=c===l?"(same size)":`(size: ${c}, this size: ${l})`;r.debug(`${o} duplicated in blockmap ${u}, it doesn't lead to broken differential downloader, just corresponding block will be skipped)`)}s+=l}return{checksumToOffset:n,checksumToOldSize:i}}function Wm(t){const e=new Map;for(const r of t)e.set(r.name,r);return e}Object.defineProperty(wa,"__esModule",{value:!0});wa.DataSplitter=void 0;wa.copyData=U_;const Zl=Nt,hC=vr,dC=jt,pC=bs,Gm=Buffer.from(`\r
\r
`);var si;(function(t){t[t.INIT=0]="INIT",t[t.HEADER=1]="HEADER",t[t.BODY=2]="BODY"})(si||(si={}));function U_(t,e,r,n,i){const s=(0,hC.createReadStream)("",{fd:r,autoClose:!1,start:t.start,end:t.end-1});s.on("error",n),s.once("end",i),s.pipe(e,{end:!1})}class gC extends dC.Writable{constructor(e,r,n,i,s,a){super(),this.out=e,this.options=r,this.partIndexToTaskIndex=n,this.partIndexToLength=s,this.finishHandler=a,this.partIndex=-1,this.headerListBuffer=null,this.readState=si.INIT,this.ignoreByteCount=0,this.remainingPartDataCount=0,this.actualPartLength=0,this.boundaryLength=i.length+4,this.ignoreByteCount=this.boundaryLength-2}get isFinished(){return this.partIndex===this.partIndexToLength.length}_write(e,r,n){if(this.isFinished){console.error(`Trailing ignored data: ${e.length} bytes`);return}this.handleData(e).then(n).catch(n)}async handleData(e){let r=0;if(this.ignoreByteCount!==0&&this.remainingPartDataCount!==0)throw(0,Zl.newError)("Internal error","ERR_DATA_SPLITTER_BYTE_COUNT_MISMATCH");if(this.ignoreByteCount>0){const n=Math.min(this.ignoreByteCount,e.length);this.ignoreByteCount-=n,r=n}else if(this.remainingPartDataCount>0){const n=Math.min(this.remainingPartDataCount,e.length);this.remainingPartDataCount-=n,await this.processPartData(e,0,n),r=n}if(r!==e.length){if(this.readState===si.HEADER){const n=this.searchHeaderListEnd(e,r);if(n===-1)return;r=n,this.readState=si.BODY,this.headerListBuffer=null}for(;;){if(this.readState===si.BODY)this.readState=si.INIT;else{this.partIndex++;let a=this.partIndexToTaskIndex.get(this.partIndex);if(a==null)if(this.isFinished)a=this.options.end;else throw(0,Zl.newError)("taskIndex is null","ERR_DATA_SPLITTER_TASK_INDEX_IS_NULL");const o=this.partIndex===0?this.options.start:this.partIndexToTaskIndex.get(this.partIndex-1)+1;if(o<a)await this.copyExistingData(o,a);else if(o>a)throw(0,Zl.newError)("prevTaskIndex must be < taskIndex","ERR_DATA_SPLITTER_TASK_INDEX_ASSERT_FAILED");if(this.isFinished){this.onPartEnd(),this.finishHandler();return}if(r=this.searchHeaderListEnd(e,r),r===-1){this.readState=si.HEADER;return}}const n=this.partIndexToLength[this.partIndex],i=r+n,s=Math.min(i,e.length);if(await this.processPartStarted(e,r,s),this.remainingPartDataCount=n-(s-r),this.remainingPartDataCount>0)return;if(r=i+this.boundaryLength,r>=e.length){this.ignoreByteCount=this.boundaryLength-(e.length-i);return}}}}copyExistingData(e,r){return new Promise((n,i)=>{const s=()=>{if(e===r){n();return}const a=this.options.tasks[e];if(a.kind!==pC.OperationKind.COPY){i(new Error("Task kind must be COPY"));return}U_(a,this.out,this.options.oldFileFd,i,()=>{e++,s()})};s()})}searchHeaderListEnd(e,r){const n=e.indexOf(Gm,r);if(n!==-1)return n+Gm.length;const i=r===0?e:e.slice(r);return this.headerListBuffer==null?this.headerListBuffer=i:this.headerListBuffer=Buffer.concat([this.headerListBuffer,i]),-1}onPartEnd(){const e=this.partIndexToLength[this.partIndex-1];if(this.actualPartLength!==e)throw(0,Zl.newError)(`Expected length: ${e} differs from actual: ${this.actualPartLength}`,"ERR_DATA_SPLITTER_LENGTH_MISMATCH");this.actualPartLength=0}processPartStarted(e,r,n){return this.partIndex!==0&&this.onPartEnd(),this.processPartData(e,r,n)}processPartData(e,r,n){this.actualPartLength+=n-r;const i=this.out;return i.write(r===0&&e.length===n?e:e.slice(r,n))?Promise.resolve():new Promise((s,a)=>{i.on("error",a),i.once("drain",()=>{i.removeListener("error",a),s()})})}}wa.DataSplitter=gC;var Bc={};Object.defineProperty(Bc,"__esModule",{value:!0});Bc.executeTasksUsingMultipleRangeRequests=mC;Bc.checkIsRangesSupported=_d;const wd=Nt,qm=wa,zm=bs;function mC(t,e,r,n,i){const s=a=>{if(a>=e.length){t.fileMetadataBuffer!=null&&r.write(t.fileMetadataBuffer),r.end();return}const o=a+1e3;yC(t,{tasks:e,start:a,end:Math.min(e.length,o),oldFileFd:n},r,()=>s(o),i)};return s}function yC(t,e,r,n,i){let s="bytes=",a=0;const o=new Map,l=[];for(let h=e.start;h<e.end;h++){const d=e.tasks[h];d.kind===zm.OperationKind.DOWNLOAD&&(s+=`${d.start}-${d.end-1}, `,o.set(a,h),a++,l.push(d.end-d.start))}if(a<=1){const h=d=>{if(d>=e.end){n();return}const b=e.tasks[d++];if(b.kind===zm.OperationKind.COPY)(0,qm.copyData)(b,r,e.oldFileFd,i,()=>h(d));else{const T=t.createRequestOptions();T.headers.Range=`bytes=${b.start}-${b.end-1}`;const w=t.httpExecutor.createRequest(T,E=>{_d(E,i)&&(E.pipe(r,{end:!1}),E.once("end",()=>h(d)))});t.httpExecutor.addErrorAndTimeoutHandlers(w,i),w.end()}};h(e.start);return}const c=t.createRequestOptions();c.headers.Range=s.substring(0,s.length-2);const u=t.httpExecutor.createRequest(c,h=>{if(!_d(h,i))return;const d=(0,wd.safeGetHeader)(h,"content-type"),b=/^multipart\/.+?(?:; boundary=(?:(?:"(.+)")|(?:([^\s]+))))$/i.exec(d);if(b==null){i(new Error(`Content-Type "multipart/byteranges" is expected, but got "${d}"`));return}const T=new qm.DataSplitter(r,e,o,b[1]||b[2],l,n);T.on("error",i),h.pipe(T),h.on("end",()=>{setTimeout(()=>{u.abort(),i(new Error("Response ends without calling any handlers"))},1e4)})});t.httpExecutor.addErrorAndTimeoutHandlers(u,i),u.end()}function _d(t,e){if(t.statusCode>=400)return e((0,wd.createHttpError)(t)),!1;if(t.statusCode!==206){const r=(0,wd.safeGetHeader)(t,"accept-ranges");if(r==null||r==="none")return e(new Error(`Server doesn't support Accept-Ranges (response code ${t.statusCode})`)),!1}return!0}var jc={};Object.defineProperty(jc,"__esModule",{value:!0});jc.ProgressDifferentialDownloadCallbackTransform=void 0;const wC=jt;var js;(function(t){t[t.COPY=0]="COPY",t[t.DOWNLOAD=1]="DOWNLOAD"})(js||(js={}));class _C extends wC.Transform{constructor(e,r,n){super(),this.progressDifferentialDownloadInfo=e,this.cancellationToken=r,this.onProgress=n,this.start=Date.now(),this.transferred=0,this.delta=0,this.expectedBytes=0,this.index=0,this.operationType=js.COPY,this.nextUpdate=this.start+1e3}_transform(e,r,n){if(this.cancellationToken.cancelled){n(new Error("cancelled"),null);return}if(this.operationType==js.COPY){n(null,e);return}this.transferred+=e.length,this.delta+=e.length;const i=Date.now();i>=this.nextUpdate&&this.transferred!==this.expectedBytes&&this.transferred!==this.progressDifferentialDownloadInfo.grandTotal&&(this.nextUpdate=i+1e3,this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.progressDifferentialDownloadInfo.grandTotal*100,bytesPerSecond:Math.round(this.transferred/((i-this.start)/1e3))}),this.delta=0),n(null,e)}beginFileCopy(){this.operationType=js.COPY}beginRangeDownload(){this.operationType=js.DOWNLOAD,this.expectedBytes+=this.progressDifferentialDownloadInfo.expectedByteCounts[this.index++]}endRangeDownload(){this.transferred!==this.progressDifferentialDownloadInfo.grandTotal&&this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.progressDifferentialDownloadInfo.grandTotal*100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))})}_flush(e){if(this.cancellationToken.cancelled){e(new Error("cancelled"));return}this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,this.transferred=0,e(null)}}jc.ProgressDifferentialDownloadCallbackTransform=_C;Object.defineProperty(ll,"__esModule",{value:!0});ll.DifferentialDownloader=void 0;const La=Nt,Qf=qe,bC=vr,vC=wa,EC=ga,Ql=bs,Hm=Bc,SC=jc;class TC{constructor(e,r,n){this.blockAwareFileInfo=e,this.httpExecutor=r,this.options=n,this.fileMetadataBuffer=null,this.logger=n.logger}createRequestOptions(){const e={headers:{...this.options.requestHeaders,accept:"*/*"}};return(0,La.configureRequestUrl)(this.options.newUrl,e),(0,La.configureRequestOptions)(e),e}doDownload(e,r){if(e.version!==r.version)throw new Error(`version is different (${e.version} - ${r.version}), full download is required`);const n=this.logger,i=(0,Ql.computeOperations)(e,r,n);n.debug!=null&&n.debug(JSON.stringify(i,null,2));let s=0,a=0;for(const l of i){const c=l.end-l.start;l.kind===Ql.OperationKind.DOWNLOAD?s+=c:a+=c}const o=this.blockAwareFileInfo.size;if(s+a+(this.fileMetadataBuffer==null?0:this.fileMetadataBuffer.length)!==o)throw new Error(`Internal error, size mismatch: downloadSize: ${s}, copySize: ${a}, newSize: ${o}`);return n.info(`Full: ${Vm(o)}, To download: ${Vm(s)} (${Math.round(s/(o/100))}%)`),this.downloadFile(i)}downloadFile(e){const r=[],n=()=>Promise.all(r.map(i=>(0,Qf.close)(i.descriptor).catch(s=>{this.logger.error(`cannot close file "${i.path}": ${s}`)})));return this.doDownloadFile(e,r).then(n).catch(i=>n().catch(s=>{try{this.logger.error(`cannot close files: ${s}`)}catch(a){try{console.error(a)}catch{}}throw i}).then(()=>{throw i}))}async doDownloadFile(e,r){const n=await(0,Qf.open)(this.options.oldFile,"r");r.push({descriptor:n,path:this.options.oldFile});const i=await(0,Qf.open)(this.options.newFile,"w");r.push({descriptor:i,path:this.options.newFile});const s=(0,bC.createWriteStream)(this.options.newFile,{fd:i});await new Promise((a,o)=>{const l=[];let c;if(!this.options.isUseMultipleRangeRequest&&this.options.onProgress){const p=[];let m=0;for(const N of e)N.kind===Ql.OperationKind.DOWNLOAD&&(p.push(N.end-N.start),m+=N.end-N.start);const v={expectedByteCounts:p,grandTotal:m};c=new SC.ProgressDifferentialDownloadCallbackTransform(v,this.options.cancellationToken,this.options.onProgress),l.push(c)}const u=new La.DigestTransform(this.blockAwareFileInfo.sha512);u.isValidateOnEnd=!1,l.push(u),s.on("finish",()=>{s.close(()=>{r.splice(1,1);try{u.validate()}catch(p){o(p);return}a(void 0)})}),l.push(s);let h=null;for(const p of l)p.on("error",o),h==null?h=p:h=h.pipe(p);const d=l[0];let b;if(this.options.isUseMultipleRangeRequest){b=(0,Hm.executeTasksUsingMultipleRangeRequests)(this,e,d,n,o),b(0);return}let T=0,w=null;this.logger.info(`Differential download: ${this.options.newUrl}`);const E=this.createRequestOptions();E.redirect="manual",b=p=>{var m,v;if(p>=e.length){this.fileMetadataBuffer!=null&&d.write(this.fileMetadataBuffer),d.end();return}const N=e[p++];if(N.kind===Ql.OperationKind.COPY){c&&c.beginFileCopy(),(0,vC.copyData)(N,d,n,o,()=>b(p));return}const z=`bytes=${N.start}-${N.end-1}`;E.headers.range=z,(v=(m=this.logger)===null||m===void 0?void 0:m.debug)===null||v===void 0||v.call(m,`download range: ${z}`),c&&c.beginRangeDownload();const ue=this.httpExecutor.createRequest(E,Q=>{Q.on("error",o),Q.on("aborted",()=>{o(new Error("response has been aborted by the server"))}),Q.statusCode>=400&&o((0,La.createHttpError)(Q)),Q.pipe(d,{end:!1}),Q.once("end",()=>{c&&c.endRangeDownload(),++T===100?(T=0,setTimeout(()=>b(p),1e3)):b(p)})});ue.on("redirect",(Q,G,R)=>{this.logger.info(`Redirect to ${AC(R)}`),w=R,(0,La.configureRequestUrl)(new EC.URL(w),E),ue.followRedirect()}),this.httpExecutor.addErrorAndTimeoutHandlers(ue,o),ue.end()},b(0)})}async readRemoteBytes(e,r){const n=Buffer.allocUnsafe(r+1-e),i=this.createRequestOptions();i.headers.range=`bytes=${e}-${r}`;let s=0;if(await this.request(i,a=>{a.copy(n,s),s+=a.length}),s!==n.length)throw new Error(`Received data length ${s} is not equal to expected ${n.length}`);return n}request(e,r){return new Promise((n,i)=>{const s=this.httpExecutor.createRequest(e,a=>{(0,Hm.checkIsRangesSupported)(a,i)&&(a.on("error",i),a.on("aborted",()=>{i(new Error("response has been aborted by the server"))}),a.on("data",r),a.on("end",()=>n()))});this.httpExecutor.addErrorAndTimeoutHandlers(s,i),s.end()})}}ll.DifferentialDownloader=TC;function Vm(t,e=" KB"){return new Intl.NumberFormat("en").format((t/1024).toFixed(2))+e}function AC(t){const e=t.indexOf("?");return e<0?t:t.substring(0,e)}Object.defineProperty(kc,"__esModule",{value:!0});kc.GenericDifferentialDownloader=void 0;const xC=ll;class RC extends xC.DifferentialDownloader{download(e,r){return this.doDownload(e,r)}}kc.GenericDifferentialDownloader=RC;var Ci={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.UpdaterSignal=t.UPDATE_DOWNLOADED=t.DOWNLOAD_PROGRESS=t.CancellationToken=void 0,t.addHandler=n;const e=Nt;Object.defineProperty(t,"CancellationToken",{enumerable:!0,get:function(){return e.CancellationToken}}),t.DOWNLOAD_PROGRESS="download-progress",t.UPDATE_DOWNLOADED="update-downloaded";class r{constructor(s){this.emitter=s}login(s){n(this.emitter,"login",s)}progress(s){n(this.emitter,t.DOWNLOAD_PROGRESS,s)}updateDownloaded(s){n(this.emitter,t.UPDATE_DOWNLOADED,s)}updateCancelled(s){n(this.emitter,"update-cancelled",s)}}t.UpdaterSignal=r;function n(i,s,a){i.on(s,a)}})(Ci);Object.defineProperty(vi,"__esModule",{value:!0});vi.NoOpLogger=vi.AppUpdater=void 0;const Ht=Nt,OC=Nn,IC=fs,CC=Cr,Rs=qe,DC=Wt,Jf=Oc,Gi=Pe,Hi=C_,Ym=al,PC=Nc,Km=D_,$C=ol,eh=Lc,NC=el,LC=Dr,FC=kc,Os=Ci;class Ep extends CC.EventEmitter{get channel(){return this._channel}set channel(e){if(this._channel!=null){if(typeof e!="string")throw(0,Ht.newError)(`Channel must be a string, but got: ${e}`,"ERR_UPDATER_INVALID_CHANNEL");if(e.length===0)throw(0,Ht.newError)("Channel must be not an empty string","ERR_UPDATER_INVALID_CHANNEL")}this._channel=e,this.allowDowngrade=!0}addAuthHeader(e){this.requestHeaders=Object.assign({},this.requestHeaders,{authorization:e})}get netSession(){return(0,Km.getNetSession)()}get logger(){return this._logger}set logger(e){this._logger=e??new k_}set updateConfigPath(e){this.clientPromise=null,this._appUpdateConfigPath=e,this.configOnDisk=new Jf.Lazy(()=>this.loadUpdateConfig())}get isUpdateSupported(){return this._isUpdateSupported}set isUpdateSupported(e){e&&(this._isUpdateSupported=e)}constructor(e,r){super(),this.autoDownload=!0,this.autoInstallOnAppQuit=!0,this.autoRunAppAfterInstall=!0,this.allowPrerelease=!1,this.fullChangelog=!1,this.allowDowngrade=!1,this.disableWebInstaller=!1,this.disableDifferentialDownload=!1,this.forceDevUpdateConfig=!1,this._channel=null,this.downloadedUpdateHelper=null,this.requestHeaders=null,this._logger=console,this.signals=new Os.UpdaterSignal(this),this._appUpdateConfigPath=null,this._isUpdateSupported=s=>this.checkIfUpdateSupported(s),this.clientPromise=null,this.stagingUserIdPromise=new Jf.Lazy(()=>this.getOrCreateStagingUserId()),this.configOnDisk=new Jf.Lazy(()=>this.loadUpdateConfig()),this.checkForUpdatesPromise=null,this.downloadPromise=null,this.updateInfoAndProvider=null,this._testOnlyOptions=null,this.on("error",s=>{this._logger.error(`Error: ${s.stack||s.message}`)}),r==null?(this.app=new PC.ElectronAppAdapter,this.httpExecutor=new Km.ElectronHttpExecutor((s,a)=>this.emit("login",s,a))):(this.app=r,this.httpExecutor=null);const n=this.app.version,i=(0,Hi.parse)(n);if(i==null)throw(0,Ht.newError)(`App version is not a valid semver version: "${n}"`,"ERR_UPDATER_INVALID_VERSION");this.currentVersion=i,this.allowPrerelease=MC(i),e!=null&&(this.setFeedURL(e),typeof e!="string"&&e.requestHeaders&&(this.requestHeaders=e.requestHeaders))}getFeedURL(){return"Deprecated. Do not use it."}setFeedURL(e){const r=this.createProviderRuntimeOptions();let n;typeof e=="string"?n=new $C.GenericProvider({provider:"generic",url:e},this,{...r,isUseMultipleRangeRequest:(0,eh.isUrlProbablySupportMultiRangeRequests)(e)}):n=(0,eh.createClient)(e,this,r),this.clientPromise=Promise.resolve(n)}checkForUpdates(){if(!this.isUpdaterActive())return Promise.resolve(null);let e=this.checkForUpdatesPromise;if(e!=null)return this._logger.info("Checking for update (already in progress)"),e;const r=()=>this.checkForUpdatesPromise=null;return this._logger.info("Checking for update"),e=this.doCheckForUpdates().then(n=>(r(),n)).catch(n=>{throw r(),this.emit("error",n,`Cannot check for updates: ${(n.stack||n).toString()}`),n}),this.checkForUpdatesPromise=e,e}isUpdaterActive(){return this.app.isPackaged||this.forceDevUpdateConfig?!0:(this._logger.info("Skip checkForUpdates because application is not packed and dev update config is not forced"),!1)}checkForUpdatesAndNotify(e){return this.checkForUpdates().then(r=>r!=null&&r.downloadPromise?(r.downloadPromise.then(()=>{const n=Ep.formatDownloadNotification(r.updateInfo.version,this.app.name,e);new ye.Notification(n).show()}),r):(this._logger.debug!=null&&this._logger.debug("checkForUpdatesAndNotify called, downloadPromise is null"),r))}static formatDownloadNotification(e,r,n){return n==null&&(n={title:"A new update is ready to install",body:"{appName} version {version} has been downloaded and will be automatically installed on exit"}),n={title:n.title.replace("{appName}",r).replace("{version}",e),body:n.body.replace("{appName}",r).replace("{version}",e)},n}async isStagingMatch(e){const r=e.stagingPercentage;let n=r;if(n==null)return!0;if(n=parseInt(n,10),isNaN(n))return this._logger.warn(`Staging percentage is NaN: ${r}`),!0;n=n/100;const i=await this.stagingUserIdPromise.value,a=Ht.UUID.parse(i).readUInt32BE(12)/4294967295;return this._logger.info(`Staging percentage: ${n}, percentage: ${a}, user id: ${i}`),a<n}computeFinalHeaders(e){return this.requestHeaders!=null&&Object.assign(e,this.requestHeaders),e}async isUpdateAvailable(e){const r=(0,Hi.parse)(e.version);if(r==null)throw(0,Ht.newError)(`This file could not be downloaded, or the latest version (from update server) does not have a valid semver version: "${e.version}"`,"ERR_UPDATER_INVALID_VERSION");const n=this.currentVersion;if((0,Hi.eq)(r,n)||!await Promise.resolve(this.isUpdateSupported(e))||!await this.isStagingMatch(e))return!1;const s=(0,Hi.gt)(r,n),a=(0,Hi.lt)(r,n);return s?!0:this.allowDowngrade&&a}checkIfUpdateSupported(e){const r=e==null?void 0:e.minimumSystemVersion,n=(0,IC.release)();if(r)try{if((0,Hi.lt)(n,r))return this._logger.info(`Current OS version ${n} is less than the minimum OS version required ${r} for version ${n}`),!1}catch(i){this._logger.warn(`Failed to compare current OS version(${n}) with minimum OS version(${r}): ${(i.message||i).toString()}`)}return!0}async getUpdateInfoAndProvider(){await this.app.whenReady(),this.clientPromise==null&&(this.clientPromise=this.configOnDisk.value.then(n=>(0,eh.createClient)(n,this,this.createProviderRuntimeOptions())));const e=await this.clientPromise,r=await this.stagingUserIdPromise.value;return e.setRequestHeaders(this.computeFinalHeaders({"x-user-staging-id":r})),{info:await e.getLatestVersion(),provider:e}}createProviderRuntimeOptions(){return{isUseMultipleRangeRequest:!0,platform:this._testOnlyOptions==null?process.platform:this._testOnlyOptions.platform,executor:this.httpExecutor}}async doCheckForUpdates(){this.emit("checking-for-update");const e=await this.getUpdateInfoAndProvider(),r=e.info;if(!await this.isUpdateAvailable(r))return this._logger.info(`Update for version ${this.currentVersion.format()} is not available (latest version: ${r.version}, downgrade is ${this.allowDowngrade?"allowed":"disallowed"}).`),this.emit("update-not-available",r),{isUpdateAvailable:!1,versionInfo:r,updateInfo:r};this.updateInfoAndProvider=e,this.onUpdateAvailable(r);const n=new Ht.CancellationToken;return{isUpdateAvailable:!0,versionInfo:r,updateInfo:r,cancellationToken:n,downloadPromise:this.autoDownload?this.downloadUpdate(n):null}}onUpdateAvailable(e){this._logger.info(`Found version ${e.version} (url: ${(0,Ht.asArray)(e.files).map(r=>r.url).join(", ")})`),this.emit("update-available",e)}downloadUpdate(e=new Ht.CancellationToken){const r=this.updateInfoAndProvider;if(r==null){const i=new Error("Please check update first");return this.dispatchError(i),Promise.reject(i)}if(this.downloadPromise!=null)return this._logger.info("Downloading update (already in progress)"),this.downloadPromise;this._logger.info(`Downloading update from ${(0,Ht.asArray)(r.info.files).map(i=>i.url).join(", ")}`);const n=i=>{if(!(i instanceof Ht.CancellationError))try{this.dispatchError(i)}catch(s){this._logger.warn(`Cannot dispatch error event: ${s.stack||s}`)}return i};return this.downloadPromise=this.doDownloadUpdate({updateInfoAndProvider:r,requestHeaders:this.computeRequestHeaders(r.provider),cancellationToken:e,disableWebInstaller:this.disableWebInstaller,disableDifferentialDownload:this.disableDifferentialDownload}).catch(i=>{throw n(i)}).finally(()=>{this.downloadPromise=null}),this.downloadPromise}dispatchError(e){this.emit("error",e,(e.stack||e).toString())}dispatchUpdateDownloaded(e){this.emit(Os.UPDATE_DOWNLOADED,e)}async loadUpdateConfig(){return this._appUpdateConfigPath==null&&(this._appUpdateConfigPath=this.app.appUpdateConfigPath),(0,DC.load)(await(0,Rs.readFile)(this._appUpdateConfigPath,"utf-8"))}computeRequestHeaders(e){const r=e.fileExtraDownloadHeaders;if(r!=null){const n=this.requestHeaders;return n==null?r:{...r,...n}}return this.computeFinalHeaders({accept:"*/*"})}async getOrCreateStagingUserId(){const e=Gi.join(this.app.userDataPath,".updaterId");try{const n=await(0,Rs.readFile)(e,"utf-8");if(Ht.UUID.check(n))return n;this._logger.warn(`Staging user id file exists, but content was invalid: ${n}`)}catch(n){n.code!=="ENOENT"&&this._logger.warn(`Couldn't read staging user ID, creating a blank one: ${n}`)}const r=Ht.UUID.v5((0,OC.randomBytes)(4096),Ht.UUID.OID);this._logger.info(`Generated new staging user ID: ${r}`);try{await(0,Rs.outputFile)(e,r)}catch(n){this._logger.warn(`Couldn't write out staging user ID: ${n}`)}return r}get isAddNoCacheQuery(){const e=this.requestHeaders;if(e==null)return!0;for(const r of Object.keys(e)){const n=r.toLowerCase();if(n==="authorization"||n==="private-token")return!1}return!0}async getOrCreateDownloadHelper(){let e=this.downloadedUpdateHelper;if(e==null){const r=(await this.configOnDisk.value).updaterCacheDirName,n=this._logger;r==null&&n.error("updaterCacheDirName is not specified in app-update.yml Was app build using at least electron-builder 20.34.0?");const i=Gi.join(this.app.baseCachePath,r||this.app.name);n.debug!=null&&n.debug(`updater cache dir: ${i}`),e=new Ym.DownloadedUpdateHelper(i),this.downloadedUpdateHelper=e}return e}async executeDownload(e){const r=e.fileInfo,n={headers:e.downloadUpdateOptions.requestHeaders,cancellationToken:e.downloadUpdateOptions.cancellationToken,sha2:r.info.sha2,sha512:r.info.sha512};this.listenerCount(Os.DOWNLOAD_PROGRESS)>0&&(n.onProgress=m=>this.emit(Os.DOWNLOAD_PROGRESS,m));const i=e.downloadUpdateOptions.updateInfoAndProvider.info,s=i.version,a=r.packageInfo;function o(){const m=decodeURIComponent(e.fileInfo.url.pathname);return m.endsWith(`.${e.fileExtension}`)?Gi.basename(m):e.fileInfo.info.url}const l=await this.getOrCreateDownloadHelper(),c=l.cacheDirForPendingUpdate;await(0,Rs.mkdir)(c,{recursive:!0});const u=o();let h=Gi.join(c,u);const d=a==null?null:Gi.join(c,`package-${s}${Gi.extname(a.path)||".7z"}`),b=async m=>(await l.setDownloadedFile(h,d,i,r,u,m),await e.done({...i,downloadedFile:h}),d==null?[h]:[h,d]),T=this._logger,w=await l.validateDownloadedPath(h,i,r,T);if(w!=null)return h=w,await b(!1);const E=async()=>(await l.clear().catch(()=>{}),await(0,Rs.unlink)(h).catch(()=>{})),p=await(0,Ym.createTempUpdateFile)(`temp-${u}`,c,T);try{await e.task(p,n,d,E),await(0,Ht.retry)(()=>(0,Rs.rename)(p,h),60,500,0,0,m=>m instanceof Error&&/^EBUSY:/.test(m.message))}catch(m){throw await E(),m instanceof Ht.CancellationError&&(T.info("cancelled"),this.emit("update-cancelled",i)),m}return T.info(`New version ${s} has been downloaded to ${h}`),await b(!0)}async differentialDownloadInstaller(e,r,n,i,s){try{if(this._testOnlyOptions!=null&&!this._testOnlyOptions.isUseDifferentialDownload)return!0;const a=(0,LC.blockmapFiles)(e.url,this.app.version,r.updateInfoAndProvider.info.version);this._logger.info(`Download block maps (old: "${a[0]}", new: ${a[1]})`);const o=async u=>{const h=await this.httpExecutor.downloadToBuffer(u,{headers:r.requestHeaders,cancellationToken:r.cancellationToken});if(h==null||h.length===0)throw new Error(`Blockmap "${u.href}" is empty`);try{return JSON.parse((0,NC.gunzipSync)(h).toString())}catch(d){throw new Error(`Cannot parse blockmap "${u.href}", error: ${d}`)}},l={newUrl:e.url,oldFile:Gi.join(this.downloadedUpdateHelper.cacheDir,s),logger:this._logger,newFile:n,isUseMultipleRangeRequest:i.isUseMultipleRangeRequest,requestHeaders:r.requestHeaders,cancellationToken:r.cancellationToken};this.listenerCount(Os.DOWNLOAD_PROGRESS)>0&&(l.onProgress=u=>this.emit(Os.DOWNLOAD_PROGRESS,u));const c=await Promise.all(a.map(u=>o(u)));return await new FC.GenericDifferentialDownloader(e.info,this.httpExecutor,l).download(c[0],c[1]),!1}catch(a){if(this._logger.error(`Cannot download differentially, fallback to full download: ${a.stack||a}`),this._testOnlyOptions!=null)throw a;return!0}}}vi.AppUpdater=Ep;function MC(t){const e=(0,Hi.prerelease)(t);return e!=null&&e.length>0}class k_{info(e){}warn(e){}error(e){}}vi.NoOpLogger=k_;Object.defineProperty(kn,"__esModule",{value:!0});kn.BaseUpdater=void 0;const Xm=pi,UC=vi;class kC extends UC.AppUpdater{constructor(e,r){super(e,r),this.quitAndInstallCalled=!1,this.quitHandlerAdded=!1}quitAndInstall(e=!1,r=!1){this._logger.info("Install on explicit quitAndInstall"),this.install(e,e?r:this.autoRunAppAfterInstall)?setImmediate(()=>{ye.autoUpdater.emit("before-quit-for-update"),this.app.quit()}):this.quitAndInstallCalled=!1}executeDownload(e){return super.executeDownload({...e,done:r=>(this.dispatchUpdateDownloaded(r),this.addQuitHandler(),Promise.resolve())})}get installerPath(){return this.downloadedUpdateHelper==null?null:this.downloadedUpdateHelper.file}install(e=!1,r=!1){if(this.quitAndInstallCalled)return this._logger.warn("install call ignored: quitAndInstallCalled is set to true"),!1;const n=this.downloadedUpdateHelper,i=this.installerPath,s=n==null?null:n.downloadedFileInfo;if(i==null||s==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;this.quitAndInstallCalled=!0;try{return this._logger.info(`Install: isSilent: ${e}, isForceRunAfter: ${r}`),this.doInstall({isSilent:e,isForceRunAfter:r,isAdminRightsRequired:s.isAdminRightsRequired})}catch(a){return this.dispatchError(a),!1}}addQuitHandler(){this.quitHandlerAdded||!this.autoInstallOnAppQuit||(this.quitHandlerAdded=!0,this.app.onQuit(e=>{if(this.quitAndInstallCalled){this._logger.info("Update installer has already been triggered. Quitting application.");return}if(!this.autoInstallOnAppQuit){this._logger.info("Update will not be installed on quit because autoInstallOnAppQuit is set to false.");return}if(e!==0){this._logger.info(`Update will be not installed on quit because application is quitting with exit code ${e}`);return}this._logger.info("Auto install update on quit"),this.install(!0,!1)}))}wrapSudo(){const{name:e}=this.app,r=`"${e} would like to update"`,n=this.spawnSyncLog("which gksudo || which kdesudo || which pkexec || which beesu"),i=[n];return/kdesudo/i.test(n)?(i.push("--comment",r),i.push("-c")):/gksudo/i.test(n)?i.push("--message",r):/pkexec/i.test(n)&&i.push("--disable-internal-agent"),i.join(" ")}spawnSyncLog(e,r=[],n={}){this._logger.info(`Executing: ${e} with args: ${r}`);const i=(0,Xm.spawnSync)(e,r,{env:{...process.env,...n},encoding:"utf-8",shell:!0}),{error:s,status:a,stdout:o,stderr:l}=i;if(s!=null)throw this._logger.error(l),s;if(a!=null&&a!==0)throw this._logger.error(l),new Error(`Command ${e} exited with code ${a}`);return o.trim()}async spawnLog(e,r=[],n=void 0,i="ignore"){return this._logger.info(`Executing: ${e} with args: ${r}`),new Promise((s,a)=>{try{const o={stdio:i,env:n,detached:!0},l=(0,Xm.spawn)(e,r,o);l.on("error",c=>{a(c)}),l.unref(),l.pid!==void 0&&s(!0)}catch(o){a(o)}})}}kn.BaseUpdater=kC;var lo={},ul={};Object.defineProperty(ul,"__esModule",{value:!0});ul.FileWithEmbeddedBlockMapDifferentialDownloader=void 0;const Is=qe,BC=ll,jC=el;class WC extends BC.DifferentialDownloader{async download(){const e=this.blockAwareFileInfo,r=e.size,n=r-(e.blockMapSize+4);this.fileMetadataBuffer=await this.readRemoteBytes(n,r-1);const i=B_(this.fileMetadataBuffer.slice(0,this.fileMetadataBuffer.length-4));await this.doDownload(await GC(this.options.oldFile),i)}}ul.FileWithEmbeddedBlockMapDifferentialDownloader=WC;function B_(t){return JSON.parse((0,jC.inflateRawSync)(t).toString())}async function GC(t){const e=await(0,Is.open)(t,"r");try{const r=(await(0,Is.fstat)(e)).size,n=Buffer.allocUnsafe(4);await(0,Is.read)(e,n,0,n.length,r-n.length);const i=Buffer.allocUnsafe(n.readUInt32BE(0));return await(0,Is.read)(e,i,0,i.length,r-n.length-i.length),await(0,Is.close)(e),B_(i)}catch(r){throw await(0,Is.close)(e),r}}Object.defineProperty(lo,"__esModule",{value:!0});lo.AppImageUpdater=void 0;const Zm=Nt,Qm=pi,qC=qe,zC=vr,Fa=Pe,HC=kn,VC=ul,YC=At,Jm=Ci;class KC extends HC.BaseUpdater{constructor(e,r){super(e,r)}isUpdaterActive(){return process.env.APPIMAGE==null?(process.env.SNAP==null?this._logger.warn("APPIMAGE env is not defined, current application is not an AppImage"):this._logger.info("SNAP env is defined, updater is disabled"),!1):super.isUpdaterActive()}doDownloadUpdate(e){const r=e.updateInfoAndProvider.provider,n=(0,YC.findFile)(r.resolveFiles(e.updateInfoAndProvider.info),"AppImage",["rpm","deb","pacman"]);return this.executeDownload({fileExtension:"AppImage",fileInfo:n,downloadUpdateOptions:e,task:async(i,s)=>{const a=process.env.APPIMAGE;if(a==null)throw(0,Zm.newError)("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");(e.disableDifferentialDownload||await this.downloadDifferential(n,a,i,r,e))&&await this.httpExecutor.download(n.url,i,s),await(0,qC.chmod)(i,493)}})}async downloadDifferential(e,r,n,i,s){try{const a={newUrl:e.url,oldFile:r,logger:this._logger,newFile:n,isUseMultipleRangeRequest:i.isUseMultipleRangeRequest,requestHeaders:s.requestHeaders,cancellationToken:s.cancellationToken};return this.listenerCount(Jm.DOWNLOAD_PROGRESS)>0&&(a.onProgress=o=>this.emit(Jm.DOWNLOAD_PROGRESS,o)),await new VC.FileWithEmbeddedBlockMapDifferentialDownloader(e.info,this.httpExecutor,a).download(),!1}catch(a){return this._logger.error(`Cannot download differentially, fallback to full download: ${a.stack||a}`),process.platform==="linux"}}doInstall(e){const r=process.env.APPIMAGE;if(r==null)throw(0,Zm.newError)("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");(0,zC.unlinkSync)(r);let n;const i=Fa.basename(r),s=this.installerPath;if(s==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;Fa.basename(s)===i||!/\d+\.\d+\.\d+/.test(i)?n=r:n=Fa.join(Fa.dirname(r),Fa.basename(s)),(0,Qm.execFileSync)("mv",["-f",s,n]),n!==r&&this.emit("appimage-filename-updated",n);const a={...process.env,APPIMAGE_SILENT_INSTALL:"true"};return e.isForceRunAfter?this.spawnLog(n,[],a):(a.APPIMAGE_EXIT_AFTER_INSTALL="true",(0,Qm.execFileSync)(n,[],{env:a})),!0}}lo.AppImageUpdater=KC;var uo={};Object.defineProperty(uo,"__esModule",{value:!0});uo.DebUpdater=void 0;const XC=kn,ZC=At,e0=Ci;class QC extends XC.BaseUpdater{constructor(e,r){super(e,r)}doDownloadUpdate(e){const r=e.updateInfoAndProvider.provider,n=(0,ZC.findFile)(r.resolveFiles(e.updateInfoAndProvider.info),"deb",["AppImage","rpm","pacman"]);return this.executeDownload({fileExtension:"deb",fileInfo:n,downloadUpdateOptions:e,task:async(i,s)=>{this.listenerCount(e0.DOWNLOAD_PROGRESS)>0&&(s.onProgress=a=>this.emit(e0.DOWNLOAD_PROGRESS,a)),await this.httpExecutor.download(n.url,i,s)}})}get installerPath(){var e,r;return(r=(e=super.installerPath)===null||e===void 0?void 0:e.replace(/ /g,"\\ "))!==null&&r!==void 0?r:null}doInstall(e){const r=this.wrapSudo(),n=/pkexec/i.test(r)?"":'"',i=this.installerPath;if(i==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;const s=["dpkg","-i",i,"||","apt-get","install","-f","-y"];return this.spawnSyncLog(r,[`${n}/bin/bash`,"-c",`'${s.join(" ")}'${n}`]),e.isForceRunAfter&&this.app.relaunch(),!0}}uo.DebUpdater=QC;var co={};Object.defineProperty(co,"__esModule",{value:!0});co.PacmanUpdater=void 0;const JC=kn,t0=Ci,eD=At;class tD extends JC.BaseUpdater{constructor(e,r){super(e,r)}doDownloadUpdate(e){const r=e.updateInfoAndProvider.provider,n=(0,eD.findFile)(r.resolveFiles(e.updateInfoAndProvider.info),"pacman",["AppImage","deb","rpm"]);return this.executeDownload({fileExtension:"pacman",fileInfo:n,downloadUpdateOptions:e,task:async(i,s)=>{this.listenerCount(t0.DOWNLOAD_PROGRESS)>0&&(s.onProgress=a=>this.emit(t0.DOWNLOAD_PROGRESS,a)),await this.httpExecutor.download(n.url,i,s)}})}get installerPath(){var e,r;return(r=(e=super.installerPath)===null||e===void 0?void 0:e.replace(/ /g,"\\ "))!==null&&r!==void 0?r:null}doInstall(e){const r=this.wrapSudo(),n=/pkexec/i.test(r)?"":'"',i=this.installerPath;if(i==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;const s=["pacman","-U","--noconfirm",i];return this.spawnSyncLog(r,[`${n}/bin/bash`,"-c",`'${s.join(" ")}'${n}`]),e.isForceRunAfter&&this.app.relaunch(),!0}}co.PacmanUpdater=tD;var fo={};Object.defineProperty(fo,"__esModule",{value:!0});fo.RpmUpdater=void 0;const rD=kn,r0=Ci,nD=At;class iD extends rD.BaseUpdater{constructor(e,r){super(e,r)}doDownloadUpdate(e){const r=e.updateInfoAndProvider.provider,n=(0,nD.findFile)(r.resolveFiles(e.updateInfoAndProvider.info),"rpm",["AppImage","deb","pacman"]);return this.executeDownload({fileExtension:"rpm",fileInfo:n,downloadUpdateOptions:e,task:async(i,s)=>{this.listenerCount(r0.DOWNLOAD_PROGRESS)>0&&(s.onProgress=a=>this.emit(r0.DOWNLOAD_PROGRESS,a)),await this.httpExecutor.download(n.url,i,s)}})}get installerPath(){var e,r;return(r=(e=super.installerPath)===null||e===void 0?void 0:e.replace(/ /g,"\\ "))!==null&&r!==void 0?r:null}doInstall(e){const r=this.wrapSudo(),n=/pkexec/i.test(r)?"":'"',i=this.spawnSyncLog("which zypper"),s=this.installerPath;if(s==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;let a;return i?a=[i,"--no-refresh","install","--allow-unsigned-rpm","-y","-f",s]:a=[this.spawnSyncLog("which dnf || which yum"),"-y","install",s],this.spawnSyncLog(r,[`${n}/bin/bash`,"-c",`'${a.join(" ")}'${n}`]),e.isForceRunAfter&&this.app.relaunch(),!0}}fo.RpmUpdater=iD;var ho={};Object.defineProperty(ho,"__esModule",{value:!0});ho.MacUpdater=void 0;const n0=Nt,th=qe,sD=vr,i0=Pe,aD=S1,oD=vi,lD=At,s0=pi,a0=Nn;class uD extends oD.AppUpdater{constructor(e,r){super(e,r),this.nativeUpdater=ye.autoUpdater,this.squirrelDownloadedUpdate=!1,this.nativeUpdater.on("error",n=>{this._logger.warn(n),this.emit("error",n)}),this.nativeUpdater.on("update-downloaded",()=>{this.squirrelDownloadedUpdate=!0,this.debug("nativeUpdater.update-downloaded")})}debug(e){this._logger.debug!=null&&this._logger.debug(e)}closeServerIfExists(){this.server&&(this.debug("Closing proxy server"),this.server.close(e=>{e&&this.debug("proxy server wasn't already open, probably attempted closing again as a safety check before quit")}))}async doDownloadUpdate(e){let r=e.updateInfoAndProvider.provider.resolveFiles(e.updateInfoAndProvider.info);const n=this._logger,i="sysctl.proc_translated";let s=!1;try{this.debug("Checking for macOS Rosetta environment"),s=(0,s0.execFileSync)("sysctl",[i],{encoding:"utf8"}).includes(`${i}: 1`),n.info(`Checked for macOS Rosetta environment (isRosetta=${s})`)}catch(h){n.warn(`sysctl shell command to check for macOS Rosetta environment failed: ${h}`)}let a=!1;try{this.debug("Checking for arm64 in uname");const d=(0,s0.execFileSync)("uname",["-a"],{encoding:"utf8"}).includes("ARM");n.info(`Checked 'uname -a': arm64=${d}`),a=a||d}catch(h){n.warn(`uname shell command to check for arm64 failed: ${h}`)}a=a||process.arch==="arm64"||s;const o=h=>{var d;return h.url.pathname.includes("arm64")||((d=h.info.url)===null||d===void 0?void 0:d.includes("arm64"))};a&&r.some(o)?r=r.filter(h=>a===o(h)):r=r.filter(h=>!o(h));const l=(0,lD.findFile)(r,"zip",["pkg","dmg"]);if(l==null)throw(0,n0.newError)(`ZIP file not provided: ${(0,n0.safeStringifyJson)(r)}`,"ERR_UPDATER_ZIP_FILE_NOT_FOUND");const c=e.updateInfoAndProvider.provider,u="update.zip";return this.executeDownload({fileExtension:"zip",fileInfo:l,downloadUpdateOptions:e,task:async(h,d)=>{const b=i0.join(this.downloadedUpdateHelper.cacheDir,u),T=()=>(0,th.pathExistsSync)(b)?!e.disableDifferentialDownload:(n.info("Unable to locate previous update.zip for differential download (is this first install?), falling back to full download"),!1);let w=!0;T()&&(w=await this.differentialDownloadInstaller(l,e,h,c,u)),w&&await this.httpExecutor.download(l.url,h,d)},done:async h=>{if(!e.disableDifferentialDownload)try{const d=i0.join(this.downloadedUpdateHelper.cacheDir,u);await(0,th.copyFile)(h.downloadedFile,d)}catch(d){this._logger.warn(`Unable to copy file for caching for future differential downloads: ${d.message}`)}return this.updateDownloaded(l,h)}})}async updateDownloaded(e,r){var n;const i=r.downloadedFile,s=(n=e.info.size)!==null&&n!==void 0?n:(await(0,th.stat)(i)).size,a=this._logger,o=`fileToProxy=${e.url.href}`;this.closeServerIfExists(),this.debug(`Creating proxy server for native Squirrel.Mac (${o})`),this.server=(0,aD.createServer)(),this.debug(`Proxy server for native Squirrel.Mac is created (${o})`),this.server.on("close",()=>{a.info(`Proxy server for native Squirrel.Mac is closed (${o})`)});const l=c=>{const u=c.address();return typeof u=="string"?u:`http://127.0.0.1:${u==null?void 0:u.port}`};return await new Promise((c,u)=>{const h=(0,a0.randomBytes)(64).toString("base64").replace(/\//g,"_").replace(/\+/g,"-"),d=Buffer.from(`autoupdater:${h}`,"ascii"),b=`/${(0,a0.randomBytes)(64).toString("hex")}.zip`;this.server.on("request",(T,w)=>{const E=T.url;if(a.info(`${E} requested`),E==="/"){if(!T.headers.authorization||T.headers.authorization.indexOf("Basic ")===-1){w.statusCode=401,w.statusMessage="Invalid Authentication Credentials",w.end(),a.warn("No authenthication info");return}const v=T.headers.authorization.split(" ")[1],N=Buffer.from(v,"base64").toString("ascii"),[z,ue]=N.split(":");if(z!=="autoupdater"||ue!==h){w.statusCode=401,w.statusMessage="Invalid Authentication Credentials",w.end(),a.warn("Invalid authenthication credentials");return}const Q=Buffer.from(`{ "url": "${l(this.server)}${b}" }`);w.writeHead(200,{"Content-Type":"application/json","Content-Length":Q.length}),w.end(Q);return}if(!E.startsWith(b)){a.warn(`${E} requested, but not supported`),w.writeHead(404),w.end();return}a.info(`${b} requested by Squirrel.Mac, pipe ${i}`);let p=!1;w.on("finish",()=>{p||(this.nativeUpdater.removeListener("error",u),c([]))});const m=(0,sD.createReadStream)(i);m.on("error",v=>{try{w.end()}catch(N){a.warn(`cannot end response: ${N}`)}p=!0,this.nativeUpdater.removeListener("error",u),u(new Error(`Cannot pipe "${i}": ${v}`))}),w.writeHead(200,{"Content-Type":"application/zip","Content-Length":s}),m.pipe(w)}),this.debug(`Proxy server for native Squirrel.Mac is starting to listen (${o})`),this.server.listen(0,"127.0.0.1",()=>{this.debug(`Proxy server for native Squirrel.Mac is listening (address=${l(this.server)}, ${o})`),this.nativeUpdater.setFeedURL({url:l(this.server),headers:{"Cache-Control":"no-cache",Authorization:`Basic ${d.toString("base64")}`}}),this.dispatchUpdateDownloaded(r),this.autoInstallOnAppQuit?(this.nativeUpdater.once("error",u),this.nativeUpdater.checkForUpdates()):c([])})})}handleUpdateDownloaded(){this.autoRunAppAfterInstall?this.nativeUpdater.quitAndInstall():this.app.quit(),this.closeServerIfExists()}quitAndInstall(){this.squirrelDownloadedUpdate?this.handleUpdateDownloaded():(this.nativeUpdater.on("update-downloaded",()=>this.handleUpdateDownloaded()),this.autoInstallOnAppQuit||this.nativeUpdater.checkForUpdates())}}ho.MacUpdater=uD;var po={},Sp={};Object.defineProperty(Sp,"__esModule",{value:!0});Sp.verifySignature=fD;const o0=Nt,j_=pi,cD=fs,l0=Pe;function fD(t,e,r){return new Promise((n,i)=>{const s=e.replace(/'/g,"''");r.info(`Verifying signature ${s}`),(0,j_.execFile)('set "PSModulePath=" & chcp 65001 >NUL & powershell.exe',["-NoProfile","-NonInteractive","-InputFormat","None","-Command",`"Get-AuthenticodeSignature -LiteralPath '${s}' | ConvertTo-Json -Compress"`],{shell:!0,timeout:20*1e3},(a,o,l)=>{var c;try{if(a!=null||l){rh(r,a,l,i),n(null);return}const u=hD(o);if(u.Status===0){try{const T=l0.normalize(u.Path),w=l0.normalize(e);if(r.info(`LiteralPath: ${T}. Update Path: ${w}`),T!==w){rh(r,new Error(`LiteralPath of ${T} is different than ${w}`),l,i),n(null);return}}catch(T){r.warn(`Unable to verify LiteralPath of update asset due to missing data.Path. Skipping this step of validation. Message: ${(c=T.message)!==null&&c!==void 0?c:T.stack}`)}const d=(0,o0.parseDn)(u.SignerCertificate.Subject);let b=!1;for(const T of t){const w=(0,o0.parseDn)(T);if(w.size?b=Array.from(w.keys()).every(p=>w.get(p)===d.get(p)):T===d.get("CN")&&(r.warn(`Signature validated using only CN ${T}. Please add your full Distinguished Name (DN) to publisherNames configuration`),b=!0),b){n(null);return}}}const h=`publisherNames: ${t.join(" | ")}, raw info: `+JSON.stringify(u,(d,b)=>d==="RawData"?void 0:b,2);r.warn(`Sign verification failed, installer signed with incorrect certificate: ${h}`),n(h)}catch(u){rh(r,u,null,i),n(null);return}})})}function hD(t){const e=JSON.parse(t);delete e.PrivateKey,delete e.IsOSBinary,delete e.SignatureType;const r=e.SignerCertificate;return r!=null&&(delete r.Archived,delete r.Extensions,delete r.Handle,delete r.HasPrivateKey,delete r.SubjectName),e}function rh(t,e,r,n){if(dD()){t.warn(`Cannot execute Get-AuthenticodeSignature: ${e||r}. Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher.`);return}try{(0,j_.execFileSync)("powershell.exe",["-NoProfile","-NonInteractive","-Command","ConvertTo-Json test"],{timeout:10*1e3})}catch(i){t.warn(`Cannot execute ConvertTo-Json: ${i.message}. Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher.`);return}e!=null&&n(e),r&&n(new Error(`Cannot execute Get-AuthenticodeSignature, stderr: ${r}. Failing signature validation due to unknown stderr.`))}function dD(){const t=cD.release();return t.startsWith("6.")&&!t.startsWith("6.3")}Object.defineProperty(po,"__esModule",{value:!0});po.NsisUpdater=void 0;const Jl=Nt,u0=Pe,pD=kn,gD=ul,c0=Ci,mD=At,yD=qe,wD=Sp,f0=ga;class _D extends pD.BaseUpdater{constructor(e,r){super(e,r),this._verifyUpdateCodeSignature=(n,i)=>(0,wD.verifySignature)(n,i,this._logger)}get verifyUpdateCodeSignature(){return this._verifyUpdateCodeSignature}set verifyUpdateCodeSignature(e){e&&(this._verifyUpdateCodeSignature=e)}doDownloadUpdate(e){const r=e.updateInfoAndProvider.provider,n=(0,mD.findFile)(r.resolveFiles(e.updateInfoAndProvider.info),"exe");return this.executeDownload({fileExtension:"exe",downloadUpdateOptions:e,fileInfo:n,task:async(i,s,a,o)=>{const l=n.packageInfo,c=l!=null&&a!=null;if(c&&e.disableWebInstaller)throw(0,Jl.newError)(`Unable to download new version ${e.updateInfoAndProvider.info.version}. Web Installers are disabled`,"ERR_UPDATER_WEB_INSTALLER_DISABLED");!c&&!e.disableWebInstaller&&this._logger.warn("disableWebInstaller is set to false, you should set it to true if you do not plan on using a web installer. This will default to true in a future version."),(c||e.disableDifferentialDownload||await this.differentialDownloadInstaller(n,e,i,r,Jl.CURRENT_APP_INSTALLER_FILE_NAME))&&await this.httpExecutor.download(n.url,i,s);const u=await this.verifySignature(i);if(u!=null)throw await o(),(0,Jl.newError)(`New version ${e.updateInfoAndProvider.info.version} is not signed by the application owner: ${u}`,"ERR_UPDATER_INVALID_SIGNATURE");if(c&&await this.differentialDownloadWebPackage(e,l,a,r))try{await this.httpExecutor.download(new f0.URL(l.path),a,{headers:e.requestHeaders,cancellationToken:e.cancellationToken,sha512:l.sha512})}catch(h){try{await(0,yD.unlink)(a)}catch{}throw h}}})}async verifySignature(e){let r;try{if(r=(await this.configOnDisk.value).publisherName,r==null)return null}catch(n){if(n.code==="ENOENT")return null;throw n}return await this._verifyUpdateCodeSignature(Array.isArray(r)?r:[r],e)}doInstall(e){const r=this.installerPath;if(r==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;const n=["--updated"];e.isSilent&&n.push("/S"),e.isForceRunAfter&&n.push("--force-run"),this.installDirectory&&n.push(`/D=${this.installDirectory}`);const i=this.downloadedUpdateHelper==null?null:this.downloadedUpdateHelper.packageFile;i!=null&&n.push(`--package-file=${i}`);const s=()=>{this.spawnLog(u0.join(process.resourcesPath,"elevate.exe"),[r].concat(n)).catch(a=>this.dispatchError(a))};return e.isAdminRightsRequired?(this._logger.info("isAdminRightsRequired is set to true, run installer using elevate.exe"),s(),!0):(this.spawnLog(r,n).catch(a=>{const o=a.code;this._logger.info(`Cannot run installer: error code: ${o}, error message: "${a.message}", will be executed again using elevate if EACCES, and will try to use electron.shell.openItem if ENOENT`),o==="UNKNOWN"||o==="EACCES"?s():o==="ENOENT"?ye.shell.openPath(r).catch(l=>this.dispatchError(l)):this.dispatchError(a)}),!0)}async differentialDownloadWebPackage(e,r,n,i){if(r.blockMapSize==null)return!0;try{const s={newUrl:new f0.URL(r.path),oldFile:u0.join(this.downloadedUpdateHelper.cacheDir,Jl.CURRENT_APP_PACKAGE_FILE_NAME),logger:this._logger,newFile:n,requestHeaders:this.requestHeaders,isUseMultipleRangeRequest:i.isUseMultipleRangeRequest,cancellationToken:e.cancellationToken};this.listenerCount(c0.DOWNLOAD_PROGRESS)>0&&(s.onProgress=a=>this.emit(c0.DOWNLOAD_PROGRESS,a)),await new gD.FileWithEmbeddedBlockMapDifferentialDownloader(r,this.httpExecutor,s).download()}catch(s){return this._logger.error(`Cannot download differentially, fallback to full download: ${s.stack||s}`),process.platform==="win32"}return!1}}po.NsisUpdater=_D;(function(t){var e=Be&&Be.__createBinding||(Object.create?function(E,p,m,v){v===void 0&&(v=m);var N=Object.getOwnPropertyDescriptor(p,m);(!N||("get"in N?!p.__esModule:N.writable||N.configurable))&&(N={enumerable:!0,get:function(){return p[m]}}),Object.defineProperty(E,v,N)}:function(E,p,m,v){v===void 0&&(v=m),E[v]=p[m]}),r=Be&&Be.__exportStar||function(E,p){for(var m in E)m!=="default"&&!Object.prototype.hasOwnProperty.call(p,m)&&e(p,E,m)};Object.defineProperty(t,"__esModule",{value:!0}),t.NsisUpdater=t.MacUpdater=t.RpmUpdater=t.PacmanUpdater=t.DebUpdater=t.AppImageUpdater=t.Provider=t.NoOpLogger=t.AppUpdater=t.BaseUpdater=void 0;const n=qe,i=Pe;var s=kn;Object.defineProperty(t,"BaseUpdater",{enumerable:!0,get:function(){return s.BaseUpdater}});var a=vi;Object.defineProperty(t,"AppUpdater",{enumerable:!0,get:function(){return a.AppUpdater}}),Object.defineProperty(t,"NoOpLogger",{enumerable:!0,get:function(){return a.NoOpLogger}});var o=At;Object.defineProperty(t,"Provider",{enumerable:!0,get:function(){return o.Provider}});var l=lo;Object.defineProperty(t,"AppImageUpdater",{enumerable:!0,get:function(){return l.AppImageUpdater}});var c=uo;Object.defineProperty(t,"DebUpdater",{enumerable:!0,get:function(){return c.DebUpdater}});var u=co;Object.defineProperty(t,"PacmanUpdater",{enumerable:!0,get:function(){return u.PacmanUpdater}});var h=fo;Object.defineProperty(t,"RpmUpdater",{enumerable:!0,get:function(){return h.RpmUpdater}});var d=ho;Object.defineProperty(t,"MacUpdater",{enumerable:!0,get:function(){return d.MacUpdater}});var b=po;Object.defineProperty(t,"NsisUpdater",{enumerable:!0,get:function(){return b.NsisUpdater}}),r(Ci,t);let T;function w(){if(process.platform==="win32")T=new po.NsisUpdater;else if(process.platform==="darwin")T=new ho.MacUpdater;else{T=new lo.AppImageUpdater;try{const E=i.join(process.resourcesPath,"package-type");if(!(0,n.existsSync)(E))return T;console.info("Checking for beta autoupdate feature for deb/rpm distributions");const p=(0,n.readFileSync)(E).toString().trim();switch(console.info("Found package-type:",p),p){case"deb":T=new uo.DebUpdater;break;case"rpm":T=new fo.RpmUpdater;break;case"pacman":T=new co.PacmanUpdater;break;default:break}}catch(E){console.warn("Unable to detect 'package-type' for autoUpdater (beta rpm/deb support). If you'd like to expand support, please consider contributing to electron-builder",E.message)}}return T}Object.defineProperty(t,"autoUpdater",{enumerable:!0,get:()=>T||w()})})(sr);const bD=typeof process=="object"&&process&&process.platform==="win32";var vD=bD?{sep:"\\"}:{sep:"/"},ED=W_;function W_(t,e,r){t instanceof RegExp&&(t=h0(t,r)),e instanceof RegExp&&(e=h0(e,r));var n=G_(t,e,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+t.length,n[1]),post:r.slice(n[1]+e.length)}}function h0(t,e){var r=e.match(t);return r?r[0]:null}W_.range=G_;function G_(t,e,r){var n,i,s,a,o,l=r.indexOf(t),c=r.indexOf(e,l+1),u=l;if(l>=0&&c>0){if(t===e)return[l,c];for(n=[],s=r.length;u>=0&&!o;)u==l?(n.push(u),l=r.indexOf(t,u+1)):n.length==1?o=[n.pop(),c]:(i=n.pop(),i<s&&(s=i,a=c),c=r.indexOf(e,u+1)),u=l<c&&l>=0?l:c;n.length&&(o=[s,a])}return o}var q_=ED,z_=AD,H_="\0SLASH"+Math.random()+"\0",V_="\0OPEN"+Math.random()+"\0",Tp="\0CLOSE"+Math.random()+"\0",Y_="\0COMMA"+Math.random()+"\0",K_="\0PERIOD"+Math.random()+"\0";function nh(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function SD(t){return t.split("\\\\").join(H_).split("\\{").join(V_).split("\\}").join(Tp).split("\\,").join(Y_).split("\\.").join(K_)}function TD(t){return t.split(H_).join("\\").split(V_).join("{").split(Tp).join("}").split(Y_).join(",").split(K_).join(".")}function X_(t){if(!t)return[""];var e=[],r=q_("{","}",t);if(!r)return t.split(",");var n=r.pre,i=r.body,s=r.post,a=n.split(",");a[a.length-1]+="{"+i+"}";var o=X_(s);return s.length&&(a[a.length-1]+=o.shift(),a.push.apply(a,o)),e.push.apply(e,a),e}function AD(t){return t?(t.substr(0,2)==="{}"&&(t="\\{\\}"+t.substr(2)),Ha(SD(t),!0).map(TD)):[]}function xD(t){return"{"+t+"}"}function RD(t){return/^-?0\d/.test(t)}function OD(t,e){return t<=e}function ID(t,e){return t>=e}function Ha(t,e){var r=[],n=q_("{","}",t);if(!n)return[t];var i=n.pre,s=n.post.length?Ha(n.post,!1):[""];if(/\$$/.test(n.pre))for(var a=0;a<s.length;a++){var o=i+"{"+n.body+"}"+s[a];r.push(o)}else{var l=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),c=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),u=l||c,h=n.body.indexOf(",")>=0;if(!u&&!h)return n.post.match(/,(?!,).*\}/)?(t=n.pre+"{"+n.body+Tp+n.post,Ha(t)):[t];var d;if(u)d=n.body.split(/\.\./);else if(d=X_(n.body),d.length===1&&(d=Ha(d[0],!1).map(xD),d.length===1))return s.map(function(k){return n.pre+d[0]+k});var b;if(u){var T=nh(d[0]),w=nh(d[1]),E=Math.max(d[0].length,d[1].length),p=d.length==3?Math.abs(nh(d[2])):1,m=OD,v=w<T;v&&(p*=-1,m=ID);var N=d.some(RD);b=[];for(var z=T;m(z,w);z+=p){var ue;if(c)ue=String.fromCharCode(z),ue==="\\"&&(ue="");else if(ue=String(z),N){var Q=E-ue.length;if(Q>0){var G=new Array(Q+1).join("0");z<0?ue="-"+G+ue.slice(1):ue=G+ue}}b.push(ue)}}else{b=[];for(var R=0;R<d.length;R++)b.push.apply(b,Ha(d[R],!1))}for(var R=0;R<b.length;R++)for(var a=0;a<s.length;a++){var o=i+b[R]+s[a];(!e||u||o)&&r.push(o)}}return r}const yr=Z_=(t,e,r={})=>(Yu(e),!r.nocomment&&e.charAt(0)==="#"?!1:new Wc(e,r).match(t));var Z_=yr;const bd=vD;yr.sep=bd.sep;const Fr=Symbol("globstar **");yr.GLOBSTAR=Fr;const CD=z_,d0={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},vd="[^/]",ih=vd+"*?",DD="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",PD="(?:(?!(?:\\/|^)\\.).)*?",Q_=t=>t.split("").reduce((e,r)=>(e[r]=!0,e),{}),p0=Q_("().*{}+?[]^$\\!"),$D=Q_("[.("),g0=/\/+/;yr.filter=(t,e={})=>(r,n,i)=>yr(r,t,e);const Kn=(t,e={})=>{const r={};return Object.keys(t).forEach(n=>r[n]=t[n]),Object.keys(e).forEach(n=>r[n]=e[n]),r};yr.defaults=t=>{if(!t||typeof t!="object"||!Object.keys(t).length)return yr;const e=yr,r=(n,i,s)=>e(n,i,Kn(t,s));return r.Minimatch=class extends e.Minimatch{constructor(i,s){super(i,Kn(t,s))}},r.Minimatch.defaults=n=>e.defaults(Kn(t,n)).Minimatch,r.filter=(n,i)=>e.filter(n,Kn(t,i)),r.defaults=n=>e.defaults(Kn(t,n)),r.makeRe=(n,i)=>e.makeRe(n,Kn(t,i)),r.braceExpand=(n,i)=>e.braceExpand(n,Kn(t,i)),r.match=(n,i,s)=>e.match(n,i,Kn(t,s)),r};yr.braceExpand=(t,e)=>J_(t,e);const J_=(t,e={})=>(Yu(t),e.nobrace||!/\{(?:(?!\{).)*\}/.test(t)?[t]:CD(t)),ND=1024*64,Yu=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>ND)throw new TypeError("pattern is too long")},sh=Symbol("subparse");yr.makeRe=(t,e)=>new Wc(t,e||{}).makeRe();yr.match=(t,e,r={})=>{const n=new Wc(e,r);return t=t.filter(i=>n.match(i)),n.options.nonull&&!t.length&&t.push(e),t};const LD=t=>t.replace(/\\(.)/g,"$1"),FD=t=>t.replace(/\\([^-\]])/g,"$1"),MD=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),UD=t=>t.replace(/[[\]\\]/g,"\\$&");let Wc=class{constructor(e,r){Yu(e),r||(r={}),this.options=r,this.set=[],this.pattern=e,this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!r.partial,this.make()}debug(){}make(){const e=this.pattern,r=this.options;if(!r.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();let n=this.globSet=this.braceExpand();r.debug&&(this.debug=(...i)=>console.error(...i)),this.debug(this.pattern,n),n=this.globParts=n.map(i=>i.split(g0)),this.debug(this.pattern,n),n=n.map((i,s,a)=>i.map(this.parse,this)),this.debug(this.pattern,n),n=n.filter(i=>i.indexOf(!1)===-1),this.debug(this.pattern,n),this.set=n}parseNegate(){if(this.options.nonegate)return;const e=this.pattern;let r=!1,n=0;for(let i=0;i<e.length&&e.charAt(i)==="!";i++)r=!r,n++;n&&(this.pattern=e.slice(n)),this.negate=r}matchOne(e,r,n){var i=this.options;this.debug("matchOne",{this:this,file:e,pattern:r}),this.debug("matchOne",e.length,r.length);for(var s=0,a=0,o=e.length,l=r.length;s<o&&a<l;s++,a++){this.debug("matchOne loop");var c=r[a],u=e[s];if(this.debug(r,c,u),c===!1)return!1;if(c===Fr){this.debug("GLOBSTAR",[r,c,u]);var h=s,d=a+1;if(d===l){for(this.debug("** at the end");s<o;s++)if(e[s]==="."||e[s]===".."||!i.dot&&e[s].charAt(0)===".")return!1;return!0}for(;h<o;){var b=e[h];if(this.debug(`
globstar while`,e,h,r,d,b),this.matchOne(e.slice(h),r.slice(d),n))return this.debug("globstar found match!",h,o,b),!0;if(b==="."||b===".."||!i.dot&&b.charAt(0)==="."){this.debug("dot detected!",e,h,r,d);break}this.debug("globstar swallow a segment, and continue"),h++}return!!(n&&(this.debug(`
>>> no match, partial?`,e,h,r,d),h===o))}var T;if(typeof c=="string"?(T=u===c,this.debug("string match",c,u,T)):(T=u.match(c),this.debug("pattern match",c,u,T)),!T)return!1}if(s===o&&a===l)return!0;if(s===o)return n;if(a===l)return s===o-1&&e[s]==="";throw new Error("wtf?")}braceExpand(){return J_(this.pattern,this.options)}parse(e,r){Yu(e);const n=this.options;if(e==="**")if(n.noglobstar)e="*";else return Fr;if(e==="")return"";let i="",s=!1,a=!1;const o=[],l=[];let c,u=!1,h=-1,d=-1,b,T,w,E=e.charAt(0)===".",p=n.dot||E;const m=()=>E?"":p?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",v=Q=>Q.charAt(0)==="."?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",N=()=>{if(c){switch(c){case"*":i+=ih,s=!0;break;case"?":i+=vd,s=!0;break;default:i+="\\"+c;break}this.debug("clearStateChar %j %j",c,i),c=!1}};for(let Q=0,G;Q<e.length&&(G=e.charAt(Q));Q++){if(this.debug("%s	%s %s %j",e,Q,i,G),a){if(G==="/")return!1;p0[G]&&(i+="\\"),i+=G,a=!1;continue}switch(G){case"/":return!1;case"\\":if(u&&e.charAt(Q+1)==="-"){i+=G;continue}N(),a=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,Q,i,G),u){this.debug("  in class"),G==="!"&&Q===d+1&&(G="^"),i+=G;continue}this.debug("call clearStateChar %j",c),N(),c=G,n.noext&&N();continue;case"(":{if(u){i+="(";continue}if(!c){i+="\\(";continue}const R={type:c,start:Q-1,reStart:i.length,open:d0[c].open,close:d0[c].close};this.debug(this.pattern,"	",R),o.push(R),i+=R.open,R.start===0&&R.type!=="!"&&(E=!0,i+=v(e.slice(Q+1))),this.debug("plType %j %j",c,i),c=!1;continue}case")":{const R=o[o.length-1];if(u||!R){i+="\\)";continue}o.pop(),N(),s=!0,T=R,i+=T.close,T.type==="!"&&l.push(Object.assign(T,{reEnd:i.length}));continue}case"|":{const R=o[o.length-1];if(u||!R){i+="\\|";continue}N(),i+="|",R.start===0&&R.type!=="!"&&(E=!0,i+=v(e.slice(Q+1)));continue}case"[":if(N(),u){i+="\\"+G;continue}u=!0,d=Q,h=i.length,i+=G;continue;case"]":if(Q===d+1||!u){i+="\\"+G;continue}b=e.substring(d+1,Q);try{RegExp("["+UD(FD(b))+"]"),i+=G}catch{i=i.substring(0,h)+"(?:$.)"}s=!0,u=!1;continue;default:N(),p0[G]&&!(G==="^"&&u)&&(i+="\\"),i+=G;break}}for(u&&(b=e.slice(d+1),w=this.parse(b,sh),i=i.substring(0,h)+"\\["+w[0],s=s||w[1]),T=o.pop();T;T=o.pop()){let Q;Q=i.slice(T.reStart+T.open.length),this.debug("setting tail",i,T),Q=Q.replace(/((?:\\{2}){0,64})(\\?)\|/g,(R,k,W)=>(W||(W="\\"),k+k+W+"|")),this.debug(`tail=%j
   %s`,Q,Q,T,i);const G=T.type==="*"?ih:T.type==="?"?vd:"\\"+T.type;s=!0,i=i.slice(0,T.reStart)+G+"\\("+Q}N(),a&&(i+="\\\\");const z=$D[i.charAt(0)];for(let Q=l.length-1;Q>-1;Q--){const G=l[Q],R=i.slice(0,G.reStart),k=i.slice(G.reStart,G.reEnd-8);let W=i.slice(G.reEnd);const H=i.slice(G.reEnd-8,G.reEnd)+W,j=R.split(")").length,X=R.split("(").length-j;let Y=W;for(let P=0;P<X;P++)Y=Y.replace(/\)[+*?]?/,"");W=Y;const ne=W===""&&r!==sh?"(?:$|\\/)":"";i=R+k+W+ne+H}if(i!==""&&s&&(i="(?=.)"+i),z&&(i=m()+i),r===sh)return[i,s];if(n.nocase&&!s&&(s=e.toUpperCase()!==e.toLowerCase()),!s)return LD(e);const ue=n.nocase?"i":"";try{return Object.assign(new RegExp("^"+i+"$",ue),{_glob:e,_src:i})}catch{return new RegExp("$.")}}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const e=this.set;if(!e.length)return this.regexp=!1,this.regexp;const r=this.options,n=r.noglobstar?ih:r.dot?DD:PD,i=r.nocase?"i":"";let s=e.map(a=>(a=a.map(o=>typeof o=="string"?MD(o):o===Fr?Fr:o._src).reduce((o,l)=>(o[o.length-1]===Fr&&l===Fr||o.push(l),o),[]),a.forEach((o,l)=>{o!==Fr||a[l-1]===Fr||(l===0?a.length>1?a[l+1]="(?:\\/|"+n+"\\/)?"+a[l+1]:a[l]=n:l===a.length-1?a[l-1]+="(?:\\/|"+n+")?":(a[l-1]+="(?:\\/|\\/"+n+"\\/)"+a[l+1],a[l+1]=Fr))}),a.filter(o=>o!==Fr).join("/"))).join("|");s="^(?:"+s+")$",this.negate&&(s="^(?!"+s+").*$");try{this.regexp=new RegExp(s,i)}catch{this.regexp=!1}return this.regexp}match(e,r=this.partial){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&r)return!0;const n=this.options;bd.sep!=="/"&&(e=e.split(bd.sep).join("/")),e=e.split(g0),this.debug(this.pattern,"split",e);const i=this.set;this.debug(this.pattern,"set",i);let s;for(let a=e.length-1;a>=0&&(s=e[a],!s);a--);for(let a=0;a<i.length;a++){const o=i[a];let l=e;if(n.matchBase&&o.length===1&&(l=[s]),this.matchOne(l,o,r))return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate}static defaults(e){return yr.defaults(e).Minimatch}};yr.Minimatch=Wc;var kD=nb;const Ed=vr,{EventEmitter:BD}=Cr,{Minimatch:ah}=Z_,{resolve:jD}=Pe;function WD(t,e){return new Promise((r,n)=>{Ed.readdir(t,{withFileTypes:!0},(i,s)=>{if(i)switch(i.code){case"ENOTDIR":e?n(i):r([]);break;case"ENOTSUP":case"ENOENT":case"ENAMETOOLONG":case"UNKNOWN":r([]);break;case"ELOOP":default:n(i);break}else r(s)})})}function eb(t,e){return new Promise((r,n)=>{(e?Ed.stat:Ed.lstat)(t,(s,a)=>{if(s)switch(s.code){case"ENOENT":r(e?eb(t,!1):null);break;default:r(null);break}else r(a)})})}async function*tb(t,e,r,n,i,s){let a=await WD(e+t,s);for(const o of a){let l=o.name;l===void 0&&(l=o,n=!0);const c=t+"/"+l,u=c.slice(1),h=e+"/"+u;let d=null;(n||r)&&(d=await eb(h,r)),!d&&o.name!==void 0&&(d=o),d===null&&(d={isDirectory:()=>!1}),d.isDirectory()?i(u)||(yield{relative:u,absolute:h,stats:d},yield*tb(c,e,r,n,i,!1)):yield{relative:u,absolute:h,stats:d}}}async function*GD(t,e,r,n){yield*tb("",t,e,r,n,!0)}function qD(t){return{pattern:t.pattern,dot:!!t.dot,noglobstar:!!t.noglobstar,matchBase:!!t.matchBase,nocase:!!t.nocase,ignore:t.ignore,skip:t.skip,follow:!!t.follow,stat:!!t.stat,nodir:!!t.nodir,mark:!!t.mark,silent:!!t.silent,absolute:!!t.absolute}}class rb extends BD{constructor(e,r,n){if(super(),typeof r=="function"&&(n=r,r=null),this.options=qD(r||{}),this.matchers=[],this.options.pattern){const i=Array.isArray(this.options.pattern)?this.options.pattern:[this.options.pattern];this.matchers=i.map(s=>new ah(s,{dot:this.options.dot,noglobstar:this.options.noglobstar,matchBase:this.options.matchBase,nocase:this.options.nocase}))}if(this.ignoreMatchers=[],this.options.ignore){const i=Array.isArray(this.options.ignore)?this.options.ignore:[this.options.ignore];this.ignoreMatchers=i.map(s=>new ah(s,{dot:!0}))}if(this.skipMatchers=[],this.options.skip){const i=Array.isArray(this.options.skip)?this.options.skip:[this.options.skip];this.skipMatchers=i.map(s=>new ah(s,{dot:!0}))}this.iterator=GD(jD(e||"."),this.options.follow,this.options.stat,this._shouldSkipDirectory.bind(this)),this.paused=!1,this.inactive=!1,this.aborted=!1,n&&(this._matches=[],this.on("match",i=>this._matches.push(this.options.absolute?i.absolute:i.relative)),this.on("error",i=>n(i)),this.on("end",()=>n(null,this._matches))),setTimeout(()=>this._next(),0)}_shouldSkipDirectory(e){return this.skipMatchers.some(r=>r.match(e))}_fileMatches(e,r){const n=e+(r?"/":"");return(this.matchers.length===0||this.matchers.some(i=>i.match(n)))&&!this.ignoreMatchers.some(i=>i.match(n))&&(!this.options.nodir||!r)}_next(){!this.paused&&!this.aborted?this.iterator.next().then(e=>{if(e.done)this.emit("end");else{const r=e.value.stats.isDirectory();if(this._fileMatches(e.value.relative,r)){let n=e.value.relative,i=e.value.absolute;this.options.mark&&r&&(n+="/",i+="/"),this.options.stat?this.emit("match",{relative:n,absolute:i,stat:e.value.stats}):this.emit("match",{relative:n,absolute:i})}this._next(this.iterator)}}).catch(e=>{this.abort(),this.emit("error",e),!e.code&&!this.options.silent&&console.error(e)}):this.inactive=!0}abort(){this.aborted=!0}pause(){this.paused=!0}resume(){this.paused=!1,this.inactive&&(this.inactive=!1,this._next())}}function nb(t,e,r){return new rb(t,e,r)}nb.ReaddirGlob=rb;function ib(t,...e){return(...r)=>t(...e,...r)}function cl(t){return function(...e){var r=e.pop();return t.call(this,e,r)}}var zD=typeof queueMicrotask=="function"&&queueMicrotask,sb=typeof setImmediate=="function"&&setImmediate,ab=typeof process=="object"&&typeof process.nextTick=="function";function ob(t){setTimeout(t,0)}function lb(t){return(e,...r)=>t(()=>e(...r))}var Va;zD?Va=queueMicrotask:sb?Va=setImmediate:ab?Va=process.nextTick:Va=ob;var mi=lb(Va);function go(t){return fl(t)?function(...e){const r=e.pop(),n=t.apply(this,e);return m0(n,r)}:cl(function(e,r){var n;try{n=t.apply(this,e)}catch(i){return r(i)}if(n&&typeof n.then=="function")return m0(n,r);r(null,n)})}function m0(t,e){return t.then(r=>{y0(e,null,r)},r=>{y0(e,r&&(r instanceof Error||r.message)?r:new Error(r))})}function y0(t,e,r){try{t(e,r)}catch(n){mi(i=>{throw i},n)}}function fl(t){return t[Symbol.toStringTag]==="AsyncFunction"}function HD(t){return t[Symbol.toStringTag]==="AsyncGenerator"}function VD(t){return typeof t[Symbol.asyncIterator]=="function"}function Ue(t){if(typeof t!="function")throw new Error("expected a function");return fl(t)?go(t):t}function Me(t,e){if(e||(e=t.length),!e)throw new Error("arity is undefined");function r(...n){return typeof n[e-1]=="function"?t.apply(this,n):new Promise((i,s)=>{n[e-1]=(a,...o)=>{if(a)return s(a);i(o.length>1?o:o[0])},t.apply(this,n)})}return r}function ub(t){return function(r,...n){return Me(function(s){var a=this;return t(r,(o,l)=>{Ue(o).apply(a,n.concat(l))},s)})}}function Ap(t,e,r,n){e=e||[];var i=[],s=0,a=Ue(r);return t(e,(o,l,c)=>{var u=s++;a(o,(h,d)=>{i[u]=d,c(h)})},o=>{n(o,i)})}function Gc(t){return t&&typeof t.length=="number"&&t.length>=0&&t.length%1===0}const qc={};function Di(t){function e(...r){if(t!==null){var n=t;t=null,n.apply(this,r)}}return Object.assign(e,t),e}function YD(t){return t[Symbol.iterator]&&t[Symbol.iterator]()}function KD(t){var e=-1,r=t.length;return function(){return++e<r?{value:t[e],key:e}:null}}function XD(t){var e=-1;return function(){var n=t.next();return n.done?null:(e++,{value:n.value,key:e})}}function ZD(t){var e=t?Object.keys(t):[],r=-1,n=e.length;return function i(){var s=e[++r];return s==="__proto__"?i():r<n?{value:t[s],key:s}:null}}function QD(t){if(Gc(t))return KD(t);var e=YD(t);return e?XD(e):ZD(t)}function Pi(t){return function(...e){if(t===null)throw new Error("Callback was already called.");var r=t;t=null,r.apply(this,e)}}function w0(t,e,r,n){let i=!1,s=!1,a=!1,o=0,l=0;function c(){o>=e||a||i||(a=!0,t.next().then(({value:d,done:b})=>{if(!(s||i)){if(a=!1,b){i=!0,o<=0&&n(null);return}o++,r(d,l,u),l++,c()}}).catch(h))}function u(d,b){if(o-=1,!s){if(d)return h(d);if(d===!1){i=!0,s=!0;return}if(b===qc||i&&o<=0)return i=!0,n(null);c()}}function h(d){s||(a=!1,i=!0,n(d))}c()}var en=t=>(e,r,n)=>{if(n=Di(n),t<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!e)return n(null);if(HD(e))return w0(e,t,r,n);if(VD(e))return w0(e[Symbol.asyncIterator](),t,r,n);var i=QD(e),s=!1,a=!1,o=0,l=!1;function c(h,d){if(!a)if(o-=1,h)s=!0,n(h);else if(h===!1)s=!0,a=!0;else{if(d===qc||s&&o<=0)return s=!0,n(null);l||u()}}function u(){for(l=!0;o<t&&!s;){var h=i();if(h===null){s=!0,o<=0&&n(null);return}o+=1,r(h.value,h.key,Pi(c))}l=!1}u()};function JD(t,e,r,n){return en(e)(t,Ue(r),n)}var oa=Me(JD,4);function eP(t,e,r){r=Di(r);var n=0,i=0,{length:s}=t,a=!1;s===0&&r(null);function o(l,c){l===!1&&(a=!0),a!==!0&&(l?r(l):(++i===s||c===qc)&&r(null))}for(;n<s;n++)e(t[n],n,Pi(o))}function tP(t,e,r){return oa(t,1/0,e,r)}function rP(t,e,r){var n=Gc(t)?eP:tP;return n(t,Ue(e),r)}var wr=Me(rP,3);function nP(t,e,r){return Ap(wr,t,e,r)}var zc=Me(nP,3),cb=ub(zc);function iP(t,e,r){return oa(t,1,e,r)}var Yr=Me(iP,3);function sP(t,e,r){return Ap(Yr,t,e,r)}var xp=Me(sP,3),fb=ub(xp);const _a=Symbol("promiseCallback");function la(){let t,e;function r(n,...i){if(n)return e(n);t(i.length>1?i:i[0])}return r[_a]=new Promise((n,i)=>{t=n,e=i}),r}function Rp(t,e,r){typeof e!="number"&&(r=e,e=null),r=Di(r||la());var n=Object.keys(t).length;if(!n)return r(null);e||(e=n);var i={},s=0,a=!1,o=!1,l=Object.create(null),c=[],u=[],h={};Object.keys(t).forEach(v=>{var N=t[v];if(!Array.isArray(N)){d(v,[N]),u.push(v);return}var z=N.slice(0,N.length-1),ue=z.length;if(ue===0){d(v,N),u.push(v);return}h[v]=ue,z.forEach(Q=>{if(!t[Q])throw new Error("async.auto task `"+v+"` has a non-existent dependency `"+Q+"` in "+z.join(", "));T(Q,()=>{ue--,ue===0&&d(v,N)})})}),p(),b();function d(v,N){c.push(()=>E(v,N))}function b(){if(!a){if(c.length===0&&s===0)return r(null,i);for(;c.length&&s<e;){var v=c.shift();v()}}}function T(v,N){var z=l[v];z||(z=l[v]=[]),z.push(N)}function w(v){var N=l[v]||[];N.forEach(z=>z()),b()}function E(v,N){if(!o){var z=Pi((Q,...G)=>{if(s--,Q===!1){a=!0;return}if(G.length<2&&([G]=G),Q){var R={};if(Object.keys(i).forEach(k=>{R[k]=i[k]}),R[v]=G,o=!0,l=Object.create(null),a)return;r(Q,R)}else i[v]=G,w(v)});s++;var ue=Ue(N[N.length-1]);N.length>1?ue(i,z):ue(z)}}function p(){for(var v,N=0;u.length;)v=u.pop(),N++,m(v).forEach(z=>{--h[z]===0&&u.push(z)});if(N!==n)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function m(v){var N=[];return Object.keys(t).forEach(z=>{const ue=t[z];Array.isArray(ue)&&ue.indexOf(v)>=0&&N.push(z)}),N}return r[_a]}var aP=/^(?:async\s)?(?:function)?\s*(?:\w+\s*)?\(([^)]+)\)(?:\s*{)/,oP=/^(?:async\s)?\s*(?:\(\s*)?((?:[^)=\s]\s*)*)(?:\)\s*)?=>/,lP=/,/,uP=/(=.+)?(\s*)$/;function cP(t){let e="",r=0,n=t.indexOf("*/");for(;r<t.length;)if(t[r]==="/"&&t[r+1]==="/"){let i=t.indexOf(`
`,r);r=i===-1?t.length:i}else if(n!==-1&&t[r]==="/"&&t[r+1]==="*"){let i=t.indexOf("*/",r);i!==-1?(r=i+2,n=t.indexOf("*/",r)):(e+=t[r],r++)}else e+=t[r],r++;return e}function fP(t){const e=cP(t.toString());let r=e.match(aP);if(r||(r=e.match(oP)),!r)throw new Error(`could not parse args in autoInject
Source:
`+e);let[,n]=r;return n.replace(/\s/g,"").split(lP).map(i=>i.replace(uP,"").trim())}function hb(t,e){var r={};return Object.keys(t).forEach(n=>{var i=t[n],s,a=fl(i),o=!a&&i.length===1||a&&i.length===0;if(Array.isArray(i))s=[...i],i=s.pop(),r[n]=s.concat(s.length>0?l:i);else if(o)r[n]=i;else{if(s=fP(i),i.length===0&&!a&&s.length===0)throw new Error("autoInject task functions require explicit parameters.");a||s.pop(),r[n]=s.concat(l)}function l(c,u){var h=s.map(d=>c[d]);h.push(u),Ue(i)(...h)}}),Rp(r,e)}class hP{constructor(){this.head=this.tail=null,this.length=0}removeLink(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e}empty(){for(;this.head;)this.shift();return this}insertAfter(e,r){r.prev=e,r.next=e.next,e.next?e.next.prev=r:this.tail=r,e.next=r,this.length+=1}insertBefore(e,r){r.prev=e.prev,r.next=e,e.prev?e.prev.next=r:this.head=r,e.prev=r,this.length+=1}unshift(e){this.head?this.insertBefore(this.head,e):_0(this,e)}push(e){this.tail?this.insertAfter(this.tail,e):_0(this,e)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var e=this.head;e;)yield e.data,e=e.next}remove(e){for(var r=this.head;r;){var{next:n}=r;e(r)&&this.removeLink(r),r=n}return this}}function _0(t,e){t.length=1,t.head=t.tail=e}function Op(t,e,r){if(e==null)e=1;else if(e===0)throw new RangeError("Concurrency must not be zero");var n=Ue(t),i=0,s=[];const a={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function o(m,v){a[m].push(v)}function l(m,v){const N=(...z)=>{c(m,N),v(...z)};a[m].push(N)}function c(m,v){if(!m)return Object.keys(a).forEach(N=>a[N]=[]);if(!v)return a[m]=[];a[m]=a[m].filter(N=>N!==v)}function u(m,...v){a[m].forEach(N=>N(...v))}var h=!1;function d(m,v,N,z){if(z!=null&&typeof z!="function")throw new Error("task callback must be a function");p.started=!0;var ue,Q;function G(k,...W){if(k)return N?Q(k):ue();if(W.length<=1)return ue(W[0]);ue(W)}var R=p._createTaskItem(m,N?G:z||G);if(v?p._tasks.unshift(R):p._tasks.push(R),h||(h=!0,mi(()=>{h=!1,p.process()})),N||!z)return new Promise((k,W)=>{ue=k,Q=W})}function b(m){return function(v,...N){i-=1;for(var z=0,ue=m.length;z<ue;z++){var Q=m[z],G=s.indexOf(Q);G===0?s.shift():G>0&&s.splice(G,1),Q.callback(v,...N),v!=null&&u("error",v,Q.data)}i<=p.concurrency-p.buffer&&u("unsaturated"),p.idle()&&u("drain"),p.process()}}function T(m){return m.length===0&&p.idle()?(mi(()=>u("drain")),!0):!1}const w=m=>v=>{if(!v)return new Promise((N,z)=>{l(m,(ue,Q)=>{if(ue)return z(ue);N(Q)})});c(m),o(m,v)};var E=!1,p={_tasks:new hP,_createTaskItem(m,v){return{data:m,callback:v}},*[Symbol.iterator](){yield*p._tasks[Symbol.iterator]()},concurrency:e,payload:r,buffer:e/4,started:!1,paused:!1,push(m,v){return Array.isArray(m)?T(m)?void 0:m.map(N=>d(N,!1,!1,v)):d(m,!1,!1,v)},pushAsync(m,v){return Array.isArray(m)?T(m)?void 0:m.map(N=>d(N,!1,!0,v)):d(m,!1,!0,v)},kill(){c(),p._tasks.empty()},unshift(m,v){return Array.isArray(m)?T(m)?void 0:m.map(N=>d(N,!0,!1,v)):d(m,!0,!1,v)},unshiftAsync(m,v){return Array.isArray(m)?T(m)?void 0:m.map(N=>d(N,!0,!0,v)):d(m,!0,!0,v)},remove(m){p._tasks.remove(m)},process(){if(!E){for(E=!0;!p.paused&&i<p.concurrency&&p._tasks.length;){var m=[],v=[],N=p._tasks.length;p.payload&&(N=Math.min(N,p.payload));for(var z=0;z<N;z++){var ue=p._tasks.shift();m.push(ue),s.push(ue),v.push(ue.data)}i+=1,p._tasks.length===0&&u("empty"),i===p.concurrency&&u("saturated");var Q=Pi(b(m));n(v,Q)}E=!1}},length(){return p._tasks.length},running(){return i},workersList(){return s},idle(){return p._tasks.length+i===0},pause(){p.paused=!0},resume(){p.paused!==!1&&(p.paused=!1,mi(p.process))}};return Object.defineProperties(p,{saturated:{writable:!1,value:w("saturated")},unsaturated:{writable:!1,value:w("unsaturated")},empty:{writable:!1,value:w("empty")},drain:{writable:!1,value:w("drain")},error:{writable:!1,value:w("error")}}),p}function db(t,e){return Op(t,1,e)}function pb(t,e,r){return Op(t,e,r)}function dP(t,e,r,n){n=Di(n);var i=Ue(r);return Yr(t,(s,a,o)=>{i(e,s,(l,c)=>{e=c,o(l)})},s=>n(s,e))}var yi=Me(dP,4);function Ip(...t){var e=t.map(Ue);return function(...r){var n=this,i=r[r.length-1];return typeof i=="function"?r.pop():i=la(),yi(e,r,(s,a,o)=>{a.apply(n,s.concat((l,...c)=>{o(l,c)}))},(s,a)=>i(s,...a)),i[_a]}}function gb(...t){return Ip(...t.reverse())}function pP(t,e,r,n){return Ap(en(e),t,r,n)}var hl=Me(pP,4);function gP(t,e,r,n){var i=Ue(r);return hl(t,e,(s,a)=>{i(s,(o,...l)=>o?a(o):a(o,l))},(s,a)=>{for(var o=[],l=0;l<a.length;l++)a[l]&&(o=o.concat(...a[l]));return n(s,o)})}var ua=Me(gP,4);function mP(t,e,r){return ua(t,1/0,e,r)}var Ku=Me(mP,3);function yP(t,e,r){return ua(t,1,e,r)}var Xu=Me(yP,3);function mb(...t){return function(...e){var r=e.pop();return r(null,...t)}}function Bn(t,e){return(r,n,i,s)=>{var a=!1,o;const l=Ue(i);r(n,(c,u,h)=>{l(c,(d,b)=>{if(d||d===!1)return h(d);if(t(b)&&!o)return a=!0,o=e(!0,c),h(null,qc);h()})},c=>{if(c)return s(c);s(null,a?o:e(!1))})}}function wP(t,e,r){return Bn(n=>n,(n,i)=>i)(wr,t,e,r)}var Zu=Me(wP,3);function _P(t,e,r,n){return Bn(i=>i,(i,s)=>s)(en(e),t,r,n)}var Qu=Me(_P,4);function bP(t,e,r){return Bn(n=>n,(n,i)=>i)(en(1),t,e,r)}var Ju=Me(bP,3);function yb(t){return(e,...r)=>Ue(e)(...r,(n,...i)=>{typeof console=="object"&&(n?console.error&&console.error(n):console[t]&&i.forEach(s=>console[t](s)))})}var wb=yb("dir");function vP(t,e,r){r=Pi(r);var n=Ue(t),i=Ue(e),s;function a(l,...c){if(l)return r(l);l!==!1&&(s=c,i(...c,o))}function o(l,c){if(l)return r(l);if(l!==!1){if(!c)return r(null,...s);n(a)}}return o(null,!0)}var mo=Me(vP,3);function _b(t,e,r){const n=Ue(e);return mo(t,(...i)=>{const s=i.pop();n(...i,(a,o)=>s(a,!o))},r)}function bb(t){return(e,r,n)=>t(e,n)}function EP(t,e,r){return wr(t,bb(Ue(e)),r)}var ec=Me(EP,3);function SP(t,e,r,n){return en(e)(t,bb(Ue(r)),n)}var yo=Me(SP,4);function TP(t,e,r){return yo(t,1,e,r)}var wo=Me(TP,3);function Cp(t){return fl(t)?t:function(...e){var r=e.pop(),n=!0;e.push((...i)=>{n?mi(()=>r(...i)):r(...i)}),t.apply(this,e),n=!1}}function AP(t,e,r){return Bn(n=>!n,n=>!n)(wr,t,e,r)}var tc=Me(AP,3);function xP(t,e,r,n){return Bn(i=>!i,i=>!i)(en(e),t,r,n)}var rc=Me(xP,4);function RP(t,e,r){return Bn(n=>!n,n=>!n)(Yr,t,e,r)}var nc=Me(RP,3);function OP(t,e,r,n){var i=new Array(e.length);t(e,(s,a,o)=>{r(s,(l,c)=>{i[a]=!!c,o(l)})},s=>{if(s)return n(s);for(var a=[],o=0;o<e.length;o++)i[o]&&a.push(e[o]);n(null,a)})}function IP(t,e,r,n){var i=[];t(e,(s,a,o)=>{r(s,(l,c)=>{if(l)return o(l);c&&i.push({index:a,value:s}),o(l)})},s=>{if(s)return n(s);n(null,i.sort((a,o)=>a.index-o.index).map(a=>a.value))})}function Hc(t,e,r,n){var i=Gc(e)?OP:IP;return i(t,e,Ue(r),n)}function CP(t,e,r){return Hc(wr,t,e,r)}var ic=Me(CP,3);function DP(t,e,r,n){return Hc(en(e),t,r,n)}var sc=Me(DP,4);function PP(t,e,r){return Hc(Yr,t,e,r)}var ac=Me(PP,3);function $P(t,e){var r=Pi(e),n=Ue(Cp(t));function i(s){if(s)return r(s);s!==!1&&n(i)}return i()}var vb=Me($P,2);function NP(t,e,r,n){var i=Ue(r);return hl(t,e,(s,a)=>{i(s,(o,l)=>o?a(o):a(o,{key:l,val:s}))},(s,a)=>{for(var o={},{hasOwnProperty:l}=Object.prototype,c=0;c<a.length;c++)if(a[c]){var{key:u}=a[c],{val:h}=a[c];l.call(o,u)?o[u].push(h):o[u]=[h]}return n(s,o)})}var Vc=Me(NP,4);function Eb(t,e,r){return Vc(t,1/0,e,r)}function Sb(t,e,r){return Vc(t,1,e,r)}var Tb=yb("log");function LP(t,e,r,n){n=Di(n);var i={},s=Ue(r);return en(e)(t,(a,o,l)=>{s(a,o,(c,u)=>{if(c)return l(c);i[o]=u,l(c)})},a=>n(a,i))}var Yc=Me(LP,4);function Ab(t,e,r){return Yc(t,1/0,e,r)}function xb(t,e,r){return Yc(t,1,e,r)}function Rb(t,e=r=>r){var r=Object.create(null),n=Object.create(null),i=Ue(t),s=cl((a,o)=>{var l=e(...a);l in r?mi(()=>o(null,...r[l])):l in n?n[l].push(o):(n[l]=[o],i(...a,(c,...u)=>{c||(r[l]=u);var h=n[l];delete n[l];for(var d=0,b=h.length;d<b;d++)h[d](c,...u)}))});return s.memo=r,s.unmemoized=t,s}var Tu;ab?Tu=process.nextTick:sb?Tu=setImmediate:Tu=ob;var Ob=lb(Tu),Dp=Me((t,e,r)=>{var n=Gc(e)?[]:{};t(e,(i,s,a)=>{Ue(i)((o,...l)=>{l.length<2&&([l]=l),n[s]=l,a(o)})},i=>r(i,n))},3);function Ib(t,e){return Dp(wr,t,e)}function Cb(t,e,r){return Dp(en(e),t,r)}function Pp(t,e){var r=Ue(t);return Op((n,i)=>{r(n[0],i)},e,1)}class FP{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(e){let r;for(;e>0&&oh(this.heap[e],this.heap[r=b0(e)]);){let n=this.heap[e];this.heap[e]=this.heap[r],this.heap[r]=n,e=r}}percDown(e){let r;for(;(r=MP(e))<this.heap.length&&(r+1<this.heap.length&&oh(this.heap[r+1],this.heap[r])&&(r=r+1),!oh(this.heap[e],this.heap[r]));){let n=this.heap[e];this.heap[e]=this.heap[r],this.heap[r]=n,e=r}}push(e){e.pushCount=++this.pushCount,this.heap.push(e),this.percUp(this.heap.length-1)}unshift(e){return this.heap.push(e)}shift(){let[e]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),e}toArray(){return[...this]}*[Symbol.iterator](){for(let e=0;e<this.heap.length;e++)yield this.heap[e].data}remove(e){let r=0;for(let n=0;n<this.heap.length;n++)e(this.heap[n])||(this.heap[r]=this.heap[n],r++);this.heap.splice(r);for(let n=b0(this.heap.length-1);n>=0;n--)this.percDown(n);return this}}function MP(t){return(t<<1)+1}function b0(t){return(t+1>>1)-1}function oh(t,e){return t.priority!==e.priority?t.priority<e.priority:t.pushCount<e.pushCount}function Db(t,e){var r=Pp(t,e),{push:n,pushAsync:i}=r;r._tasks=new FP,r._createTaskItem=({data:a,priority:o},l)=>({data:a,priority:o,callback:l});function s(a,o){return Array.isArray(a)?a.map(l=>({data:l,priority:o})):{data:a,priority:o}}return r.push=function(a,o=0,l){return n(s(a,o),l)},r.pushAsync=function(a,o=0,l){return i(s(a,o),l)},delete r.unshift,delete r.unshiftAsync,r}function UP(t,e){if(e=Di(e),!Array.isArray(t))return e(new TypeError("First argument to race must be an array of functions"));if(!t.length)return e();for(var r=0,n=t.length;r<n;r++)Ue(t[r])(e)}var Pb=Me(UP,2);function oc(t,e,r,n){var i=[...t].reverse();return yi(i,e,r,n)}function lc(t){var e=Ue(t);return cl(function(n,i){return n.push((s,...a)=>{let o={};if(s&&(o.error=s),a.length>0){var l=a;a.length<=1&&([l]=a),o.value=l}i(null,o)}),e.apply(this,n)})}function $b(t){var e;return Array.isArray(t)?e=t.map(lc):(e={},Object.keys(t).forEach(r=>{e[r]=lc.call(this,t[r])})),e}function $p(t,e,r,n){const i=Ue(r);return Hc(t,e,(s,a)=>{i(s,(o,l)=>{a(o,!l)})},n)}function kP(t,e,r){return $p(wr,t,e,r)}var Nb=Me(kP,3);function BP(t,e,r,n){return $p(en(e),t,r,n)}var Lb=Me(BP,4);function jP(t,e,r){return $p(Yr,t,e,r)}var Fb=Me(jP,3);function Mb(t){return function(){return t}}const Sd=5,Ub=0;function uc(t,e,r){var n={times:Sd,intervalFunc:Mb(Ub)};if(arguments.length<3&&typeof t=="function"?(r=e||la(),e=t):(WP(n,t),r=r||la()),typeof e!="function")throw new Error("Invalid arguments for async.retry");var i=Ue(e),s=1;function a(){i((o,...l)=>{o!==!1&&(o&&s++<n.times&&(typeof n.errorFilter!="function"||n.errorFilter(o))?setTimeout(a,n.intervalFunc(s-1)):r(o,...l))})}return a(),r[_a]}function WP(t,e){if(typeof e=="object")t.times=+e.times||Sd,t.intervalFunc=typeof e.interval=="function"?e.interval:Mb(+e.interval||Ub),t.errorFilter=e.errorFilter;else if(typeof e=="number"||typeof e=="string")t.times=+e||Sd;else throw new Error("Invalid arguments for async.retry")}function kb(t,e){e||(e=t,t=null);let r=t&&t.arity||e.length;fl(e)&&(r+=1);var n=Ue(e);return cl((i,s)=>{(i.length<r-1||s==null)&&(i.push(s),s=la());function a(o){n(...i,o)}return t?uc(t,a,s):uc(a,s),s[_a]})}function Bb(t,e){return Dp(Yr,t,e)}function GP(t,e,r){return Bn(Boolean,n=>n)(wr,t,e,r)}var cc=Me(GP,3);function qP(t,e,r,n){return Bn(Boolean,i=>i)(en(e),t,r,n)}var fc=Me(qP,4);function zP(t,e,r){return Bn(Boolean,n=>n)(Yr,t,e,r)}var hc=Me(zP,3);function HP(t,e,r){var n=Ue(e);return zc(t,(s,a)=>{n(s,(o,l)=>{if(o)return a(o);a(o,{value:s,criteria:l})})},(s,a)=>{if(s)return r(s);r(null,a.sort(i).map(o=>o.value))});function i(s,a){var o=s.criteria,l=a.criteria;return o<l?-1:o>l?1:0}}var jb=Me(HP,3);function Wb(t,e,r){var n=Ue(t);return cl((i,s)=>{var a=!1,o;function l(){var c=t.name||"anonymous",u=new Error('Callback function "'+c+'" timed out.');u.code="ETIMEDOUT",r&&(u.info=r),a=!0,s(u)}i.push((...c)=>{a||(s(...c),clearTimeout(o))}),o=setTimeout(l,e),n(...i)})}function VP(t){for(var e=Array(t);t--;)e[t]=t;return e}function Kc(t,e,r,n){var i=Ue(r);return hl(VP(t),e,i,n)}function Gb(t,e,r){return Kc(t,1/0,e,r)}function qb(t,e,r){return Kc(t,1,e,r)}function zb(t,e,r,n){arguments.length<=3&&typeof e=="function"&&(n=r,r=e,e=Array.isArray(t)?[]:{}),n=Di(n||la());var i=Ue(r);return wr(t,(s,a,o)=>{i(e,s,a,o)},s=>n(s,e)),n[_a]}function YP(t,e){var r=null,n;return wo(t,(i,s)=>{Ue(i)((a,...o)=>{if(a===!1)return s(a);o.length<2?[n]=o:n=o,r=a,s(a?null:{})})},()=>e(r,n))}var Hb=Me(YP);function Vb(t){return(...e)=>(t.unmemoized||t)(...e)}function KP(t,e,r){r=Pi(r);var n=Ue(e),i=Ue(t),s=[];function a(l,...c){if(l)return r(l);s=c,l!==!1&&i(o)}function o(l,c){if(l)return r(l);if(l!==!1){if(!c)return r(null,...s);n(a)}}return i(o)}var _o=Me(KP,3);function Yb(t,e,r){const n=Ue(t);return _o(i=>n((s,a)=>i(s,!a)),e,r)}function XP(t,e){if(e=Di(e),!Array.isArray(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var r=0;function n(s){var a=Ue(t[r++]);a(...s,Pi(i))}function i(s,...a){if(s!==!1){if(s||r===t.length)return e(s,...a);n(a)}}n([])}var Kb=Me(XP),ZP={apply:ib,applyEach:cb,applyEachSeries:fb,asyncify:go,auto:Rp,autoInject:hb,cargo:db,cargoQueue:pb,compose:gb,concat:Ku,concatLimit:ua,concatSeries:Xu,constant:mb,detect:Zu,detectLimit:Qu,detectSeries:Ju,dir:wb,doUntil:_b,doWhilst:mo,each:ec,eachLimit:yo,eachOf:wr,eachOfLimit:oa,eachOfSeries:Yr,eachSeries:wo,ensureAsync:Cp,every:tc,everyLimit:rc,everySeries:nc,filter:ic,filterLimit:sc,filterSeries:ac,forever:vb,groupBy:Eb,groupByLimit:Vc,groupBySeries:Sb,log:Tb,map:zc,mapLimit:hl,mapSeries:xp,mapValues:Ab,mapValuesLimit:Yc,mapValuesSeries:xb,memoize:Rb,nextTick:Ob,parallel:Ib,parallelLimit:Cb,priorityQueue:Db,queue:Pp,race:Pb,reduce:yi,reduceRight:oc,reflect:lc,reflectAll:$b,reject:Nb,rejectLimit:Lb,rejectSeries:Fb,retry:uc,retryable:kb,seq:Ip,series:Bb,setImmediate:mi,some:cc,someLimit:fc,someSeries:hc,sortBy:jb,timeout:Wb,times:Gb,timesLimit:Kc,timesSeries:qb,transform:zb,tryEach:Hb,unmemoize:Vb,until:Yb,waterfall:Kb,whilst:_o,all:tc,allLimit:rc,allSeries:nc,any:cc,anyLimit:fc,anySeries:hc,find:Zu,findLimit:Qu,findSeries:Ju,flatMap:Ku,flatMapLimit:ua,flatMapSeries:Xu,forEach:ec,forEachSeries:wo,forEachLimit:yo,forEachOf:wr,forEachOfSeries:Yr,forEachOfLimit:oa,inject:yi,foldl:yi,foldr:oc,select:ic,selectLimit:sc,selectSeries:ac,wrapSync:go,during:_o,doDuring:mo};const QP=Object.freeze(Object.defineProperty({__proto__:null,all:tc,allLimit:rc,allSeries:nc,any:cc,anyLimit:fc,anySeries:hc,apply:ib,applyEach:cb,applyEachSeries:fb,asyncify:go,auto:Rp,autoInject:hb,cargo:db,cargoQueue:pb,compose:gb,concat:Ku,concatLimit:ua,concatSeries:Xu,constant:mb,default:ZP,detect:Zu,detectLimit:Qu,detectSeries:Ju,dir:wb,doDuring:mo,doUntil:_b,doWhilst:mo,during:_o,each:ec,eachLimit:yo,eachOf:wr,eachOfLimit:oa,eachOfSeries:Yr,eachSeries:wo,ensureAsync:Cp,every:tc,everyLimit:rc,everySeries:nc,filter:ic,filterLimit:sc,filterSeries:ac,find:Zu,findLimit:Qu,findSeries:Ju,flatMap:Ku,flatMapLimit:ua,flatMapSeries:Xu,foldl:yi,foldr:oc,forEach:ec,forEachLimit:yo,forEachOf:wr,forEachOfLimit:oa,forEachOfSeries:Yr,forEachSeries:wo,forever:vb,groupBy:Eb,groupByLimit:Vc,groupBySeries:Sb,inject:yi,log:Tb,map:zc,mapLimit:hl,mapSeries:xp,mapValues:Ab,mapValuesLimit:Yc,mapValuesSeries:xb,memoize:Rb,nextTick:Ob,parallel:Ib,parallelLimit:Cb,priorityQueue:Db,queue:Pp,race:Pb,reduce:yi,reduceRight:oc,reflect:lc,reflectAll:$b,reject:Nb,rejectLimit:Lb,rejectSeries:Fb,retry:uc,retryable:kb,select:ic,selectLimit:sc,selectSeries:ac,seq:Ip,series:Bb,setImmediate:mi,some:cc,someLimit:fc,someSeries:hc,sortBy:jb,timeout:Wb,times:Gb,timesLimit:Kc,timesSeries:qb,transform:zb,tryEach:Hb,unmemoize:Vb,until:Yb,waterfall:Kb,whilst:_o,wrapSync:go},Symbol.toStringTag,{value:"Module"})),JP=vw(QP);var Xb={exports:{}},Xn=T1,e$=process.cwd,Au=null,t$=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Au||(Au=e$.call(process)),Au};try{process.cwd()}catch{}if(typeof process.chdir=="function"){var v0=process.chdir;process.chdir=function(t){Au=null,v0.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,v0)}var r$=n$;function n$(t){Xn.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&e(t),t.lutimes||r(t),t.chown=s(t.chown),t.fchown=s(t.fchown),t.lchown=s(t.lchown),t.chmod=n(t.chmod),t.fchmod=n(t.fchmod),t.lchmod=n(t.lchmod),t.chownSync=a(t.chownSync),t.fchownSync=a(t.fchownSync),t.lchownSync=a(t.lchownSync),t.chmodSync=i(t.chmodSync),t.fchmodSync=i(t.fchmodSync),t.lchmodSync=i(t.lchmodSync),t.stat=o(t.stat),t.fstat=o(t.fstat),t.lstat=o(t.lstat),t.statSync=l(t.statSync),t.fstatSync=l(t.fstatSync),t.lstatSync=l(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(u,h,d){d&&process.nextTick(d)},t.lchmodSync=function(){}),t.chown&&!t.lchown&&(t.lchown=function(u,h,d,b){b&&process.nextTick(b)},t.lchownSync=function(){}),t$==="win32"&&(t.rename=typeof t.rename!="function"?t.rename:function(u){function h(d,b,T){var w=Date.now(),E=0;u(d,b,function p(m){if(m&&(m.code==="EACCES"||m.code==="EPERM"||m.code==="EBUSY")&&Date.now()-w<6e4){setTimeout(function(){t.stat(b,function(v,N){v&&v.code==="ENOENT"?u(d,b,p):T(m)})},E),E<100&&(E+=10);return}T&&T(m)})}return Object.setPrototypeOf&&Object.setPrototypeOf(h,u),h}(t.rename)),t.read=typeof t.read!="function"?t.read:function(u){function h(d,b,T,w,E,p){var m;if(p&&typeof p=="function"){var v=0;m=function(N,z,ue){if(N&&N.code==="EAGAIN"&&v<10)return v++,u.call(t,d,b,T,w,E,m);p.apply(this,arguments)}}return u.call(t,d,b,T,w,E,m)}return Object.setPrototypeOf&&Object.setPrototypeOf(h,u),h}(t.read),t.readSync=typeof t.readSync!="function"?t.readSync:function(u){return function(h,d,b,T,w){for(var E=0;;)try{return u.call(t,h,d,b,T,w)}catch(p){if(p.code==="EAGAIN"&&E<10){E++;continue}throw p}}}(t.readSync);function e(u){u.lchmod=function(h,d,b){u.open(h,Xn.O_WRONLY|Xn.O_SYMLINK,d,function(T,w){if(T){b&&b(T);return}u.fchmod(w,d,function(E){u.close(w,function(p){b&&b(E||p)})})})},u.lchmodSync=function(h,d){var b=u.openSync(h,Xn.O_WRONLY|Xn.O_SYMLINK,d),T=!0,w;try{w=u.fchmodSync(b,d),T=!1}finally{if(T)try{u.closeSync(b)}catch{}else u.closeSync(b)}return w}}function r(u){Xn.hasOwnProperty("O_SYMLINK")&&u.futimes?(u.lutimes=function(h,d,b,T){u.open(h,Xn.O_SYMLINK,function(w,E){if(w){T&&T(w);return}u.futimes(E,d,b,function(p){u.close(E,function(m){T&&T(p||m)})})})},u.lutimesSync=function(h,d,b){var T=u.openSync(h,Xn.O_SYMLINK),w,E=!0;try{w=u.futimesSync(T,d,b),E=!1}finally{if(E)try{u.closeSync(T)}catch{}else u.closeSync(T)}return w}):u.futimes&&(u.lutimes=function(h,d,b,T){T&&process.nextTick(T)},u.lutimesSync=function(){})}function n(u){return u&&function(h,d,b){return u.call(t,h,d,function(T){c(T)&&(T=null),b&&b.apply(this,arguments)})}}function i(u){return u&&function(h,d){try{return u.call(t,h,d)}catch(b){if(!c(b))throw b}}}function s(u){return u&&function(h,d,b,T){return u.call(t,h,d,b,function(w){c(w)&&(w=null),T&&T.apply(this,arguments)})}}function a(u){return u&&function(h,d,b){try{return u.call(t,h,d,b)}catch(T){if(!c(T))throw T}}}function o(u){return u&&function(h,d,b){typeof d=="function"&&(b=d,d=null);function T(w,E){E&&(E.uid<0&&(E.uid+=4294967296),E.gid<0&&(E.gid+=4294967296)),b&&b.apply(this,arguments)}return d?u.call(t,h,d,T):u.call(t,h,T)}}function l(u){return u&&function(h,d){var b=d?u.call(t,h,d):u.call(t,h);return b&&(b.uid<0&&(b.uid+=4294967296),b.gid<0&&(b.gid+=4294967296)),b}}function c(u){if(!u||u.code==="ENOSYS")return!0;var h=!process.getuid||process.getuid()!==0;return!!(h&&(u.code==="EINVAL"||u.code==="EPERM"))}}var E0=jt.Stream,i$=s$;function s$(t){return{ReadStream:e,WriteStream:r};function e(n,i){if(!(this instanceof e))return new e(n,i);E0.call(this);var s=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var a=Object.keys(i),o=0,l=a.length;o<l;o++){var c=a[o];this[c]=i[c]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}t.open(this.path,this.flags,this.mode,function(u,h){if(u){s.emit("error",u),s.readable=!1;return}s.fd=h,s.emit("open",h),s._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);E0.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var s=Object.keys(i),a=0,o=s.length;a<o;a++){var l=s[a];this[l]=i[l]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}var a$=l$,o$=Object.getPrototypeOf||function(t){return t.__proto__};function l$(t){if(t===null||typeof t!="object")return t;if(t instanceof Object)var e={__proto__:o$(t)};else var e=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}var at=vr,u$=r$,c$=i$,f$=a$,eu=Bt,Ut,dc;typeof Symbol=="function"&&typeof Symbol.for=="function"?(Ut=Symbol.for("graceful-fs.queue"),dc=Symbol.for("graceful-fs.previous")):(Ut="___graceful-fs.queue",dc="___graceful-fs.previous");function h$(){}function Zb(t,e){Object.defineProperty(t,Ut,{get:function(){return e}})}var us=h$;eu.debuglog?us=eu.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(us=function(){var t=eu.format.apply(eu,arguments);t="GFS4: "+t.split(/\n/).join(`
GFS4: `),console.error(t)});if(!at[Ut]){var d$=Be[Ut]||[];Zb(at,d$),at.close=function(t){function e(r,n){return t.call(at,r,function(i){i||S0(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(e,dc,{value:t}),e}(at.close),at.closeSync=function(t){function e(r){t.apply(at,arguments),S0()}return Object.defineProperty(e,dc,{value:t}),e}(at.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){us(at[Ut]),A1.equal(at[Ut].length,0)})}Be[Ut]||Zb(Be,at[Ut]);var Np=Lp(f$(at));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!at.__patched&&(Np=Lp(at),at.__patched=!0);function Lp(t){u$(t),t.gracefulify=Lp,t.createReadStream=z,t.createWriteStream=ue;var e=t.readFile;t.readFile=r;function r(R,k,W){return typeof k=="function"&&(W=k,k=null),H(R,k,W);function H(j,X,Y,ne){return e(j,X,function(P){P&&(P.code==="EMFILE"||P.code==="ENFILE")?Cs([H,[j,X,Y],P,ne||Date.now(),Date.now()]):typeof Y=="function"&&Y.apply(this,arguments)})}}var n=t.writeFile;t.writeFile=i;function i(R,k,W,H){return typeof W=="function"&&(H=W,W=null),j(R,k,W,H);function j(X,Y,ne,P,x){return n(X,Y,ne,function(U){U&&(U.code==="EMFILE"||U.code==="ENFILE")?Cs([j,[X,Y,ne,P],U,x||Date.now(),Date.now()]):typeof P=="function"&&P.apply(this,arguments)})}}var s=t.appendFile;s&&(t.appendFile=a);function a(R,k,W,H){return typeof W=="function"&&(H=W,W=null),j(R,k,W,H);function j(X,Y,ne,P,x){return s(X,Y,ne,function(U){U&&(U.code==="EMFILE"||U.code==="ENFILE")?Cs([j,[X,Y,ne,P],U,x||Date.now(),Date.now()]):typeof P=="function"&&P.apply(this,arguments)})}}var o=t.copyFile;o&&(t.copyFile=l);function l(R,k,W,H){return typeof W=="function"&&(H=W,W=0),j(R,k,W,H);function j(X,Y,ne,P,x){return o(X,Y,ne,function(U){U&&(U.code==="EMFILE"||U.code==="ENFILE")?Cs([j,[X,Y,ne,P],U,x||Date.now(),Date.now()]):typeof P=="function"&&P.apply(this,arguments)})}}var c=t.readdir;t.readdir=h;var u=/^v[0-5]\./;function h(R,k,W){typeof k=="function"&&(W=k,k=null);var H=u.test(process.version)?function(Y,ne,P,x){return c(Y,j(Y,ne,P,x))}:function(Y,ne,P,x){return c(Y,ne,j(Y,ne,P,x))};return H(R,k,W);function j(X,Y,ne,P){return function(x,U){x&&(x.code==="EMFILE"||x.code==="ENFILE")?Cs([H,[X,Y,ne],x,P||Date.now(),Date.now()]):(U&&U.sort&&U.sort(),typeof ne=="function"&&ne.call(this,x,U))}}}if(process.version.substr(0,4)==="v0.8"){var d=c$(t);p=d.ReadStream,v=d.WriteStream}var b=t.ReadStream;b&&(p.prototype=Object.create(b.prototype),p.prototype.open=m);var T=t.WriteStream;T&&(v.prototype=Object.create(T.prototype),v.prototype.open=N),Object.defineProperty(t,"ReadStream",{get:function(){return p},set:function(R){p=R},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return v},set:function(R){v=R},enumerable:!0,configurable:!0});var w=p;Object.defineProperty(t,"FileReadStream",{get:function(){return w},set:function(R){w=R},enumerable:!0,configurable:!0});var E=v;Object.defineProperty(t,"FileWriteStream",{get:function(){return E},set:function(R){E=R},enumerable:!0,configurable:!0});function p(R,k){return this instanceof p?(b.apply(this,arguments),this):p.apply(Object.create(p.prototype),arguments)}function m(){var R=this;G(R.path,R.flags,R.mode,function(k,W){k?(R.autoClose&&R.destroy(),R.emit("error",k)):(R.fd=W,R.emit("open",W),R.read())})}function v(R,k){return this instanceof v?(T.apply(this,arguments),this):v.apply(Object.create(v.prototype),arguments)}function N(){var R=this;G(R.path,R.flags,R.mode,function(k,W){k?(R.destroy(),R.emit("error",k)):(R.fd=W,R.emit("open",W))})}function z(R,k){return new t.ReadStream(R,k)}function ue(R,k){return new t.WriteStream(R,k)}var Q=t.open;t.open=G;function G(R,k,W,H){return typeof W=="function"&&(H=W,W=null),j(R,k,W,H);function j(X,Y,ne,P,x){return Q(X,Y,ne,function(U,O){U&&(U.code==="EMFILE"||U.code==="ENFILE")?Cs([j,[X,Y,ne,P],U,x||Date.now(),Date.now()]):typeof P=="function"&&P.apply(this,arguments)})}}return t}function Cs(t){us("ENQUEUE",t[0].name,t[1]),at[Ut].push(t),Fp()}var tu;function S0(){for(var t=Date.now(),e=0;e<at[Ut].length;++e)at[Ut][e].length>2&&(at[Ut][e][3]=t,at[Ut][e][4]=t);Fp()}function Fp(){if(clearTimeout(tu),tu=void 0,at[Ut].length!==0){var t=at[Ut].shift(),e=t[0],r=t[1],n=t[2],i=t[3],s=t[4];if(i===void 0)us("RETRY",e.name,r),e.apply(null,r);else if(Date.now()-i>=6e4){us("TIMEOUT",e.name,r);var a=r.pop();typeof a=="function"&&a.call(null,n)}else{var o=Date.now()-s,l=Math.max(s-i,1),c=Math.min(l*1.2,100);o>=c?(us("RETRY",e.name,r),e.apply(null,r.concat([i]))):at[Ut].push(t)}tu===void 0&&(tu=setTimeout(Fp,0))}}const fn=t=>t!==null&&typeof t=="object"&&typeof t.pipe=="function";fn.writable=t=>fn(t)&&t.writable!==!1&&typeof t._write=="function"&&typeof t._writableState=="object";fn.readable=t=>fn(t)&&t.readable!==!1&&typeof t._read=="function"&&typeof t._readableState=="object";fn.duplex=t=>fn.writable(t)&&fn.readable(t);fn.transform=t=>fn.duplex(t)&&typeof t._transform=="function";var Mp=fn,Td={exports:{}},ru={exports:{}},T0;function Xc(){if(T0)return ru.exports;T0=1,typeof process>"u"||!process.version||process.version.indexOf("v0.")===0||process.version.indexOf("v1.")===0&&process.version.indexOf("v1.8.")!==0?ru.exports={nextTick:t}:ru.exports=process;function t(e,r,n,i){if(typeof e!="function")throw new TypeError('"callback" argument must be a function');var s=arguments.length,a,o;switch(s){case 0:case 1:return process.nextTick(e);case 2:return process.nextTick(function(){e.call(null,r)});case 3:return process.nextTick(function(){e.call(null,r,n)});case 4:return process.nextTick(function(){e.call(null,r,n,i)});default:for(a=new Array(s-1),o=0;o<a.length;)a[o++]=arguments[o];return process.nextTick(function(){e.apply(null,a)})}}return ru.exports}var lh,A0;function p$(){if(A0)return lh;A0=1;var t={}.toString;return lh=Array.isArray||function(e){return t.call(e)=="[object Array]"},lh}var uh,x0;function Qb(){return x0||(x0=1,uh=jt),uh}var nu={exports:{}},R0;function Zc(){return R0||(R0=1,function(t,e){var r=Xr,n=r.Buffer;function i(a,o){for(var l in a)o[l]=a[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(a,o,l){return n(a,o,l)}i(n,s),s.from=function(a,o,l){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,o,l)},s.alloc=function(a,o,l){if(typeof a!="number")throw new TypeError("Argument must be a number");var c=n(a);return o!==void 0?typeof l=="string"?c.fill(o,l):c.fill(o):c.fill(0),c},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}}(nu,nu.exports)),nu.exports}var Ft={},O0;function dl(){if(O0)return Ft;O0=1;function t(w){return Array.isArray?Array.isArray(w):T(w)==="[object Array]"}Ft.isArray=t;function e(w){return typeof w=="boolean"}Ft.isBoolean=e;function r(w){return w===null}Ft.isNull=r;function n(w){return w==null}Ft.isNullOrUndefined=n;function i(w){return typeof w=="number"}Ft.isNumber=i;function s(w){return typeof w=="string"}Ft.isString=s;function a(w){return typeof w=="symbol"}Ft.isSymbol=a;function o(w){return w===void 0}Ft.isUndefined=o;function l(w){return T(w)==="[object RegExp]"}Ft.isRegExp=l;function c(w){return typeof w=="object"&&w!==null}Ft.isObject=c;function u(w){return T(w)==="[object Date]"}Ft.isDate=u;function h(w){return T(w)==="[object Error]"||w instanceof Error}Ft.isError=h;function d(w){return typeof w=="function"}Ft.isFunction=d;function b(w){return w===null||typeof w=="boolean"||typeof w=="number"||typeof w=="string"||typeof w=="symbol"||typeof w>"u"}Ft.isPrimitive=b,Ft.isBuffer=Buffer.isBuffer;function T(w){return Object.prototype.toString.call(w)}return Ft}var iu={exports:{}},su={exports:{}},I0;function g$(){return I0||(I0=1,typeof Object.create=="function"?su.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:su.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),su.exports}var C0;function pl(){if(C0)return iu.exports;C0=1;try{var t=require("util");if(typeof t.inherits!="function")throw"";iu.exports=t.inherits}catch{iu.exports=g$()}return iu.exports}var ch={exports:{}},D0;function m$(){return D0||(D0=1,function(t){function e(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}var r=Zc().Buffer,n=Bt;function i(s,a,o){s.copy(a,o)}t.exports=function(){function s(){e(this,s),this.head=null,this.tail=null,this.length=0}return s.prototype.push=function(o){var l={data:o,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length},s.prototype.unshift=function(o){var l={data:o,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length},s.prototype.shift=function(){if(this.length!==0){var o=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,o}},s.prototype.clear=function(){this.head=this.tail=null,this.length=0},s.prototype.join=function(o){if(this.length===0)return"";for(var l=this.head,c=""+l.data;l=l.next;)c+=o+l.data;return c},s.prototype.concat=function(o){if(this.length===0)return r.alloc(0);for(var l=r.allocUnsafe(o>>>0),c=this.head,u=0;c;)i(c.data,l,u),u+=c.data.length,c=c.next;return l},s}(),n&&n.inspect&&n.inspect.custom&&(t.exports.prototype[n.inspect.custom]=function(){var s=n.inspect({length:this.length});return this.constructor.name+" "+s})}(ch)),ch.exports}var fh,P0;function Jb(){if(P0)return fh;P0=1;var t=Xc();function e(i,s){var a=this,o=this._readableState&&this._readableState.destroyed,l=this._writableState&&this._writableState.destroyed;return o||l?(s?s(i):i&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,t.nextTick(n,this,i)):t.nextTick(n,this,i)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(i||null,function(c){!s&&c?a._writableState?a._writableState.errorEmitted||(a._writableState.errorEmitted=!0,t.nextTick(n,a,c)):t.nextTick(n,a,c):s&&s(c)}),this)}function r(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function n(i,s){i.emit("error",s)}return fh={destroy:e,undestroy:r},fh}var hh,$0;function y$(){return $0||($0=1,hh=Bt.deprecate),hh}var dh,N0;function ev(){if(N0)return dh;N0=1;var t=Xc();dh=w;function e(P){var x=this;this.next=null,this.entry=null,this.finish=function(){ne(x,P)}}var r=!process.browser&&["v0.10","v0.9."].indexOf(process.version.slice(0,5))>-1?setImmediate:t.nextTick,n;w.WritableState=b;var i=Object.create(dl());i.inherits=pl();var s={deprecate:y$()},a=Qb(),o=Zc().Buffer,l=(typeof Be<"u"?Be:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function c(P){return o.from(P)}function u(P){return o.isBuffer(P)||P instanceof l}var h=Jb();i.inherits(w,a);function d(){}function b(P,x){n=n||ca(),P=P||{};var U=x instanceof n;this.objectMode=!!P.objectMode,U&&(this.objectMode=this.objectMode||!!P.writableObjectMode);var O=P.highWaterMark,V=P.writableHighWaterMark,J=this.objectMode?16:16*1024;O||O===0?this.highWaterMark=O:U&&(V||V===0)?this.highWaterMark=V:this.highWaterMark=J,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Z=P.decodeStrings===!1;this.decodeStrings=!Z,this.defaultEncoding=P.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ge){Q(x,ge)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}b.prototype.getBuffer=function(){for(var x=this.bufferedRequest,U=[];x;)U.push(x),x=x.next;return U},function(){try{Object.defineProperty(b.prototype,"buffer",{get:s.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var T;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(T=Function.prototype[Symbol.hasInstance],Object.defineProperty(w,Symbol.hasInstance,{value:function(P){return T.call(this,P)?!0:this!==w?!1:P&&P._writableState instanceof b}})):T=function(P){return P instanceof this};function w(P){if(n=n||ca(),!T.call(w,this)&&!(this instanceof n))return new w(P);this._writableState=new b(P,this),this.writable=!0,P&&(typeof P.write=="function"&&(this._write=P.write),typeof P.writev=="function"&&(this._writev=P.writev),typeof P.destroy=="function"&&(this._destroy=P.destroy),typeof P.final=="function"&&(this._final=P.final)),a.call(this)}w.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function E(P,x){var U=new Error("write after end");P.emit("error",U),t.nextTick(x,U)}function p(P,x,U,O){var V=!0,J=!1;return U===null?J=new TypeError("May not write null values to stream"):typeof U!="string"&&U!==void 0&&!x.objectMode&&(J=new TypeError("Invalid non-string/buffer chunk")),J&&(P.emit("error",J),t.nextTick(O,J),V=!1),V}w.prototype.write=function(P,x,U){var O=this._writableState,V=!1,J=!O.objectMode&&u(P);return J&&!o.isBuffer(P)&&(P=c(P)),typeof x=="function"&&(U=x,x=null),J?x="buffer":x||(x=O.defaultEncoding),typeof U!="function"&&(U=d),O.ended?E(this,U):(J||p(this,O,P,U))&&(O.pendingcb++,V=v(this,O,J,P,x,U)),V},w.prototype.cork=function(){var P=this._writableState;P.corked++},w.prototype.uncork=function(){var P=this._writableState;P.corked&&(P.corked--,!P.writing&&!P.corked&&!P.bufferProcessing&&P.bufferedRequest&&k(this,P))},w.prototype.setDefaultEncoding=function(x){if(typeof x=="string"&&(x=x.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((x+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+x);return this._writableState.defaultEncoding=x,this};function m(P,x,U){return!P.objectMode&&P.decodeStrings!==!1&&typeof x=="string"&&(x=o.from(x,U)),x}Object.defineProperty(w.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function v(P,x,U,O,V,J){if(!U){var Z=m(x,O,V);O!==Z&&(U=!0,V="buffer",O=Z)}var ge=x.objectMode?1:O.length;x.length+=ge;var fe=x.length<x.highWaterMark;if(fe||(x.needDrain=!0),x.writing||x.corked){var Ee=x.lastBufferedRequest;x.lastBufferedRequest={chunk:O,encoding:V,isBuf:U,callback:J,next:null},Ee?Ee.next=x.lastBufferedRequest:x.bufferedRequest=x.lastBufferedRequest,x.bufferedRequestCount+=1}else N(P,x,!1,ge,O,V,J);return fe}function N(P,x,U,O,V,J,Z){x.writelen=O,x.writecb=Z,x.writing=!0,x.sync=!0,U?P._writev(V,x.onwrite):P._write(V,J,x.onwrite),x.sync=!1}function z(P,x,U,O,V){--x.pendingcb,U?(t.nextTick(V,O),t.nextTick(X,P,x),P._writableState.errorEmitted=!0,P.emit("error",O)):(V(O),P._writableState.errorEmitted=!0,P.emit("error",O),X(P,x))}function ue(P){P.writing=!1,P.writecb=null,P.length-=P.writelen,P.writelen=0}function Q(P,x){var U=P._writableState,O=U.sync,V=U.writecb;if(ue(U),x)z(P,U,O,x,V);else{var J=W(U);!J&&!U.corked&&!U.bufferProcessing&&U.bufferedRequest&&k(P,U),O?r(G,P,U,J,V):G(P,U,J,V)}}function G(P,x,U,O){U||R(P,x),x.pendingcb--,O(),X(P,x)}function R(P,x){x.length===0&&x.needDrain&&(x.needDrain=!1,P.emit("drain"))}function k(P,x){x.bufferProcessing=!0;var U=x.bufferedRequest;if(P._writev&&U&&U.next){var O=x.bufferedRequestCount,V=new Array(O),J=x.corkedRequestsFree;J.entry=U;for(var Z=0,ge=!0;U;)V[Z]=U,U.isBuf||(ge=!1),U=U.next,Z+=1;V.allBuffers=ge,N(P,x,!0,x.length,V,"",J.finish),x.pendingcb++,x.lastBufferedRequest=null,J.next?(x.corkedRequestsFree=J.next,J.next=null):x.corkedRequestsFree=new e(x),x.bufferedRequestCount=0}else{for(;U;){var fe=U.chunk,Ee=U.encoding,g=U.callback,f=x.objectMode?1:fe.length;if(N(P,x,!1,f,fe,Ee,g),U=U.next,x.bufferedRequestCount--,x.writing)break}U===null&&(x.lastBufferedRequest=null)}x.bufferedRequest=U,x.bufferProcessing=!1}w.prototype._write=function(P,x,U){U(new Error("_write() is not implemented"))},w.prototype._writev=null,w.prototype.end=function(P,x,U){var O=this._writableState;typeof P=="function"?(U=P,P=null,x=null):typeof x=="function"&&(U=x,x=null),P!=null&&this.write(P,x),O.corked&&(O.corked=1,this.uncork()),O.ending||Y(this,O,U)};function W(P){return P.ending&&P.length===0&&P.bufferedRequest===null&&!P.finished&&!P.writing}function H(P,x){P._final(function(U){x.pendingcb--,U&&P.emit("error",U),x.prefinished=!0,P.emit("prefinish"),X(P,x)})}function j(P,x){!x.prefinished&&!x.finalCalled&&(typeof P._final=="function"?(x.pendingcb++,x.finalCalled=!0,t.nextTick(H,P,x)):(x.prefinished=!0,P.emit("prefinish")))}function X(P,x){var U=W(x);return U&&(j(P,x),x.pendingcb===0&&(x.finished=!0,P.emit("finish"))),U}function Y(P,x,U){x.ending=!0,X(P,x),U&&(x.finished?t.nextTick(U):P.once("finish",U)),x.ended=!0,P.writable=!1}function ne(P,x,U){var O=P.entry;for(P.entry=null;O;){var V=O.callback;x.pendingcb--,V(U),O=O.next}x.corkedRequestsFree.next=P}return Object.defineProperty(w.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(P){this._writableState&&(this._writableState.destroyed=P)}}),w.prototype.destroy=h.destroy,w.prototype._undestroy=h.undestroy,w.prototype._destroy=function(P,x){this.end(),x(P)},dh}var ph,L0;function ca(){if(L0)return ph;L0=1;var t=Xc(),e=Object.keys||function(h){var d=[];for(var b in h)d.push(b);return d};ph=l;var r=Object.create(dl());r.inherits=pl();var n=tv(),i=ev();r.inherits(l,n);for(var s=e(i.prototype),a=0;a<s.length;a++){var o=s[a];l.prototype[o]||(l.prototype[o]=i.prototype[o])}function l(h){if(!(this instanceof l))return new l(h);n.call(this,h),i.call(this,h),h&&h.readable===!1&&(this.readable=!1),h&&h.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,h&&h.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",c)}Object.defineProperty(l.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function c(){this.allowHalfOpen||this._writableState.ended||t.nextTick(u,this)}function u(h){h.end()}return Object.defineProperty(l.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(h){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=h,this._writableState.destroyed=h)}}),l.prototype._destroy=function(h,d){this.push(null),this.end(),t.nextTick(d,h)},ph}var gh={},F0;function M0(){if(F0)return gh;F0=1;var t=Zc().Buffer,e=t.isEncoding||function(p){switch(p=""+p,p&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(p){if(!p)return"utf8";for(var m;;)switch(p){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return p;default:if(m)return;p=(""+p).toLowerCase(),m=!0}}function n(p){var m=r(p);if(typeof m!="string"&&(t.isEncoding===e||!e(p)))throw new Error("Unknown encoding: "+p);return m||p}gh.StringDecoder=i;function i(p){this.encoding=n(p);var m;switch(this.encoding){case"utf16le":this.text=h,this.end=d,m=4;break;case"utf8":this.fillLast=l,m=4;break;case"base64":this.text=b,this.end=T,m=3;break;default:this.write=w,this.end=E;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(m)}i.prototype.write=function(p){if(p.length===0)return"";var m,v;if(this.lastNeed){if(m=this.fillLast(p),m===void 0)return"";v=this.lastNeed,this.lastNeed=0}else v=0;return v<p.length?m?m+this.text(p,v):this.text(p,v):m||""},i.prototype.end=u,i.prototype.text=c,i.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length};function s(p){return p<=127?0:p>>5===6?2:p>>4===14?3:p>>3===30?4:p>>6===2?-1:-2}function a(p,m,v){var N=m.length-1;if(N<v)return 0;var z=s(m[N]);return z>=0?(z>0&&(p.lastNeed=z-1),z):--N<v||z===-2?0:(z=s(m[N]),z>=0?(z>0&&(p.lastNeed=z-2),z):--N<v||z===-2?0:(z=s(m[N]),z>=0?(z>0&&(z===2?z=0:p.lastNeed=z-3),z):0))}function o(p,m,v){if((m[0]&192)!==128)return p.lastNeed=0,"";if(p.lastNeed>1&&m.length>1){if((m[1]&192)!==128)return p.lastNeed=1,"";if(p.lastNeed>2&&m.length>2&&(m[2]&192)!==128)return p.lastNeed=2,""}}function l(p){var m=this.lastTotal-this.lastNeed,v=o(this,p);if(v!==void 0)return v;if(this.lastNeed<=p.length)return p.copy(this.lastChar,m,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,m,0,p.length),this.lastNeed-=p.length}function c(p,m){var v=a(this,p,m);if(!this.lastNeed)return p.toString("utf8",m);this.lastTotal=v;var N=p.length-(v-this.lastNeed);return p.copy(this.lastChar,0,N),p.toString("utf8",m,N)}function u(p){var m=p&&p.length?this.write(p):"";return this.lastNeed?m+"":m}function h(p,m){if((p.length-m)%2===0){var v=p.toString("utf16le",m);if(v){var N=v.charCodeAt(v.length-1);if(N>=55296&&N<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],v.slice(0,-1)}return v}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",m,p.length-1)}function d(p){var m=p&&p.length?this.write(p):"";if(this.lastNeed){var v=this.lastTotal-this.lastNeed;return m+this.lastChar.toString("utf16le",0,v)}return m}function b(p,m){var v=(p.length-m)%3;return v===0?p.toString("base64",m):(this.lastNeed=3-v,this.lastTotal=3,v===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",m,p.length-v))}function T(p){var m=p&&p.length?this.write(p):"";return this.lastNeed?m+this.lastChar.toString("base64",0,3-this.lastNeed):m}function w(p){return p.toString(this.encoding)}function E(p){return p&&p.length?this.write(p):""}return gh}var mh,U0;function tv(){if(U0)return mh;U0=1;var t=Xc();mh=m;var e=p$(),r;m.ReadableState=p,Cr.EventEmitter;var n=function(g,f){return g.listeners(f).length},i=Qb(),s=Zc().Buffer,a=(typeof Be<"u"?Be:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(g){return s.from(g)}function l(g){return s.isBuffer(g)||g instanceof a}var c=Object.create(dl());c.inherits=pl();var u=Bt,h=void 0;u&&u.debuglog?h=u.debuglog("stream"):h=function(){};var d=m$(),b=Jb(),T;c.inherits(m,i);var w=["error","close","destroy","pause","resume"];function E(g,f,I){if(typeof g.prependListener=="function")return g.prependListener(f,I);!g._events||!g._events[f]?g.on(f,I):e(g._events[f])?g._events[f].unshift(I):g._events[f]=[I,g._events[f]]}function p(g,f){r=r||ca(),g=g||{};var I=f instanceof r;this.objectMode=!!g.objectMode,I&&(this.objectMode=this.objectMode||!!g.readableObjectMode);var S=g.highWaterMark,D=g.readableHighWaterMark,F=this.objectMode?16:16*1024;S||S===0?this.highWaterMark=S:I&&(D||D===0)?this.highWaterMark=D:this.highWaterMark=F,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=g.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,g.encoding&&(T||(T=M0().StringDecoder),this.decoder=new T(g.encoding),this.encoding=g.encoding)}function m(g){if(r=r||ca(),!(this instanceof m))return new m(g);this._readableState=new p(g,this),this.readable=!0,g&&(typeof g.read=="function"&&(this._read=g.read),typeof g.destroy=="function"&&(this._destroy=g.destroy)),i.call(this)}Object.defineProperty(m.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(g){this._readableState&&(this._readableState.destroyed=g)}}),m.prototype.destroy=b.destroy,m.prototype._undestroy=b.undestroy,m.prototype._destroy=function(g,f){this.push(null),f(g)},m.prototype.push=function(g,f){var I=this._readableState,S;return I.objectMode?S=!0:typeof g=="string"&&(f=f||I.defaultEncoding,f!==I.encoding&&(g=s.from(g,f),f=""),S=!0),v(this,g,f,!1,S)},m.prototype.unshift=function(g){return v(this,g,null,!0,!1)};function v(g,f,I,S,D){var F=g._readableState;if(f===null)F.reading=!1,k(g,F);else{var A;D||(A=z(F,f)),A?g.emit("error",A):F.objectMode||f&&f.length>0?(typeof f!="string"&&!F.objectMode&&Object.getPrototypeOf(f)!==s.prototype&&(f=o(f)),S?F.endEmitted?g.emit("error",new Error("stream.unshift() after end event")):N(g,F,f,!0):F.ended?g.emit("error",new Error("stream.push() after EOF")):(F.reading=!1,F.decoder&&!I?(f=F.decoder.write(f),F.objectMode||f.length!==0?N(g,F,f,!1):j(g,F)):N(g,F,f,!1))):S||(F.reading=!1)}return ue(F)}function N(g,f,I,S){f.flowing&&f.length===0&&!f.sync?(g.emit("data",I),g.read(0)):(f.length+=f.objectMode?1:I.length,S?f.buffer.unshift(I):f.buffer.push(I),f.needReadable&&W(g)),j(g,f)}function z(g,f){var I;return!l(f)&&typeof f!="string"&&f!==void 0&&!g.objectMode&&(I=new TypeError("Invalid non-string/buffer chunk")),I}function ue(g){return!g.ended&&(g.needReadable||g.length<g.highWaterMark||g.length===0)}m.prototype.isPaused=function(){return this._readableState.flowing===!1},m.prototype.setEncoding=function(g){return T||(T=M0().StringDecoder),this._readableState.decoder=new T(g),this._readableState.encoding=g,this};var Q=8388608;function G(g){return g>=Q?g=Q:(g--,g|=g>>>1,g|=g>>>2,g|=g>>>4,g|=g>>>8,g|=g>>>16,g++),g}function R(g,f){return g<=0||f.length===0&&f.ended?0:f.objectMode?1:g!==g?f.flowing&&f.length?f.buffer.head.data.length:f.length:(g>f.highWaterMark&&(f.highWaterMark=G(g)),g<=f.length?g:f.ended?f.length:(f.needReadable=!0,0))}m.prototype.read=function(g){h("read",g),g=parseInt(g,10);var f=this._readableState,I=g;if(g!==0&&(f.emittedReadable=!1),g===0&&f.needReadable&&(f.length>=f.highWaterMark||f.ended))return h("read: emitReadable",f.length,f.ended),f.length===0&&f.ended?ge(this):W(this),null;if(g=R(g,f),g===0&&f.ended)return f.length===0&&ge(this),null;var S=f.needReadable;h("need readable",S),(f.length===0||f.length-g<f.highWaterMark)&&(S=!0,h("length less than watermark",S)),f.ended||f.reading?(S=!1,h("reading or ended",S)):S&&(h("do read"),f.reading=!0,f.sync=!0,f.length===0&&(f.needReadable=!0),this._read(f.highWaterMark),f.sync=!1,f.reading||(g=R(I,f)));var D;return g>0?D=O(g,f):D=null,D===null?(f.needReadable=!0,g=0):f.length-=g,f.length===0&&(f.ended||(f.needReadable=!0),I!==g&&f.ended&&ge(this)),D!==null&&this.emit("data",D),D};function k(g,f){if(!f.ended){if(f.decoder){var I=f.decoder.end();I&&I.length&&(f.buffer.push(I),f.length+=f.objectMode?1:I.length)}f.ended=!0,W(g)}}function W(g){var f=g._readableState;f.needReadable=!1,f.emittedReadable||(h("emitReadable",f.flowing),f.emittedReadable=!0,f.sync?t.nextTick(H,g):H(g))}function H(g){h("emit readable"),g.emit("readable"),U(g)}function j(g,f){f.readingMore||(f.readingMore=!0,t.nextTick(X,g,f))}function X(g,f){for(var I=f.length;!f.reading&&!f.flowing&&!f.ended&&f.length<f.highWaterMark&&(h("maybeReadMore read 0"),g.read(0),I!==f.length);)I=f.length;f.readingMore=!1}m.prototype._read=function(g){this.emit("error",new Error("_read() is not implemented"))},m.prototype.pipe=function(g,f){var I=this,S=this._readableState;switch(S.pipesCount){case 0:S.pipes=g;break;case 1:S.pipes=[S.pipes,g];break;default:S.pipes.push(g);break}S.pipesCount+=1,h("pipe count=%d opts=%j",S.pipesCount,f);var D=(!f||f.end!==!1)&&g!==process.stdout&&g!==process.stderr,F=D?C:Re;S.endEmitted?t.nextTick(F):I.once("end",F),g.on("unpipe",A);function A(Ge,De){h("onunpipe"),Ge===I&&De&&De.hasUnpiped===!1&&(De.hasUnpiped=!0,ae())}function C(){h("onend"),g.end()}var B=Y(I);g.on("drain",B);var te=!1;function ae(){h("cleanup"),g.removeListener("close",ce),g.removeListener("finish",ie),g.removeListener("drain",B),g.removeListener("error",re),g.removeListener("unpipe",A),I.removeListener("end",C),I.removeListener("end",Re),I.removeListener("data",q),te=!0,S.awaitDrain&&(!g._writableState||g._writableState.needDrain)&&B()}var le=!1;I.on("data",q);function q(Ge){h("ondata"),le=!1;var De=g.write(Ge);De===!1&&!le&&((S.pipesCount===1&&S.pipes===g||S.pipesCount>1&&Ee(S.pipes,g)!==-1)&&!te&&(h("false write response, pause",S.awaitDrain),S.awaitDrain++,le=!0),I.pause())}function re(Ge){h("onerror",Ge),Re(),g.removeListener("error",re),n(g,"error")===0&&g.emit("error",Ge)}E(g,"error",re);function ce(){g.removeListener("finish",ie),Re()}g.once("close",ce);function ie(){h("onfinish"),g.removeListener("close",ce),Re()}g.once("finish",ie);function Re(){h("unpipe"),I.unpipe(g)}return g.emit("pipe",I),S.flowing||(h("pipe resume"),I.resume()),g};function Y(g){return function(){var f=g._readableState;h("pipeOnDrain",f.awaitDrain),f.awaitDrain&&f.awaitDrain--,f.awaitDrain===0&&n(g,"data")&&(f.flowing=!0,U(g))}}m.prototype.unpipe=function(g){var f=this._readableState,I={hasUnpiped:!1};if(f.pipesCount===0)return this;if(f.pipesCount===1)return g&&g!==f.pipes?this:(g||(g=f.pipes),f.pipes=null,f.pipesCount=0,f.flowing=!1,g&&g.emit("unpipe",this,I),this);if(!g){var S=f.pipes,D=f.pipesCount;f.pipes=null,f.pipesCount=0,f.flowing=!1;for(var F=0;F<D;F++)S[F].emit("unpipe",this,{hasUnpiped:!1});return this}var A=Ee(f.pipes,g);return A===-1?this:(f.pipes.splice(A,1),f.pipesCount-=1,f.pipesCount===1&&(f.pipes=f.pipes[0]),g.emit("unpipe",this,I),this)},m.prototype.on=function(g,f){var I=i.prototype.on.call(this,g,f);if(g==="data")this._readableState.flowing!==!1&&this.resume();else if(g==="readable"){var S=this._readableState;!S.endEmitted&&!S.readableListening&&(S.readableListening=S.needReadable=!0,S.emittedReadable=!1,S.reading?S.length&&W(this):t.nextTick(ne,this))}return I},m.prototype.addListener=m.prototype.on;function ne(g){h("readable nexttick read 0"),g.read(0)}m.prototype.resume=function(){var g=this._readableState;return g.flowing||(h("resume"),g.flowing=!0,P(this,g)),this};function P(g,f){f.resumeScheduled||(f.resumeScheduled=!0,t.nextTick(x,g,f))}function x(g,f){f.reading||(h("resume read 0"),g.read(0)),f.resumeScheduled=!1,f.awaitDrain=0,g.emit("resume"),U(g),f.flowing&&!f.reading&&g.read(0)}m.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function U(g){var f=g._readableState;for(h("flow",f.flowing);f.flowing&&g.read()!==null;);}m.prototype.wrap=function(g){var f=this,I=this._readableState,S=!1;g.on("end",function(){if(h("wrapped end"),I.decoder&&!I.ended){var A=I.decoder.end();A&&A.length&&f.push(A)}f.push(null)}),g.on("data",function(A){if(h("wrapped data"),I.decoder&&(A=I.decoder.write(A)),!(I.objectMode&&A==null)&&!(!I.objectMode&&(!A||!A.length))){var C=f.push(A);C||(S=!0,g.pause())}});for(var D in g)this[D]===void 0&&typeof g[D]=="function"&&(this[D]=function(A){return function(){return g[A].apply(g,arguments)}}(D));for(var F=0;F<w.length;F++)g.on(w[F],this.emit.bind(this,w[F]));return this._read=function(A){h("wrapped _read",A),S&&(S=!1,g.resume())},this},Object.defineProperty(m.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),m._fromList=O;function O(g,f){if(f.length===0)return null;var I;return f.objectMode?I=f.buffer.shift():!g||g>=f.length?(f.decoder?I=f.buffer.join(""):f.buffer.length===1?I=f.buffer.head.data:I=f.buffer.concat(f.length),f.buffer.clear()):I=V(g,f.buffer,f.decoder),I}function V(g,f,I){var S;return g<f.head.data.length?(S=f.head.data.slice(0,g),f.head.data=f.head.data.slice(g)):g===f.head.data.length?S=f.shift():S=I?J(g,f):Z(g,f),S}function J(g,f){var I=f.head,S=1,D=I.data;for(g-=D.length;I=I.next;){var F=I.data,A=g>F.length?F.length:g;if(A===F.length?D+=F:D+=F.slice(0,g),g-=A,g===0){A===F.length?(++S,I.next?f.head=I.next:f.head=f.tail=null):(f.head=I,I.data=F.slice(A));break}++S}return f.length-=S,D}function Z(g,f){var I=s.allocUnsafe(g),S=f.head,D=1;for(S.data.copy(I),g-=S.data.length;S=S.next;){var F=S.data,A=g>F.length?F.length:g;if(F.copy(I,I.length-g,0,A),g-=A,g===0){A===F.length?(++D,S.next?f.head=S.next:f.head=f.tail=null):(f.head=S,S.data=F.slice(A));break}++D}return f.length-=D,I}function ge(g){var f=g._readableState;if(f.length>0)throw new Error('"endReadable()" called on non-empty stream');f.endEmitted||(f.ended=!0,t.nextTick(fe,f,g))}function fe(g,f){!g.endEmitted&&g.length===0&&(g.endEmitted=!0,f.readable=!1,f.emit("end"))}function Ee(g,f){for(var I=0,S=g.length;I<S;I++)if(g[I]===f)return I;return-1}return mh}var yh,k0;function rv(){if(k0)return yh;k0=1,yh=n;var t=ca(),e=Object.create(dl());e.inherits=pl(),e.inherits(n,t);function r(a,o){var l=this._transformState;l.transforming=!1;var c=l.writecb;if(!c)return this.emit("error",new Error("write callback called multiple times"));l.writechunk=null,l.writecb=null,o!=null&&this.push(o),c(a);var u=this._readableState;u.reading=!1,(u.needReadable||u.length<u.highWaterMark)&&this._read(u.highWaterMark)}function n(a){if(!(this instanceof n))return new n(a);t.call(this,a),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,a&&(typeof a.transform=="function"&&(this._transform=a.transform),typeof a.flush=="function"&&(this._flush=a.flush)),this.on("prefinish",i)}function i(){var a=this;typeof this._flush=="function"?this._flush(function(o,l){s(a,o,l)}):s(this,null,null)}n.prototype.push=function(a,o){return this._transformState.needTransform=!1,t.prototype.push.call(this,a,o)},n.prototype._transform=function(a,o,l){throw new Error("_transform() is not implemented")},n.prototype._write=function(a,o,l){var c=this._transformState;if(c.writecb=l,c.writechunk=a,c.writeencoding=o,!c.transforming){var u=this._readableState;(c.needTransform||u.needReadable||u.length<u.highWaterMark)&&this._read(u.highWaterMark)}},n.prototype._read=function(a){var o=this._transformState;o.writechunk!==null&&o.writecb&&!o.transforming?(o.transforming=!0,this._transform(o.writechunk,o.writeencoding,o.afterTransform)):o.needTransform=!0},n.prototype._destroy=function(a,o){var l=this;t.prototype._destroy.call(this,a,function(c){o(c),l.emit("close")})};function s(a,o,l){if(o)return a.emit("error",o);if(l!=null&&a.push(l),a._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(a._transformState.transforming)throw new Error("Calling transform done when still transforming");return a.push(null)}return yh}var wh,B0;function w$(){if(B0)return wh;B0=1,wh=r;var t=rv(),e=Object.create(dl());e.inherits=pl(),e.inherits(r,t);function r(n){if(!(this instanceof r))return new r(n);t.call(this,n)}return r.prototype._transform=function(n,i,s){s(null,n)},wh}(function(t,e){var r=jt;process.env.READABLE_STREAM==="disable"&&r?(t.exports=r,e=t.exports=r.Readable,e.Readable=r.Readable,e.Writable=r.Writable,e.Duplex=r.Duplex,e.Transform=r.Transform,e.PassThrough=r.PassThrough,e.Stream=r):(e=t.exports=tv(),e.Stream=r||e,e.Readable=e,e.Writable=ev(),e.Duplex=ca(),e.Transform=rv(),e.PassThrough=w$())})(Td,Td.exports);var _$=Td.exports,b$=_$.PassThrough,nv=Bt,Qc=b$,v$={Readable:pc};nv.inherits(pc,Qc);nv.inherits(Ad,Qc);function iv(t,e,r){t[e]=function(){return delete t[e],r.apply(this,arguments),this[e].apply(this,arguments)}}function pc(t,e){if(!(this instanceof pc))return new pc(t,e);Qc.call(this,e),iv(this,"_read",function(){var r=t.call(this,e),n=this.emit.bind(this,"error");r.on("error",n),r.pipe(this)}),this.emit("readable")}function Ad(t,e){if(!(this instanceof Ad))return new Ad(t,e);Qc.call(this,e),iv(this,"_write",function(){var r=t.call(this,e),n=this.emit.bind(this,"error");r.on("error",n),this.pipe(r)}),this.emit("writable")}/*!
 * normalize-path <https://github.com/jonschlinkert/normalize-path>
 *
 * Copyright (c) 2014-2018, Jon Schlinkert.
 * Released under the MIT License.
 */var sv=function(t,e){if(typeof t!="string")throw new TypeError("expected path to be a string");if(t==="\\"||t==="/")return"/";var r=t.length;if(r<=1)return t;var n="";if(r>4&&t[3]==="\\"){var i=t[2];(i==="?"||i===".")&&t.slice(0,2)==="\\\\"&&(t=t.slice(2),n="//")}var s=t.split(/[/\\]+/);return e!==!1&&s[s.length-1]===""&&s.pop(),n+s.join("/")};function E$(t){return t}var av=E$;function S$(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var T$=S$,A$=T$,j0=Math.max;function x$(t,e,r){return e=j0(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,s=j0(n.length-e,0),a=Array(s);++i<s;)a[i]=n[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=n[i];return o[e]=r(a),A$(t,this,o)}}var R$=x$;function O$(t){return function(){return t}}var I$=O$,C$=typeof Be=="object"&&Be&&Be.Object===Object&&Be,ov=C$,D$=ov,P$=typeof self=="object"&&self&&self.Object===Object&&self,$$=D$||P$||Function("return this")(),gl=$$,N$=gl,L$=N$.Symbol,Up=L$,W0=Up,lv=Object.prototype,F$=lv.hasOwnProperty,M$=lv.toString,Ma=W0?W0.toStringTag:void 0;function U$(t){var e=F$.call(t,Ma),r=t[Ma];try{t[Ma]=void 0;var n=!0}catch{}var i=M$.call(t);return n&&(e?t[Ma]=r:delete t[Ma]),i}var k$=U$,B$=Object.prototype,j$=B$.toString;function W$(t){return j$.call(t)}var G$=W$,G0=Up,q$=k$,z$=G$,H$="[object Null]",V$="[object Undefined]",q0=G0?G0.toStringTag:void 0;function Y$(t){return t==null?t===void 0?V$:H$:q0&&q0 in Object(t)?q$(t):z$(t)}var Jc=Y$;function K$(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var ef=K$,X$=Jc,Z$=ef,Q$="[object AsyncFunction]",J$="[object Function]",eN="[object GeneratorFunction]",tN="[object Proxy]";function rN(t){if(!Z$(t))return!1;var e=X$(t);return e==J$||e==eN||e==Q$||e==tN}var uv=rN,nN=gl,iN=nN["__core-js_shared__"],sN=iN,_h=sN,z0=function(){var t=/[^.]+$/.exec(_h&&_h.keys&&_h.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function aN(t){return!!z0&&z0 in t}var oN=aN,lN=Function.prototype,uN=lN.toString;function cN(t){if(t!=null){try{return uN.call(t)}catch{}try{return t+""}catch{}}return""}var fN=cN,hN=uv,dN=oN,pN=ef,gN=fN,mN=/[\\^$.*+?()[\]{}|]/g,yN=/^\[object .+?Constructor\]$/,wN=Function.prototype,_N=Object.prototype,bN=wN.toString,vN=_N.hasOwnProperty,EN=RegExp("^"+bN.call(vN).replace(mN,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function SN(t){if(!pN(t)||dN(t))return!1;var e=hN(t)?EN:yN;return e.test(gN(t))}var TN=SN;function AN(t,e){return t==null?void 0:t[e]}var xN=AN,RN=TN,ON=xN;function IN(t,e){var r=ON(t,e);return RN(r)?r:void 0}var tf=IN,CN=tf,DN=function(){try{var t=CN(Object,"defineProperty");return t({},"",{}),t}catch{}}(),PN=DN,$N=I$,H0=PN,NN=av,LN=H0?function(t,e){return H0(t,"toString",{configurable:!0,enumerable:!1,value:$N(e),writable:!0})}:NN,FN=LN,MN=800,UN=16,kN=Date.now;function BN(t){var e=0,r=0;return function(){var n=kN(),i=UN-(n-r);if(r=n,i>0){if(++e>=MN)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var jN=BN,WN=FN,GN=jN,qN=GN(WN),zN=qN,HN=av,VN=R$,YN=zN;function KN(t,e){return YN(VN(t,e,HN),t+"")}var kp=KN;function XN(t,e){return t===e||t!==t&&e!==e}var Bp=XN,ZN=9007199254740991;function QN(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=ZN}var cv=QN,JN=uv,eL=cv;function tL(t){return t!=null&&eL(t.length)&&!JN(t)}var jp=tL,rL=9007199254740991,nL=/^(?:0|[1-9]\d*)$/;function iL(t,e){var r=typeof t;return e=e??rL,!!e&&(r=="number"||r!="symbol"&&nL.test(t))&&t>-1&&t%1==0&&t<e}var fv=iL,sL=Bp,aL=jp,oL=fv,lL=ef;function uL(t,e,r){if(!lL(r))return!1;var n=typeof e;return(n=="number"?aL(r)&&oL(e,r.length):n=="string"&&e in r)?sL(r[e],t):!1}var cL=uL;function fL(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var hL=fL;function dL(t){return t!=null&&typeof t=="object"}var ml=dL,pL=Jc,gL=ml,mL="[object Arguments]";function yL(t){return gL(t)&&pL(t)==mL}var wL=yL,V0=wL,_L=ml,hv=Object.prototype,bL=hv.hasOwnProperty,vL=hv.propertyIsEnumerable,EL=V0(function(){return arguments}())?V0:function(t){return _L(t)&&bL.call(t,"callee")&&!vL.call(t,"callee")},dv=EL,SL=Array.isArray,pv=SL,gc={exports:{}};function TL(){return!1}var AL=TL;gc.exports;(function(t,e){var r=gl,n=AL,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?r.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;t.exports=c})(gc,gc.exports);var xL=gc.exports,RL=Jc,OL=cv,IL=ml,CL="[object Arguments]",DL="[object Array]",PL="[object Boolean]",$L="[object Date]",NL="[object Error]",LL="[object Function]",FL="[object Map]",ML="[object Number]",UL="[object Object]",kL="[object RegExp]",BL="[object Set]",jL="[object String]",WL="[object WeakMap]",GL="[object ArrayBuffer]",qL="[object DataView]",zL="[object Float32Array]",HL="[object Float64Array]",VL="[object Int8Array]",YL="[object Int16Array]",KL="[object Int32Array]",XL="[object Uint8Array]",ZL="[object Uint8ClampedArray]",QL="[object Uint16Array]",JL="[object Uint32Array]",tt={};tt[zL]=tt[HL]=tt[VL]=tt[YL]=tt[KL]=tt[XL]=tt[ZL]=tt[QL]=tt[JL]=!0;tt[CL]=tt[DL]=tt[GL]=tt[PL]=tt[qL]=tt[$L]=tt[NL]=tt[LL]=tt[FL]=tt[ML]=tt[UL]=tt[kL]=tt[BL]=tt[jL]=tt[WL]=!1;function e2(t){return IL(t)&&OL(t.length)&&!!tt[RL(t)]}var t2=e2;function r2(t){return function(e){return t(e)}}var gv=r2,mc={exports:{}};mc.exports;(function(t,e){var r=ov,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,a=s&&r.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=o})(mc,mc.exports);var n2=mc.exports,i2=t2,s2=gv,Y0=n2,K0=Y0&&Y0.isTypedArray,a2=K0?s2(K0):i2,o2=a2,l2=hL,u2=dv,c2=pv,f2=xL,h2=fv,d2=o2,p2=Object.prototype,g2=p2.hasOwnProperty;function m2(t,e){var r=c2(t),n=!r&&u2(t),i=!r&&!n&&f2(t),s=!r&&!n&&!i&&d2(t),a=r||n||i||s,o=a?l2(t.length,String):[],l=o.length;for(var c in t)(e||g2.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||h2(c,l)))&&o.push(c);return o}var y2=m2,w2=Object.prototype;function _2(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||w2;return t===r}var b2=_2;function v2(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var E2=v2,S2=ef,T2=b2,A2=E2,x2=Object.prototype,R2=x2.hasOwnProperty;function O2(t){if(!S2(t))return A2(t);var e=T2(t),r=[];for(var n in t)n=="constructor"&&(e||!R2.call(t,n))||r.push(n);return r}var I2=O2,C2=y2,D2=I2,P2=jp;function $2(t){return P2(t)?C2(t,!0):D2(t)}var N2=$2,L2=kp,F2=Bp,M2=cL,U2=N2,mv=Object.prototype,k2=mv.hasOwnProperty,B2=L2(function(t,e){t=Object(t);var r=-1,n=e.length,i=n>2?e[2]:void 0;for(i&&M2(e[0],e[1],i)&&(n=1);++r<n;)for(var s=e[r],a=U2(s),o=-1,l=a.length;++o<l;){var c=a[o],u=t[c];(u===void 0||F2(u,mv[c])&&!k2.call(t,c))&&(t[c]=s[c])}return t}),j2=B2,Wp={exports:{}},bh={exports:{}},vh,X0;function lt(){if(X0)return vh;X0=1;class t extends Error{constructor(r){if(!Array.isArray(r))throw new TypeError(`Expected input to be an Array, got ${typeof r}`);let n="";for(let i=0;i<r.length;i++)n+=`    ${r[i].stack}
`;super(n),this.name="AggregateError",this.errors=r}}return vh={AggregateError:t,ArrayIsArray(e){return Array.isArray(e)},ArrayPrototypeIncludes(e,r){return e.includes(r)},ArrayPrototypeIndexOf(e,r){return e.indexOf(r)},ArrayPrototypeJoin(e,r){return e.join(r)},ArrayPrototypeMap(e,r){return e.map(r)},ArrayPrototypePop(e,r){return e.pop(r)},ArrayPrototypePush(e,r){return e.push(r)},ArrayPrototypeSlice(e,r,n){return e.slice(r,n)},Error,FunctionPrototypeCall(e,r,...n){return e.call(r,...n)},FunctionPrototypeSymbolHasInstance(e,r){return Function.prototype[Symbol.hasInstance].call(e,r)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(e,r){return Object.defineProperties(e,r)},ObjectDefineProperty(e,r,n){return Object.defineProperty(e,r,n)},ObjectGetOwnPropertyDescriptor(e,r){return Object.getOwnPropertyDescriptor(e,r)},ObjectKeys(e){return Object.keys(e)},ObjectSetPrototypeOf(e,r){return Object.setPrototypeOf(e,r)},Promise,PromisePrototypeCatch(e,r){return e.catch(r)},PromisePrototypeThen(e,r,n){return e.then(r,n)},PromiseReject(e){return Promise.reject(e)},PromiseResolve(e){return Promise.resolve(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest(e,r){return e.test(r)},SafeSet:Set,String,StringPrototypeSlice(e,r,n){return e.slice(r,n)},StringPrototypeToLowerCase(e){return e.toLowerCase()},StringPrototypeToUpperCase(e){return e.toUpperCase()},StringPrototypeTrim(e){return e.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(e,r,n){return e.set(r,n)},Boolean,Uint8Array},vh}var Eh={exports:{}},Sh,Z0;function yv(){return Z0||(Z0=1,Sh={format(t,...e){return t.replace(/%([sdifj])/g,function(...[r,n]){const i=e.shift();return n==="f"?i.toFixed(6):n==="j"?JSON.stringify(i):n==="s"&&typeof i=="object"?`${i.constructor!==Object?i.constructor.name:""} {}`.trim():i.toString()})},inspect(t){switch(typeof t){case"string":if(t.includes("'"))if(t.includes('"')){if(!t.includes("`")&&!t.includes("${"))return`\`${t}\``}else return`"${t}"`;return`'${t}'`;case"number":return isNaN(t)?"NaN":Object.is(t,-0)?String(t):t;case"bigint":return`${String(t)}n`;case"boolean":case"undefined":return String(t);case"object":return"{}"}}}),Sh}var Th,Q0;function rr(){if(Q0)return Th;Q0=1;const{format:t,inspect:e}=yv(),{AggregateError:r}=lt(),n=globalThis.AggregateError||r,i=Symbol("kIsNodeError"),s=["string","function","number","object","Function","Object","boolean","bigint","symbol"],a=/^([A-Z][a-z0-9]*)+$/,o="__node_internal_",l={};function c(E,p){if(!E)throw new l.ERR_INTERNAL_ASSERTION(p)}function u(E){let p="",m=E.length;const v=E[0]==="-"?1:0;for(;m>=v+4;m-=3)p=`_${E.slice(m-3,m)}${p}`;return`${E.slice(0,m)}${p}`}function h(E,p,m){if(typeof p=="function")return c(p.length<=m.length,`Code: ${E}; The provided arguments length (${m.length}) does not match the required ones (${p.length}).`),p(...m);const v=(p.match(/%[dfijoOs]/g)||[]).length;return c(v===m.length,`Code: ${E}; The provided arguments length (${m.length}) does not match the required ones (${v}).`),m.length===0?p:t(p,...m)}function d(E,p,m){m||(m=Error);class v extends m{constructor(...z){super(h(E,p,z))}toString(){return`${this.name} [${E}]: ${this.message}`}}Object.defineProperties(v.prototype,{name:{value:m.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${E}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),v.prototype.code=E,v.prototype[i]=!0,l[E]=v}function b(E){const p=o+E.name;return Object.defineProperty(E,"name",{value:p}),E}function T(E,p){if(E&&p&&E!==p){if(Array.isArray(p.errors))return p.errors.push(E),p;const m=new n([p,E],p.message);return m.code=p.code,m}return E||p}class w extends Error{constructor(p="The operation was aborted",m=void 0){if(m!==void 0&&typeof m!="object")throw new l.ERR_INVALID_ARG_TYPE("options","Object",m);super(p,m),this.code="ABORT_ERR",this.name="AbortError"}}return d("ERR_ASSERTION","%s",Error),d("ERR_INVALID_ARG_TYPE",(E,p,m)=>{c(typeof E=="string","'name' must be a string"),Array.isArray(p)||(p=[p]);let v="The ";E.endsWith(" argument")?v+=`${E} `:v+=`"${E}" ${E.includes(".")?"property":"argument"} `,v+="must be ";const N=[],z=[],ue=[];for(const G of p)c(typeof G=="string","All expected entries have to be of type string"),s.includes(G)?N.push(G.toLowerCase()):a.test(G)?z.push(G):(c(G!=="object",'The value "object" should be written as "Object"'),ue.push(G));if(z.length>0){const G=N.indexOf("object");G!==-1&&(N.splice(N,G,1),z.push("Object"))}if(N.length>0){switch(N.length){case 1:v+=`of type ${N[0]}`;break;case 2:v+=`one of type ${N[0]} or ${N[1]}`;break;default:{const G=N.pop();v+=`one of type ${N.join(", ")}, or ${G}`}}(z.length>0||ue.length>0)&&(v+=" or ")}if(z.length>0){switch(z.length){case 1:v+=`an instance of ${z[0]}`;break;case 2:v+=`an instance of ${z[0]} or ${z[1]}`;break;default:{const G=z.pop();v+=`an instance of ${z.join(", ")}, or ${G}`}}ue.length>0&&(v+=" or ")}switch(ue.length){case 0:break;case 1:ue[0].toLowerCase()!==ue[0]&&(v+="an "),v+=`${ue[0]}`;break;case 2:v+=`one of ${ue[0]} or ${ue[1]}`;break;default:{const G=ue.pop();v+=`one of ${ue.join(", ")}, or ${G}`}}if(m==null)v+=`. Received ${m}`;else if(typeof m=="function"&&m.name)v+=`. Received function ${m.name}`;else if(typeof m=="object"){var Q;if((Q=m.constructor)!==null&&Q!==void 0&&Q.name)v+=`. Received an instance of ${m.constructor.name}`;else{const G=e(m,{depth:-1});v+=`. Received ${G}`}}else{let G=e(m,{colors:!1});G.length>25&&(G=`${G.slice(0,25)}...`),v+=`. Received type ${typeof m} (${G})`}return v},TypeError),d("ERR_INVALID_ARG_VALUE",(E,p,m="is invalid")=>{let v=e(p);return v.length>128&&(v=v.slice(0,128)+"..."),`The ${E.includes(".")?"property":"argument"} '${E}' ${m}. Received ${v}`},TypeError),d("ERR_INVALID_RETURN_VALUE",(E,p,m)=>{var v;const N=m!=null&&(v=m.constructor)!==null&&v!==void 0&&v.name?`instance of ${m.constructor.name}`:`type ${typeof m}`;return`Expected ${E} to be returned from the "${p}" function but got ${N}.`},TypeError),d("ERR_MISSING_ARGS",(...E)=>{c(E.length>0,"At least one arg needs to be specified");let p;const m=E.length;switch(E=(Array.isArray(E)?E:[E]).map(v=>`"${v}"`).join(" or "),m){case 1:p+=`The ${E[0]} argument`;break;case 2:p+=`The ${E[0]} and ${E[1]} arguments`;break;default:{const v=E.pop();p+=`The ${E.join(", ")}, and ${v} arguments`}break}return`${p} must be specified`},TypeError),d("ERR_OUT_OF_RANGE",(E,p,m)=>{c(p,'Missing "range" argument');let v;if(Number.isInteger(m)&&Math.abs(m)>2**32)v=u(String(m));else if(typeof m=="bigint"){v=String(m);const N=BigInt(2)**BigInt(32);(m>N||m<-N)&&(v=u(v)),v+="n"}else v=e(m);return`The value of "${E}" is out of range. It must be ${p}. Received ${v}`},RangeError),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),d("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),d("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),d("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),d("ERR_STREAM_WRITE_AFTER_END","write after end",Error),d("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),Th={AbortError:w,aggregateTwoErrors:b(T),hideStackFrames:b,codes:l},Th}const wv=new WeakMap,xd=new WeakMap;function et(t){const e=wv.get(t);return console.assert(e!=null,"'this' is expected an Event object, but got",t),e}function J0(t){if(t.passiveListener!=null){typeof console<"u"&&typeof console.error=="function"&&console.error("Unable to preventDefault inside passive event listener invocation.",t.passiveListener);return}t.event.cancelable&&(t.canceled=!0,typeof t.event.preventDefault=="function"&&t.event.preventDefault())}function fa(t,e){wv.set(this,{eventTarget:t,event:e,eventPhase:2,currentTarget:t,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:e.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];i in this||Object.defineProperty(this,i,_v(i))}}fa.prototype={get type(){return et(this).event.type},get target(){return et(this).eventTarget},get currentTarget(){return et(this).currentTarget},composedPath(){const t=et(this).currentTarget;return t==null?[]:[t]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return et(this).eventPhase},stopPropagation(){const t=et(this);t.stopped=!0,typeof t.event.stopPropagation=="function"&&t.event.stopPropagation()},stopImmediatePropagation(){const t=et(this);t.stopped=!0,t.immediateStopped=!0,typeof t.event.stopImmediatePropagation=="function"&&t.event.stopImmediatePropagation()},get bubbles(){return!!et(this).event.bubbles},get cancelable(){return!!et(this).event.cancelable},preventDefault(){J0(et(this))},get defaultPrevented(){return et(this).canceled},get composed(){return!!et(this).event.composed},get timeStamp(){return et(this).timeStamp},get srcElement(){return et(this).eventTarget},get cancelBubble(){return et(this).stopped},set cancelBubble(t){if(!t)return;const e=et(this);e.stopped=!0,typeof e.event.cancelBubble=="boolean"&&(e.event.cancelBubble=!0)},get returnValue(){return!et(this).canceled},set returnValue(t){t||J0(et(this))},initEvent(){}};Object.defineProperty(fa.prototype,"constructor",{value:fa,configurable:!0,writable:!0});typeof window<"u"&&typeof window.Event<"u"&&(Object.setPrototypeOf(fa.prototype,window.Event.prototype),xd.set(window.Event.prototype,fa));function _v(t){return{get(){return et(this).event[t]},set(e){et(this).event[t]=e},configurable:!0,enumerable:!0}}function W2(t){return{value(){const e=et(this).event;return e[t].apply(e,arguments)},configurable:!0,enumerable:!0}}function G2(t,e){const r=Object.keys(e);if(r.length===0)return t;function n(i,s){t.call(this,i,s)}n.prototype=Object.create(t.prototype,{constructor:{value:n,configurable:!0,writable:!0}});for(let i=0;i<r.length;++i){const s=r[i];if(!(s in t.prototype)){const o=typeof Object.getOwnPropertyDescriptor(e,s).value=="function";Object.defineProperty(n.prototype,s,o?W2(s):_v(s))}}return n}function bv(t){if(t==null||t===Object.prototype)return fa;let e=xd.get(t);return e==null&&(e=G2(bv(Object.getPrototypeOf(t)),t),xd.set(t,e)),e}function q2(t,e){const r=bv(Object.getPrototypeOf(e));return new r(t,e)}function z2(t){return et(t).immediateStopped}function H2(t,e){et(t).eventPhase=e}function V2(t,e){et(t).currentTarget=e}function ey(t,e){et(t).passiveListener=e}const vv=new WeakMap,ty=1,ry=2,xu=3;function Ru(t){return t!==null&&typeof t=="object"}function no(t){const e=vv.get(t);if(e==null)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return e}function Y2(t){return{get(){let r=no(this).get(t);for(;r!=null;){if(r.listenerType===xu)return r.listener;r=r.next}return null},set(e){typeof e!="function"&&!Ru(e)&&(e=null);const r=no(this);let n=null,i=r.get(t);for(;i!=null;)i.listenerType===xu?n!==null?n.next=i.next:i.next!==null?r.set(t,i.next):r.delete(t):n=i,i=i.next;if(e!==null){const s={listener:e,listenerType:xu,passive:!1,once:!1,next:null};n===null?r.set(t,s):n.next=s}},configurable:!0,enumerable:!0}}function Ev(t,e){Object.defineProperty(t,`on${e}`,Y2(e))}function ny(t){function e(){Fn.call(this)}e.prototype=Object.create(Fn.prototype,{constructor:{value:e,configurable:!0,writable:!0}});for(let r=0;r<t.length;++r)Ev(e.prototype,t[r]);return e}function Fn(){if(this instanceof Fn){vv.set(this,new Map);return}if(arguments.length===1&&Array.isArray(arguments[0]))return ny(arguments[0]);if(arguments.length>0){const t=new Array(arguments.length);for(let e=0;e<arguments.length;++e)t[e]=arguments[e];return ny(t)}throw new TypeError("Cannot call a class as a function")}Fn.prototype={addEventListener(t,e,r){if(e==null)return;if(typeof e!="function"&&!Ru(e))throw new TypeError("'listener' should be a function or an object.");const n=no(this),i=Ru(r),a=(i?!!r.capture:!!r)?ty:ry,o={listener:e,listenerType:a,passive:i&&!!r.passive,once:i&&!!r.once,next:null};let l=n.get(t);if(l===void 0){n.set(t,o);return}let c=null;for(;l!=null;){if(l.listener===e&&l.listenerType===a)return;c=l,l=l.next}c.next=o},removeEventListener(t,e,r){if(e==null)return;const n=no(this),s=(Ru(r)?!!r.capture:!!r)?ty:ry;let a=null,o=n.get(t);for(;o!=null;){if(o.listener===e&&o.listenerType===s){a!==null?a.next=o.next:o.next!==null?n.set(t,o.next):n.delete(t);return}a=o,o=o.next}},dispatchEvent(t){if(t==null||typeof t.type!="string")throw new TypeError('"event.type" should be a string.');const e=no(this),r=t.type;let n=e.get(r);if(n==null)return!0;const i=q2(this,t);let s=null;for(;n!=null;){if(n.once?s!==null?s.next=n.next:n.next!==null?e.set(r,n.next):e.delete(r):s=n,ey(i,n.passive?n.listener:null),typeof n.listener=="function")try{n.listener.call(this,i)}catch(a){typeof console<"u"&&typeof console.error=="function"&&console.error(a)}else n.listenerType!==xu&&typeof n.listener.handleEvent=="function"&&n.listener.handleEvent(i);if(z2(i))break;n=n.next}return ey(i,null),H2(i,0),V2(i,null),!i.defaultPrevented}};Object.defineProperty(Fn.prototype,"constructor",{value:Fn,configurable:!0,writable:!0});typeof window<"u"&&typeof window.EventTarget<"u"&&Object.setPrototypeOf(Fn.prototype,window.EventTarget.prototype);class yl extends Fn{constructor(){throw super(),new TypeError("AbortSignal cannot be constructed directly")}get aborted(){const e=yc.get(this);if(typeof e!="boolean")throw new TypeError(`Expected 'this' to be an 'AbortSignal' object, but got ${this===null?"null":typeof this}`);return e}}Ev(yl.prototype,"abort");function K2(){const t=Object.create(yl.prototype);return Fn.call(t),yc.set(t,!1),t}function X2(t){yc.get(t)===!1&&(yc.set(t,!0),t.dispatchEvent({type:"abort"}))}const yc=new WeakMap;Object.defineProperties(yl.prototype,{aborted:{enumerable:!0}});typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(yl.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class wc{constructor(){Sv.set(this,K2())}get signal(){return iy(this)}abort(){X2(iy(this))}}const Sv=new WeakMap;function iy(t){const e=Sv.get(t);if(e==null)throw new TypeError(`Expected 'this' to be an 'AbortController' object, but got ${t===null?"null":typeof t}`);return e}Object.defineProperties(wc.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}});typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(wc.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"});const Z2=Object.freeze(Object.defineProperty({__proto__:null,AbortController:wc,AbortSignal:yl,default:wc},Symbol.toStringTag,{value:"Module"})),bo=vw(Z2);var sy;function or(){return sy||(sy=1,function(t){const e=Xr,{format:r,inspect:n}=yv(),{codes:{ERR_INVALID_ARG_TYPE:i}}=rr(),{kResistStopPropagation:s,AggregateError:a,SymbolDispose:o}=lt(),l=globalThis.AbortSignal||bo.AbortSignal,c=globalThis.AbortController||bo.AbortController,u=Object.getPrototypeOf(async function(){}).constructor,h=globalThis.Blob||e.Blob,d=typeof h<"u"?function(E){return E instanceof h}:function(E){return!1},b=(w,E)=>{if(w!==void 0&&(w===null||typeof w!="object"||!("aborted"in w)))throw new i(E,"AbortSignal",w)},T=(w,E)=>{if(typeof w!="function")throw new i(E,"Function",w)};t.exports={AggregateError:a,kEmptyObject:Object.freeze({}),once(w){let E=!1;return function(...p){E||(E=!0,w.apply(this,p))}},createDeferredPromise:function(){let w,E;return{promise:new Promise((m,v)=>{w=m,E=v}),resolve:w,reject:E}},promisify(w){return new Promise((E,p)=>{w((m,...v)=>m?p(m):E(...v))})},debuglog(){return function(){}},format:r,inspect:n,types:{isAsyncFunction(w){return w instanceof u},isArrayBufferView(w){return ArrayBuffer.isView(w)}},isBlob:d,deprecate(w,E){return w},addAbortListener:Cr.addAbortListener||function(E,p){if(E===void 0)throw new i("signal","AbortSignal",E);b(E,"signal"),T(p,"listener");let m;return E.aborted?queueMicrotask(()=>p()):(E.addEventListener("abort",p,{__proto__:null,once:!0,[s]:!0}),m=()=>{E.removeEventListener("abort",p)}),{__proto__:null,[o](){var v;(v=m)===null||v===void 0||v()}}},AbortSignalAny:l.any||function(E){if(E.length===1)return E[0];const p=new c,m=()=>p.abort();return E.forEach(v=>{b(v,"signals"),v.addEventListener("abort",m,{once:!0})}),p.signal.addEventListener("abort",()=>{E.forEach(v=>v.removeEventListener("abort",m))},{once:!0}),p.signal}},t.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(Eh)),Eh.exports}var au={},Ah,ay;function wl(){if(ay)return Ah;ay=1;const{ArrayIsArray:t,ArrayPrototypeIncludes:e,ArrayPrototypeJoin:r,ArrayPrototypeMap:n,NumberIsInteger:i,NumberIsNaN:s,NumberMAX_SAFE_INTEGER:a,NumberMIN_SAFE_INTEGER:o,NumberParseInt:l,ObjectPrototypeHasOwnProperty:c,RegExpPrototypeExec:u,String:h,StringPrototypeToUpperCase:d,StringPrototypeTrim:b}=lt(),{hideStackFrames:T,codes:{ERR_SOCKET_BAD_PORT:w,ERR_INVALID_ARG_TYPE:E,ERR_INVALID_ARG_VALUE:p,ERR_OUT_OF_RANGE:m,ERR_UNKNOWN_SIGNAL:v}}=rr(),{normalizeEncoding:N}=or(),{isAsyncFunction:z,isArrayBufferView:ue}=or().types,Q={};function G(q){return q===(q|0)}function R(q){return q===q>>>0}const k=/^[0-7]+$/,W="must be a 32-bit unsigned integer or an octal string";function H(q,re,ce){if(typeof q>"u"&&(q=ce),typeof q=="string"){if(u(k,q)===null)throw new p(re,q,W);q=l(q,8)}return Y(q,re),q}const j=T((q,re,ce=o,ie=a)=>{if(typeof q!="number")throw new E(re,"number",q);if(!i(q))throw new m(re,"an integer",q);if(q<ce||q>ie)throw new m(re,`>= ${ce} && <= ${ie}`,q)}),X=T((q,re,ce=-2147483648,ie=2147483647)=>{if(typeof q!="number")throw new E(re,"number",q);if(!i(q))throw new m(re,"an integer",q);if(q<ce||q>ie)throw new m(re,`>= ${ce} && <= ${ie}`,q)}),Y=T((q,re,ce=!1)=>{if(typeof q!="number")throw new E(re,"number",q);if(!i(q))throw new m(re,"an integer",q);const ie=ce?1:0,Re=4294967295;if(q<ie||q>Re)throw new m(re,`>= ${ie} && <= ${Re}`,q)});function ne(q,re){if(typeof q!="string")throw new E(re,"string",q)}function P(q,re,ce=void 0,ie){if(typeof q!="number")throw new E(re,"number",q);if(ce!=null&&q<ce||ie!=null&&q>ie||(ce!=null||ie!=null)&&s(q))throw new m(re,`${ce!=null?`>= ${ce}`:""}${ce!=null&&ie!=null?" && ":""}${ie!=null?`<= ${ie}`:""}`,q)}const x=T((q,re,ce)=>{if(!e(ce,q)){const Re="must be one of: "+r(n(ce,Ge=>typeof Ge=="string"?`'${Ge}'`:h(Ge)),", ");throw new p(re,q,Re)}});function U(q,re){if(typeof q!="boolean")throw new E(re,"boolean",q)}function O(q,re,ce){return q==null||!c(q,re)?ce:q[re]}const V=T((q,re,ce=null)=>{const ie=O(ce,"allowArray",!1),Re=O(ce,"allowFunction",!1);if(!O(ce,"nullable",!1)&&q===null||!ie&&t(q)||typeof q!="object"&&(!Re||typeof q!="function"))throw new E(re,"Object",q)}),J=T((q,re)=>{if(q!=null&&typeof q!="object"&&typeof q!="function")throw new E(re,"a dictionary",q)}),Z=T((q,re,ce=0)=>{if(!t(q))throw new E(re,"Array",q);if(q.length<ce){const ie=`must be longer than ${ce}`;throw new p(re,q,ie)}});function ge(q,re){Z(q,re);for(let ce=0;ce<q.length;ce++)ne(q[ce],`${re}[${ce}]`)}function fe(q,re){Z(q,re);for(let ce=0;ce<q.length;ce++)U(q[ce],`${re}[${ce}]`)}function Ee(q,re){Z(q,re);for(let ce=0;ce<q.length;ce++){const ie=q[ce],Re=`${re}[${ce}]`;if(ie==null)throw new E(Re,"AbortSignal",ie);D(ie,Re)}}function g(q,re="signal"){if(ne(q,re),Q[q]===void 0)throw Q[d(q)]!==void 0?new v(q+" (signals must use all capital letters)"):new v(q)}const f=T((q,re="buffer")=>{if(!ue(q))throw new E(re,["Buffer","TypedArray","DataView"],q)});function I(q,re){const ce=N(re),ie=q.length;if(ce==="hex"&&ie%2!==0)throw new p("encoding",re,`is invalid for data of length ${ie}`)}function S(q,re="Port",ce=!0){if(typeof q!="number"&&typeof q!="string"||typeof q=="string"&&b(q).length===0||+q!==+q>>>0||q>65535||q===0&&!ce)throw new w(re,q,ce);return q|0}const D=T((q,re)=>{if(q!==void 0&&(q===null||typeof q!="object"||!("aborted"in q)))throw new E(re,"AbortSignal",q)}),F=T((q,re)=>{if(typeof q!="function")throw new E(re,"Function",q)}),A=T((q,re)=>{if(typeof q!="function"||z(q))throw new E(re,"Function",q)}),C=T((q,re)=>{if(q!==void 0)throw new E(re,"undefined",q)});function B(q,re,ce){if(!e(ce,q))throw new E(re,`('${r(ce,"|")}')`,q)}const te=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function ae(q,re){if(typeof q>"u"||!u(te,q))throw new p(re,q,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function le(q){if(typeof q=="string")return ae(q,"hints"),q;if(t(q)){const re=q.length;let ce="";if(re===0)return ce;for(let ie=0;ie<re;ie++){const Re=q[ie];ae(Re,"hints"),ce+=Re,ie!==re-1&&(ce+=", ")}return ce}throw new p("hints",q,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return Ah={isInt32:G,isUint32:R,parseFileMode:H,validateArray:Z,validateStringArray:ge,validateBooleanArray:fe,validateAbortSignalArray:Ee,validateBoolean:U,validateBuffer:f,validateDictionary:J,validateEncoding:I,validateFunction:F,validateInt32:X,validateInteger:j,validateNumber:P,validateObject:V,validateOneOf:x,validatePlainFunction:A,validatePort:S,validateSignalName:g,validateString:ne,validateUint32:Y,validateUndefined:C,validateUnion:B,validateAbortSignal:D,validateLinkHeaderValue:le},Ah}var ou={exports:{}},xh,oy;function vs(){return oy||(oy=1,xh=Be.process),xh}var Rh,ly;function jn(){if(ly)return Rh;ly=1;const{SymbolAsyncIterator:t,SymbolIterator:e,SymbolFor:r}=lt(),n=r("nodejs.stream.destroyed"),i=r("nodejs.stream.errored"),s=r("nodejs.stream.readable"),a=r("nodejs.stream.writable"),o=r("nodejs.stream.disturbed"),l=r("nodejs.webstream.isClosedPromise"),c=r("nodejs.webstream.controllerErrorFunction");function u(O,V=!1){var J;return!!(O&&typeof O.pipe=="function"&&typeof O.on=="function"&&(!V||typeof O.pause=="function"&&typeof O.resume=="function")&&(!O._writableState||((J=O._readableState)===null||J===void 0?void 0:J.readable)!==!1)&&(!O._writableState||O._readableState))}function h(O){var V;return!!(O&&typeof O.write=="function"&&typeof O.on=="function"&&(!O._readableState||((V=O._writableState)===null||V===void 0?void 0:V.writable)!==!1))}function d(O){return!!(O&&typeof O.pipe=="function"&&O._readableState&&typeof O.on=="function"&&typeof O.write=="function")}function b(O){return O&&(O._readableState||O._writableState||typeof O.write=="function"&&typeof O.on=="function"||typeof O.pipe=="function"&&typeof O.on=="function")}function T(O){return!!(O&&!b(O)&&typeof O.pipeThrough=="function"&&typeof O.getReader=="function"&&typeof O.cancel=="function")}function w(O){return!!(O&&!b(O)&&typeof O.getWriter=="function"&&typeof O.abort=="function")}function E(O){return!!(O&&!b(O)&&typeof O.readable=="object"&&typeof O.writable=="object")}function p(O){return T(O)||w(O)||E(O)}function m(O,V){return O==null?!1:V===!0?typeof O[t]=="function":V===!1?typeof O[e]=="function":typeof O[t]=="function"||typeof O[e]=="function"}function v(O){if(!b(O))return null;const V=O._writableState,J=O._readableState,Z=V||J;return!!(O.destroyed||O[n]||Z!=null&&Z.destroyed)}function N(O){if(!h(O))return null;if(O.writableEnded===!0)return!0;const V=O._writableState;return V!=null&&V.errored?!1:typeof(V==null?void 0:V.ended)!="boolean"?null:V.ended}function z(O,V){if(!h(O))return null;if(O.writableFinished===!0)return!0;const J=O._writableState;return J!=null&&J.errored?!1:typeof(J==null?void 0:J.finished)!="boolean"?null:!!(J.finished||V===!1&&J.ended===!0&&J.length===0)}function ue(O){if(!u(O))return null;if(O.readableEnded===!0)return!0;const V=O._readableState;return!V||V.errored?!1:typeof(V==null?void 0:V.ended)!="boolean"?null:V.ended}function Q(O,V){if(!u(O))return null;const J=O._readableState;return J!=null&&J.errored?!1:typeof(J==null?void 0:J.endEmitted)!="boolean"?null:!!(J.endEmitted||V===!1&&J.ended===!0&&J.length===0)}function G(O){return O&&O[s]!=null?O[s]:typeof(O==null?void 0:O.readable)!="boolean"?null:v(O)?!1:u(O)&&O.readable&&!Q(O)}function R(O){return O&&O[a]!=null?O[a]:typeof(O==null?void 0:O.writable)!="boolean"?null:v(O)?!1:h(O)&&O.writable&&!N(O)}function k(O,V){return b(O)?v(O)?!0:!((V==null?void 0:V.readable)!==!1&&G(O)||(V==null?void 0:V.writable)!==!1&&R(O)):null}function W(O){var V,J;return b(O)?O.writableErrored?O.writableErrored:(V=(J=O._writableState)===null||J===void 0?void 0:J.errored)!==null&&V!==void 0?V:null:null}function H(O){var V,J;return b(O)?O.readableErrored?O.readableErrored:(V=(J=O._readableState)===null||J===void 0?void 0:J.errored)!==null&&V!==void 0?V:null:null}function j(O){if(!b(O))return null;if(typeof O.closed=="boolean")return O.closed;const V=O._writableState,J=O._readableState;return typeof(V==null?void 0:V.closed)=="boolean"||typeof(J==null?void 0:J.closed)=="boolean"?(V==null?void 0:V.closed)||(J==null?void 0:J.closed):typeof O._closed=="boolean"&&X(O)?O._closed:null}function X(O){return typeof O._closed=="boolean"&&typeof O._defaultKeepAlive=="boolean"&&typeof O._removedConnection=="boolean"&&typeof O._removedContLen=="boolean"}function Y(O){return typeof O._sent100=="boolean"&&X(O)}function ne(O){var V;return typeof O._consuming=="boolean"&&typeof O._dumped=="boolean"&&((V=O.req)===null||V===void 0?void 0:V.upgradeOrConnect)===void 0}function P(O){if(!b(O))return null;const V=O._writableState,J=O._readableState,Z=V||J;return!Z&&Y(O)||!!(Z&&Z.autoDestroy&&Z.emitClose&&Z.closed===!1)}function x(O){var V;return!!(O&&((V=O[o])!==null&&V!==void 0?V:O.readableDidRead||O.readableAborted))}function U(O){var V,J,Z,ge,fe,Ee,g,f,I,S;return!!(O&&((V=(J=(Z=(ge=(fe=(Ee=O[i])!==null&&Ee!==void 0?Ee:O.readableErrored)!==null&&fe!==void 0?fe:O.writableErrored)!==null&&ge!==void 0?ge:(g=O._readableState)===null||g===void 0?void 0:g.errorEmitted)!==null&&Z!==void 0?Z:(f=O._writableState)===null||f===void 0?void 0:f.errorEmitted)!==null&&J!==void 0?J:(I=O._readableState)===null||I===void 0?void 0:I.errored)!==null&&V!==void 0?V:!((S=O._writableState)===null||S===void 0)&&S.errored))}return Rh={isDestroyed:v,kIsDestroyed:n,isDisturbed:x,kIsDisturbed:o,isErrored:U,kIsErrored:i,isReadable:G,kIsReadable:s,kIsClosedPromise:l,kControllerErrorFunction:c,kIsWritable:a,isClosed:j,isDuplexNodeStream:d,isFinished:k,isIterable:m,isReadableNodeStream:u,isReadableStream:T,isReadableEnded:ue,isReadableFinished:Q,isReadableErrored:H,isNodeStream:b,isWebStream:p,isWritable:R,isWritableNodeStream:h,isWritableStream:w,isWritableEnded:N,isWritableFinished:z,isWritableErrored:W,isServerRequest:ne,isServerResponse:Y,willEmitClose:P,isTransformStream:E},Rh}var uy;function $i(){if(uy)return ou.exports;uy=1;const t=vs(),{AbortError:e,codes:r}=rr(),{ERR_INVALID_ARG_TYPE:n,ERR_STREAM_PREMATURE_CLOSE:i}=r,{kEmptyObject:s,once:a}=or(),{validateAbortSignal:o,validateFunction:l,validateObject:c,validateBoolean:u}=wl(),{Promise:h,PromisePrototypeThen:d,SymbolDispose:b}=lt(),{isClosed:T,isReadable:w,isReadableNodeStream:E,isReadableStream:p,isReadableFinished:m,isReadableErrored:v,isWritable:N,isWritableNodeStream:z,isWritableStream:ue,isWritableFinished:Q,isWritableErrored:G,isNodeStream:R,willEmitClose:k,kIsClosedPromise:W}=jn();let H;function j(x){return x.setHeader&&typeof x.abort=="function"}const X=()=>{};function Y(x,U,O){var V,J;if(arguments.length===2?(O=U,U=s):U==null?U=s:c(U,"options"),l(O,"callback"),o(U.signal,"options.signal"),O=a(O),p(x)||ue(x))return ne(x,U,O);if(!R(x))throw new n("stream",["ReadableStream","WritableStream","Stream"],x);const Z=(V=U.readable)!==null&&V!==void 0?V:E(x),ge=(J=U.writable)!==null&&J!==void 0?J:z(x),fe=x._writableState,Ee=x._readableState,g=()=>{x.writable||S()};let f=k(x)&&E(x)===Z&&z(x)===ge,I=Q(x,!1);const S=()=>{I=!0,x.destroyed&&(f=!1),!(f&&(!x.readable||Z))&&(!Z||D)&&O.call(x)};let D=m(x,!1);const F=()=>{D=!0,x.destroyed&&(f=!1),!(f&&(!x.writable||ge))&&(!ge||I)&&O.call(x)},A=q=>{O.call(x,q)};let C=T(x);const B=()=>{C=!0;const q=G(x)||v(x);if(q&&typeof q!="boolean")return O.call(x,q);if(Z&&!D&&E(x,!0)&&!m(x,!1))return O.call(x,new i);if(ge&&!I&&!Q(x,!1))return O.call(x,new i);O.call(x)},te=()=>{C=!0;const q=G(x)||v(x);if(q&&typeof q!="boolean")return O.call(x,q);O.call(x)},ae=()=>{x.req.on("finish",S)};j(x)?(x.on("complete",S),f||x.on("abort",B),x.req?ae():x.on("request",ae)):ge&&!fe&&(x.on("end",g),x.on("close",g)),!f&&typeof x.aborted=="boolean"&&x.on("aborted",B),x.on("end",F),x.on("finish",S),U.error!==!1&&x.on("error",A),x.on("close",B),C?t.nextTick(B):fe!=null&&fe.errorEmitted||Ee!=null&&Ee.errorEmitted?f||t.nextTick(te):(!Z&&(!f||w(x))&&(I||N(x)===!1)||!ge&&(!f||N(x))&&(D||w(x)===!1)||Ee&&x.req&&x.aborted)&&t.nextTick(te);const le=()=>{O=X,x.removeListener("aborted",B),x.removeListener("complete",S),x.removeListener("abort",B),x.removeListener("request",ae),x.req&&x.req.removeListener("finish",S),x.removeListener("end",g),x.removeListener("close",g),x.removeListener("finish",S),x.removeListener("end",F),x.removeListener("error",A),x.removeListener("close",B)};if(U.signal&&!C){const q=()=>{const re=O;le(),re.call(x,new e(void 0,{cause:U.signal.reason}))};if(U.signal.aborted)t.nextTick(q);else{H=H||or().addAbortListener;const re=H(U.signal,q),ce=O;O=a((...ie)=>{re[b](),ce.apply(x,ie)})}}return le}function ne(x,U,O){let V=!1,J=X;if(U.signal)if(J=()=>{V=!0,O.call(x,new e(void 0,{cause:U.signal.reason}))},U.signal.aborted)t.nextTick(J);else{H=H||or().addAbortListener;const ge=H(U.signal,J),fe=O;O=a((...Ee)=>{ge[b](),fe.apply(x,Ee)})}const Z=(...ge)=>{V||t.nextTick(()=>O.apply(x,ge))};return d(x[W].promise,Z,Z),X}function P(x,U){var O;let V=!1;return U===null&&(U=s),(O=U)!==null&&O!==void 0&&O.cleanup&&(u(U.cleanup,"cleanup"),V=U.cleanup),new h((J,Z)=>{const ge=Y(x,U,fe=>{V&&ge(),fe?Z(fe):J()})})}return ou.exports=Y,ou.exports.finished=P,ou.exports}var Oh,cy;function ba(){if(cy)return Oh;cy=1;const t=vs(),{aggregateTwoErrors:e,codes:{ERR_MULTIPLE_CALLBACK:r},AbortError:n}=rr(),{Symbol:i}=lt(),{kIsDestroyed:s,isDestroyed:a,isFinished:o,isServerRequest:l}=jn(),c=i("kDestroy"),u=i("kConstruct");function h(k,W,H){k&&(k.stack,W&&!W.errored&&(W.errored=k),H&&!H.errored&&(H.errored=k))}function d(k,W){const H=this._readableState,j=this._writableState,X=j||H;return j!=null&&j.destroyed||H!=null&&H.destroyed?(typeof W=="function"&&W(),this):(h(k,j,H),j&&(j.destroyed=!0),H&&(H.destroyed=!0),X.constructed?b(this,k,W):this.once(c,function(Y){b(this,e(Y,k),W)}),this)}function b(k,W,H){let j=!1;function X(Y){if(j)return;j=!0;const ne=k._readableState,P=k._writableState;h(Y,P,ne),P&&(P.closed=!0),ne&&(ne.closed=!0),typeof H=="function"&&H(Y),Y?t.nextTick(T,k,Y):t.nextTick(w,k)}try{k._destroy(W||null,X)}catch(Y){X(Y)}}function T(k,W){E(k,W),w(k)}function w(k){const W=k._readableState,H=k._writableState;H&&(H.closeEmitted=!0),W&&(W.closeEmitted=!0),(H!=null&&H.emitClose||W!=null&&W.emitClose)&&k.emit("close")}function E(k,W){const H=k._readableState,j=k._writableState;j!=null&&j.errorEmitted||H!=null&&H.errorEmitted||(j&&(j.errorEmitted=!0),H&&(H.errorEmitted=!0),k.emit("error",W))}function p(){const k=this._readableState,W=this._writableState;k&&(k.constructed=!0,k.closed=!1,k.closeEmitted=!1,k.destroyed=!1,k.errored=null,k.errorEmitted=!1,k.reading=!1,k.ended=k.readable===!1,k.endEmitted=k.readable===!1),W&&(W.constructed=!0,W.destroyed=!1,W.closed=!1,W.closeEmitted=!1,W.errored=null,W.errorEmitted=!1,W.finalCalled=!1,W.prefinished=!1,W.ended=W.writable===!1,W.ending=W.writable===!1,W.finished=W.writable===!1)}function m(k,W,H){const j=k._readableState,X=k._writableState;if(X!=null&&X.destroyed||j!=null&&j.destroyed)return this;j!=null&&j.autoDestroy||X!=null&&X.autoDestroy?k.destroy(W):W&&(W.stack,X&&!X.errored&&(X.errored=W),j&&!j.errored&&(j.errored=W),H?t.nextTick(E,k,W):E(k,W))}function v(k,W){if(typeof k._construct!="function")return;const H=k._readableState,j=k._writableState;H&&(H.constructed=!1),j&&(j.constructed=!1),k.once(u,W),!(k.listenerCount(u)>1)&&t.nextTick(N,k)}function N(k){let W=!1;function H(j){if(W){m(k,j??new r);return}W=!0;const X=k._readableState,Y=k._writableState,ne=Y||X;X&&(X.constructed=!0),Y&&(Y.constructed=!0),ne.destroyed?k.emit(c,j):j?m(k,j,!0):t.nextTick(z,k)}try{k._construct(j=>{t.nextTick(H,j)})}catch(j){t.nextTick(H,j)}}function z(k){k.emit(u)}function ue(k){return(k==null?void 0:k.setHeader)&&typeof k.abort=="function"}function Q(k){k.emit("close")}function G(k,W){k.emit("error",W),t.nextTick(Q,k)}function R(k,W){!k||a(k)||(!W&&!o(k)&&(W=new n),l(k)?(k.socket=null,k.destroy(W)):ue(k)?k.abort():ue(k.req)?k.req.abort():typeof k.destroy=="function"?k.destroy(W):typeof k.close=="function"?k.close():W?t.nextTick(G,k,W):t.nextTick(Q,k),k.destroyed||(k[s]=!0))}return Oh={construct:v,destroyer:R,destroy:d,undestroy:p,errorOrDestroy:m},Oh}var Ih,fy;function Gp(){if(fy)return Ih;fy=1;const{ArrayIsArray:t,ObjectSetPrototypeOf:e}=lt(),{EventEmitter:r}=Cr;function n(s){r.call(this,s)}e(n.prototype,r.prototype),e(n,r),n.prototype.pipe=function(s,a){const o=this;function l(w){s.writable&&s.write(w)===!1&&o.pause&&o.pause()}o.on("data",l);function c(){o.readable&&o.resume&&o.resume()}s.on("drain",c),!s._isStdio&&(!a||a.end!==!1)&&(o.on("end",h),o.on("close",d));let u=!1;function h(){u||(u=!0,s.end())}function d(){u||(u=!0,typeof s.destroy=="function"&&s.destroy())}function b(w){T(),r.listenerCount(this,"error")===0&&this.emit("error",w)}i(o,"error",b),i(s,"error",b);function T(){o.removeListener("data",l),s.removeListener("drain",c),o.removeListener("end",h),o.removeListener("close",d),o.removeListener("error",b),s.removeListener("error",b),o.removeListener("end",T),o.removeListener("close",T),s.removeListener("close",T)}return o.on("end",T),o.on("close",T),s.on("close",T),s.emit("pipe",o),s};function i(s,a,o){if(typeof s.prependListener=="function")return s.prependListener(a,o);!s._events||!s._events[a]?s.on(a,o):t(s._events[a])?s._events[a].unshift(o):s._events[a]=[o,s._events[a]]}return Ih={Stream:n,prependListener:i},Ih}var Ch={exports:{}},hy;function rf(){return hy||(hy=1,function(t){const{SymbolDispose:e}=lt(),{AbortError:r,codes:n}=rr(),{isNodeStream:i,isWebStream:s,kControllerErrorFunction:a}=jn(),o=$i(),{ERR_INVALID_ARG_TYPE:l}=n;let c;const u=(h,d)=>{if(typeof h!="object"||!("aborted"in h))throw new l(d,"AbortSignal",h)};t.exports.addAbortSignal=function(d,b){if(u(d,"signal"),!i(b)&&!s(b))throw new l("stream",["ReadableStream","WritableStream","Stream"],b);return t.exports.addAbortSignalNoValidate(d,b)},t.exports.addAbortSignalNoValidate=function(h,d){if(typeof h!="object"||!("aborted"in h))return d;const b=i(d)?()=>{d.destroy(new r(void 0,{cause:h.reason}))}:()=>{d[a](new r(void 0,{cause:h.reason}))};if(h.aborted)b();else{c=c||or().addAbortListener;const T=c(h,b);o(d,T[e])}return d}}(Ch)),Ch.exports}var Dh,dy;function Q2(){if(dy)return Dh;dy=1;const{StringPrototypeSlice:t,SymbolIterator:e,TypedArrayPrototypeSet:r,Uint8Array:n}=lt(),{Buffer:i}=Xr,{inspect:s}=or();return Dh=class{constructor(){this.head=null,this.tail=null,this.length=0}push(o){const l={data:o,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length}unshift(o){const l={data:o,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length}shift(){if(this.length===0)return;const o=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,o}clear(){this.head=this.tail=null,this.length=0}join(o){if(this.length===0)return"";let l=this.head,c=""+l.data;for(;(l=l.next)!==null;)c+=o+l.data;return c}concat(o){if(this.length===0)return i.alloc(0);const l=i.allocUnsafe(o>>>0);let c=this.head,u=0;for(;c;)r(l,c.data,u),u+=c.data.length,c=c.next;return l}consume(o,l){const c=this.head.data;if(o<c.length){const u=c.slice(0,o);return this.head.data=c.slice(o),u}return o===c.length?this.shift():l?this._getString(o):this._getBuffer(o)}first(){return this.head.data}*[e](){for(let o=this.head;o;o=o.next)yield o.data}_getString(o){let l="",c=this.head,u=0;do{const h=c.data;if(o>h.length)l+=h,o-=h.length;else{o===h.length?(l+=h,++u,c.next?this.head=c.next:this.head=this.tail=null):(l+=t(h,0,o),this.head=c,c.data=t(h,o));break}++u}while((c=c.next)!==null);return this.length-=u,l}_getBuffer(o){const l=i.allocUnsafe(o),c=o;let u=this.head,h=0;do{const d=u.data;if(o>d.length)r(l,d,c-o),o-=d.length;else{o===d.length?(r(l,d,c-o),++h,u.next?this.head=u.next:this.head=this.tail=null):(r(l,new n(d.buffer,d.byteOffset,o),c-o),this.head=u,u.data=d.slice(o));break}++h}while((u=u.next)!==null);return this.length-=h,l}[Symbol.for("nodejs.util.inspect.custom")](o,l){return s(this,{...l,depth:0,customInspect:!1})}},Dh}var Ph,py;function nf(){if(py)return Ph;py=1;const{MathFloor:t,NumberIsInteger:e}=lt(),{validateInteger:r}=wl(),{ERR_INVALID_ARG_VALUE:n}=rr().codes;let i=16*1024,s=16;function a(u,h,d){return u.highWaterMark!=null?u.highWaterMark:h?u[d]:null}function o(u){return u?s:i}function l(u,h){r(h,"value",0),u?s=h:i=h}function c(u,h,d,b){const T=a(h,b,d);if(T!=null){if(!e(T)||T<0){const w=b?`options.${d}`:"options.highWaterMark";throw new n(w,T)}return t(T)}return o(u.objectMode)}return Ph={getHighWaterMark:c,getDefaultHighWaterMark:o,setDefaultHighWaterMark:l},Ph}var $h={},lu={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var gy;function J2(){return gy||(gy=1,function(t,e){var r=Xr,n=r.Buffer;function i(a,o){for(var l in a)o[l]=a[l]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(a,o,l){return n(a,o,l)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(a,o,l){if(typeof a=="number")throw new TypeError("Argument must not be a number");return n(a,o,l)},s.alloc=function(a,o,l){if(typeof a!="number")throw new TypeError("Argument must be a number");var c=n(a);return o!==void 0?typeof l=="string"?c.fill(o,l):c.fill(o):c.fill(0),c},s.allocUnsafe=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return n(a)},s.allocUnsafeSlow=function(a){if(typeof a!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(a)}}(lu,lu.exports)),lu.exports}var my;function eF(){if(my)return $h;my=1;var t=J2().Buffer,e=t.isEncoding||function(p){switch(p=""+p,p&&p.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(p){if(!p)return"utf8";for(var m;;)switch(p){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return p;default:if(m)return;p=(""+p).toLowerCase(),m=!0}}function n(p){var m=r(p);if(typeof m!="string"&&(t.isEncoding===e||!e(p)))throw new Error("Unknown encoding: "+p);return m||p}$h.StringDecoder=i;function i(p){this.encoding=n(p);var m;switch(this.encoding){case"utf16le":this.text=h,this.end=d,m=4;break;case"utf8":this.fillLast=l,m=4;break;case"base64":this.text=b,this.end=T,m=3;break;default:this.write=w,this.end=E;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(m)}i.prototype.write=function(p){if(p.length===0)return"";var m,v;if(this.lastNeed){if(m=this.fillLast(p),m===void 0)return"";v=this.lastNeed,this.lastNeed=0}else v=0;return v<p.length?m?m+this.text(p,v):this.text(p,v):m||""},i.prototype.end=u,i.prototype.text=c,i.prototype.fillLast=function(p){if(this.lastNeed<=p.length)return p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,this.lastTotal-this.lastNeed,0,p.length),this.lastNeed-=p.length};function s(p){return p<=127?0:p>>5===6?2:p>>4===14?3:p>>3===30?4:p>>6===2?-1:-2}function a(p,m,v){var N=m.length-1;if(N<v)return 0;var z=s(m[N]);return z>=0?(z>0&&(p.lastNeed=z-1),z):--N<v||z===-2?0:(z=s(m[N]),z>=0?(z>0&&(p.lastNeed=z-2),z):--N<v||z===-2?0:(z=s(m[N]),z>=0?(z>0&&(z===2?z=0:p.lastNeed=z-3),z):0))}function o(p,m,v){if((m[0]&192)!==128)return p.lastNeed=0,"";if(p.lastNeed>1&&m.length>1){if((m[1]&192)!==128)return p.lastNeed=1,"";if(p.lastNeed>2&&m.length>2&&(m[2]&192)!==128)return p.lastNeed=2,""}}function l(p){var m=this.lastTotal-this.lastNeed,v=o(this,p);if(v!==void 0)return v;if(this.lastNeed<=p.length)return p.copy(this.lastChar,m,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);p.copy(this.lastChar,m,0,p.length),this.lastNeed-=p.length}function c(p,m){var v=a(this,p,m);if(!this.lastNeed)return p.toString("utf8",m);this.lastTotal=v;var N=p.length-(v-this.lastNeed);return p.copy(this.lastChar,0,N),p.toString("utf8",m,N)}function u(p){var m=p&&p.length?this.write(p):"";return this.lastNeed?m+"":m}function h(p,m){if((p.length-m)%2===0){var v=p.toString("utf16le",m);if(v){var N=v.charCodeAt(v.length-1);if(N>=55296&&N<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1],v.slice(0,-1)}return v}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=p[p.length-1],p.toString("utf16le",m,p.length-1)}function d(p){var m=p&&p.length?this.write(p):"";if(this.lastNeed){var v=this.lastTotal-this.lastNeed;return m+this.lastChar.toString("utf16le",0,v)}return m}function b(p,m){var v=(p.length-m)%3;return v===0?p.toString("base64",m):(this.lastNeed=3-v,this.lastTotal=3,v===1?this.lastChar[0]=p[p.length-1]:(this.lastChar[0]=p[p.length-2],this.lastChar[1]=p[p.length-1]),p.toString("base64",m,p.length-v))}function T(p){var m=p&&p.length?this.write(p):"";return this.lastNeed?m+this.lastChar.toString("base64",0,3-this.lastNeed):m}function w(p){return p.toString(this.encoding)}function E(p){return p&&p.length?this.write(p):""}return $h}var Nh,yy;function Tv(){if(yy)return Nh;yy=1;const t=vs(),{PromisePrototypeThen:e,SymbolAsyncIterator:r,SymbolIterator:n}=lt(),{Buffer:i}=Xr,{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_NULL_VALUES:a}=rr().codes;function o(l,c,u){let h;if(typeof c=="string"||c instanceof i)return new l({objectMode:!0,...u,read(){this.push(c),this.push(null)}});let d;if(c&&c[r])d=!0,h=c[r]();else if(c&&c[n])d=!1,h=c[n]();else throw new s("iterable",["Iterable"],c);const b=new l({objectMode:!0,highWaterMark:1,...u});let T=!1;b._read=function(){T||(T=!0,E())},b._destroy=function(p,m){e(w(p),()=>t.nextTick(m,p),v=>t.nextTick(m,v||p))};async function w(p){const m=p!=null,v=typeof h.throw=="function";if(m&&v){const{value:N,done:z}=await h.throw(p);if(await N,z)return}if(typeof h.return=="function"){const{value:N}=await h.return();await N}}async function E(){for(;;){try{const{value:p,done:m}=d?await h.next():h.next();if(m)b.push(null);else{const v=p&&typeof p.then=="function"?await p:p;if(v===null)throw T=!1,new a;if(b.push(v))continue;T=!1}}catch(p){b.destroy(p)}break}}return b}return Nh=o,Nh}var Lh,wy;function sf(){if(wy)return Lh;wy=1;const t=vs(),{ArrayPrototypeIndexOf:e,NumberIsInteger:r,NumberIsNaN:n,NumberParseInt:i,ObjectDefineProperties:s,ObjectKeys:a,ObjectSetPrototypeOf:o,Promise:l,SafeSet:c,SymbolAsyncDispose:u,SymbolAsyncIterator:h,Symbol:d}=lt();Lh=ie,ie.ReadableState=ce;const{EventEmitter:b}=Cr,{Stream:T,prependListener:w}=Gp(),{Buffer:E}=Xr,{addAbortSignal:p}=rf(),m=$i();let v=or().debuglog("stream",$=>{v=$});const N=Q2(),z=ba(),{getHighWaterMark:ue,getDefaultHighWaterMark:Q}=nf(),{aggregateTwoErrors:G,codes:{ERR_INVALID_ARG_TYPE:R,ERR_METHOD_NOT_IMPLEMENTED:k,ERR_OUT_OF_RANGE:W,ERR_STREAM_PUSH_AFTER_EOF:H,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:j},AbortError:X}=rr(),{validateObject:Y}=wl(),ne=d("kPaused"),{StringDecoder:P}=eF(),x=Tv();o(ie.prototype,T.prototype),o(ie,T);const U=()=>{},{errorOrDestroy:O}=z,V=1,J=2,Z=4,ge=8,fe=16,Ee=32,g=64,f=128,I=256,S=512,D=1024,F=2048,A=4096,C=8192,B=16384,te=32768,ae=65536,le=1<<17,q=1<<18;function re($){return{enumerable:!1,get(){return(this.state&$)!==0},set(M){M?this.state|=$:this.state&=~$}}}s(ce.prototype,{objectMode:re(V),ended:re(J),endEmitted:re(Z),reading:re(ge),constructed:re(fe),sync:re(Ee),needReadable:re(g),emittedReadable:re(f),readableListening:re(I),resumeScheduled:re(S),errorEmitted:re(D),emitClose:re(F),autoDestroy:re(A),destroyed:re(C),closed:re(B),closeEmitted:re(te),multiAwaitDrain:re(ae),readingMore:re(le),dataEmitted:re(q)});function ce($,M,we){typeof we!="boolean"&&(we=M instanceof Mn()),this.state=F|A|fe|Ee,$&&$.objectMode&&(this.state|=V),we&&$&&$.readableObjectMode&&(this.state|=V),this.highWaterMark=$?ue(this,$,"readableHighWaterMark",we):Q(!1),this.buffer=new N,this.length=0,this.pipes=[],this.flowing=null,this[ne]=null,$&&$.emitClose===!1&&(this.state&=~F),$&&$.autoDestroy===!1&&(this.state&=~A),this.errored=null,this.defaultEncoding=$&&$.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,$&&$.encoding&&(this.decoder=new P($.encoding),this.encoding=$.encoding)}function ie($){if(!(this instanceof ie))return new ie($);const M=this instanceof Mn();this._readableState=new ce($,this,M),$&&(typeof $.read=="function"&&(this._read=$.read),typeof $.destroy=="function"&&(this._destroy=$.destroy),typeof $.construct=="function"&&(this._construct=$.construct),$.signal&&!M&&p($.signal,this)),T.call(this,$),z.construct(this,()=>{this._readableState.needReadable&&ct(this,this._readableState)})}ie.prototype.destroy=z.destroy,ie.prototype._undestroy=z.undestroy,ie.prototype._destroy=function($,M){M($)},ie.prototype[b.captureRejectionSymbol]=function($){this.destroy($)},ie.prototype[u]=function(){let $;return this.destroyed||($=this.readableEnded?null:new X,this.destroy($)),new l((M,we)=>m(this,_e=>_e&&_e!==$?we(_e):M(null)))},ie.prototype.push=function($,M){return Re(this,$,M,!1)},ie.prototype.unshift=function($,M){return Re(this,$,M,!0)};function Re($,M,we,_e){v("readableAddChunk",M);const Se=$._readableState;let xt;if(Se.state&V||(typeof M=="string"?(we=we||Se.defaultEncoding,Se.encoding!==we&&(_e&&Se.encoding?M=E.from(M,we).toString(Se.encoding):(M=E.from(M,we),we=""))):M instanceof E?we="":T._isUint8Array(M)?(M=T._uint8ArrayToBuffer(M),we=""):M!=null&&(xt=new R("chunk",["string","Buffer","Uint8Array"],M))),xt)O($,xt);else if(M===null)Se.state&=~ge,mt($,Se);else if(Se.state&V||M&&M.length>0)if(_e)if(Se.state&Z)O($,new j);else{if(Se.destroyed||Se.errored)return!1;Ge($,Se,M,!0)}else if(Se.ended)O($,new H);else{if(Se.destroyed||Se.errored)return!1;Se.state&=~ge,Se.decoder&&!we?(M=Se.decoder.write(M),Se.objectMode||M.length!==0?Ge($,Se,M,!1):ct($,Se)):Ge($,Se,M,!1)}else _e||(Se.state&=~ge,ct($,Se));return!Se.ended&&(Se.length<Se.highWaterMark||Se.length===0)}function Ge($,M,we,_e){M.flowing&&M.length===0&&!M.sync&&$.listenerCount("data")>0?(M.state&ae?M.awaitDrainWriters.clear():M.awaitDrainWriters=null,M.dataEmitted=!0,$.emit("data",we)):(M.length+=M.objectMode?1:we.length,_e?M.buffer.unshift(we):M.buffer.push(we),M.state&g&&yt($)),ct($,M)}ie.prototype.isPaused=function(){const $=this._readableState;return $[ne]===!0||$.flowing===!1},ie.prototype.setEncoding=function($){const M=new P($);this._readableState.decoder=M,this._readableState.encoding=this._readableState.decoder.encoding;const we=this._readableState.buffer;let _e="";for(const Se of we)_e+=M.write(Se);return we.clear(),_e!==""&&we.push(_e),this._readableState.length=_e.length,this};const De=1073741824;function gt($){if($>De)throw new W("size","<= 1GiB",$);return $--,$|=$>>>1,$|=$>>>2,$|=$>>>4,$|=$>>>8,$|=$>>>16,$++,$}function Ye($,M){return $<=0||M.length===0&&M.ended?0:M.state&V?1:n($)?M.flowing&&M.length?M.buffer.first().length:M.length:$<=M.length?$:M.ended?M.length:0}ie.prototype.read=function($){v("read",$),$===void 0?$=NaN:r($)||($=i($,10));const M=this._readableState,we=$;if($>M.highWaterMark&&(M.highWaterMark=gt($)),$!==0&&(M.state&=~f),$===0&&M.needReadable&&((M.highWaterMark!==0?M.length>=M.highWaterMark:M.length>0)||M.ended))return v("read: emitReadable",M.length,M.ended),M.length===0&&M.ended?wn(this):yt(this),null;if($=Ye($,M),$===0&&M.ended)return M.length===0&&wn(this),null;let _e=(M.state&g)!==0;if(v("need readable",_e),(M.length===0||M.length-$<M.highWaterMark)&&(_e=!0,v("length less than watermark",_e)),M.ended||M.reading||M.destroyed||M.errored||!M.constructed)_e=!1,v("reading, ended or constructing",_e);else if(_e){v("do read"),M.state|=ge|Ee,M.length===0&&(M.state|=g);try{this._read(M.highWaterMark)}catch(xt){O(this,xt)}M.state&=~Ee,M.reading||($=Ye(we,M))}let Se;return $>0?Se=yn($,M):Se=null,Se===null?(M.needReadable=M.length<=M.highWaterMark,$=0):(M.length-=$,M.multiAwaitDrain?M.awaitDrainWriters.clear():M.awaitDrainWriters=null),M.length===0&&(M.ended||(M.needReadable=!0),we!==$&&M.ended&&wn(this)),Se!==null&&!M.errorEmitted&&!M.closeEmitted&&(M.dataEmitted=!0,this.emit("data",Se)),Se};function mt($,M){if(v("onEofChunk"),!M.ended){if(M.decoder){const we=M.decoder.end();we&&we.length&&(M.buffer.push(we),M.length+=M.objectMode?1:we.length)}M.ended=!0,M.sync?yt($):(M.needReadable=!1,M.emittedReadable=!0,Ke($))}}function yt($){const M=$._readableState;v("emitReadable",M.needReadable,M.emittedReadable),M.needReadable=!1,M.emittedReadable||(v("emitReadable",M.flowing),M.emittedReadable=!0,t.nextTick(Ke,$))}function Ke($){const M=$._readableState;v("emitReadable_",M.destroyed,M.length,M.ended),!M.destroyed&&!M.errored&&(M.length||M.ended)&&($.emit("readable"),M.emittedReadable=!1),M.needReadable=!M.flowing&&!M.ended&&M.length<=M.highWaterMark,vt($)}function ct($,M){!M.readingMore&&M.constructed&&(M.readingMore=!0,t.nextTick(mn,$,M))}function mn($,M){for(;!M.reading&&!M.ended&&(M.length<M.highWaterMark||M.flowing&&M.length===0);){const we=M.length;if(v("maybeReadMore read 0"),$.read(0),we===M.length)break}M.readingMore=!1}ie.prototype._read=function($){throw new k("_read()")},ie.prototype.pipe=function($,M){const we=this,_e=this._readableState;_e.pipes.length===1&&(_e.multiAwaitDrain||(_e.multiAwaitDrain=!0,_e.awaitDrainWriters=new c(_e.awaitDrainWriters?[_e.awaitDrainWriters]:[]))),_e.pipes.push($),v("pipe count=%d opts=%j",_e.pipes.length,M);const xt=(!M||M.end!==!1)&&$!==t.stdout&&$!==t.stderr?Ra:ki;_e.endEmitted?t.nextTick(xt):we.once("end",xt),$.on("unpipe",nr);function nr(bn,$r){v("onunpipe"),bn===we&&$r&&$r.hasUnpiped===!1&&($r.hasUnpiped=!0,Of())}function Ra(){v("onend"),$.end()}let Pr,tn=!1;function Of(){v("cleanup"),$.removeListener("close",Ia),$.removeListener("finish",cr),Pr&&$.removeListener("drain",Pr),$.removeListener("error",Oa),$.removeListener("unpipe",nr),we.removeListener("end",Ra),we.removeListener("end",ki),we.removeListener("data",$l),tn=!0,Pr&&_e.awaitDrainWriters&&(!$._writableState||$._writableState.needDrain)&&Pr()}function Pl(){tn||(_e.pipes.length===1&&_e.pipes[0]===$?(v("false write response, pause",0),_e.awaitDrainWriters=$,_e.multiAwaitDrain=!1):_e.pipes.length>1&&_e.pipes.includes($)&&(v("false write response, pause",_e.awaitDrainWriters.size),_e.awaitDrainWriters.add($)),we.pause()),Pr||(Pr=Oe(we,$),$.on("drain",Pr))}we.on("data",$l);function $l(bn){v("ondata");const $r=$.write(bn);v("dest.write",$r),$r===!1&&Pl()}function Oa(bn){if(v("onerror",bn),ki(),$.removeListener("error",Oa),$.listenerCount("error")===0){const $r=$._writableState||$._readableState;$r&&!$r.errorEmitted?O($,bn):$.emit("error",bn)}}w($,"error",Oa);function Ia(){$.removeListener("finish",cr),ki()}$.once("close",Ia);function cr(){v("onfinish"),$.removeListener("close",Ia),ki()}$.once("finish",cr);function ki(){v("unpipe"),we.unpipe($)}return $.emit("pipe",we),$.writableNeedDrain===!0?Pl():_e.flowing||(v("pipe resume"),we.resume()),$};function Oe($,M){return function(){const _e=$._readableState;_e.awaitDrainWriters===M?(v("pipeOnDrain",1),_e.awaitDrainWriters=null):_e.multiAwaitDrain&&(v("pipeOnDrain",_e.awaitDrainWriters.size),_e.awaitDrainWriters.delete(M)),(!_e.awaitDrainWriters||_e.awaitDrainWriters.size===0)&&$.listenerCount("data")&&$.resume()}}ie.prototype.unpipe=function($){const M=this._readableState,we={hasUnpiped:!1};if(M.pipes.length===0)return this;if(!$){const Se=M.pipes;M.pipes=[],this.pause();for(let xt=0;xt<Se.length;xt++)Se[xt].emit("unpipe",this,{hasUnpiped:!1});return this}const _e=e(M.pipes,$);return _e===-1?this:(M.pipes.splice(_e,1),M.pipes.length===0&&this.pause(),$.emit("unpipe",this,we),this)},ie.prototype.on=function($,M){const we=T.prototype.on.call(this,$,M),_e=this._readableState;return $==="data"?(_e.readableListening=this.listenerCount("readable")>0,_e.flowing!==!1&&this.resume()):$==="readable"&&!_e.endEmitted&&!_e.readableListening&&(_e.readableListening=_e.needReadable=!0,_e.flowing=!1,_e.emittedReadable=!1,v("on readable",_e.length,_e.reading),_e.length?yt(this):_e.reading||t.nextTick(se,this)),we},ie.prototype.addListener=ie.prototype.on,ie.prototype.removeListener=function($,M){const we=T.prototype.removeListener.call(this,$,M);return $==="readable"&&t.nextTick(lr,this),we},ie.prototype.off=ie.prototype.removeListener,ie.prototype.removeAllListeners=function($){const M=T.prototype.removeAllListeners.apply(this,arguments);return($==="readable"||$===void 0)&&t.nextTick(lr,this),M};function lr($){const M=$._readableState;M.readableListening=$.listenerCount("readable")>0,M.resumeScheduled&&M[ne]===!1?M.flowing=!0:$.listenerCount("data")>0?$.resume():M.readableListening||(M.flowing=null)}function se($){v("readable nexttick read 0"),$.read(0)}ie.prototype.resume=function(){const $=this._readableState;return $.flowing||(v("resume"),$.flowing=!$.readableListening,de(this,$)),$[ne]=!1,this};function de($,M){M.resumeScheduled||(M.resumeScheduled=!0,t.nextTick(Ae,$,M))}function Ae($,M){v("resume",M.reading),M.reading||$.read(0),M.resumeScheduled=!1,$.emit("resume"),vt($),M.flowing&&!M.reading&&$.read(0)}ie.prototype.pause=function(){return v("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(v("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[ne]=!0,this};function vt($){const M=$._readableState;for(v("flow",M.flowing);M.flowing&&$.read()!==null;);}ie.prototype.wrap=function($){let M=!1;$.on("data",_e=>{!this.push(_e)&&$.pause&&(M=!0,$.pause())}),$.on("end",()=>{this.push(null)}),$.on("error",_e=>{O(this,_e)}),$.on("close",()=>{this.destroy()}),$.on("destroy",()=>{this.destroy()}),this._read=()=>{M&&$.resume&&(M=!1,$.resume())};const we=a($);for(let _e=1;_e<we.length;_e++){const Se=we[_e];this[Se]===void 0&&typeof $[Se]=="function"&&(this[Se]=$[Se].bind($))}return this},ie.prototype[h]=function(){return Xe(this)},ie.prototype.iterator=function($){return $!==void 0&&Y($,"options"),Xe(this,$)};function Xe($,M){typeof $.read!="function"&&($=ie.wrap($,{objectMode:!0}));const we=Ui($,M);return we.stream=$,we}async function*Ui($,M){let we=U;function _e(nr){this===$?(we(),we=U):we=nr}$.on("readable",_e);let Se;const xt=m($,{writable:!1},nr=>{Se=nr?G(Se,nr):null,we(),we=U});try{for(;;){const nr=$.destroyed?null:$.read();if(nr!==null)yield nr;else{if(Se)throw Se;if(Se===null)return;await new l(_e)}}}catch(nr){throw Se=G(Se,nr),Se}finally{(Se||(M==null?void 0:M.destroyOnReturn)!==!1)&&(Se===void 0||$._readableState.autoDestroy)?z.destroyer($,null):($.off("readable",_e),xt())}}s(ie.prototype,{readable:{__proto__:null,get(){const $=this._readableState;return!!$&&$.readable!==!1&&!$.destroyed&&!$.errorEmitted&&!$.endEmitted},set($){this._readableState&&(this._readableState.readable=!!$)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function($){this._readableState&&(this._readableState.flowing=$)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set($){this._readableState&&(this._readableState.destroyed=$)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),s(ce.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[ne]!==!1},set($){this[ne]=!!$}}}),ie._fromList=yn;function yn($,M){if(M.length===0)return null;let we;return M.objectMode?we=M.buffer.shift():!$||$>=M.length?(M.decoder?we=M.buffer.join(""):M.buffer.length===1?we=M.buffer.first():we=M.buffer.concat(M.length),M.buffer.clear()):we=M.buffer.consume($,M.decoder),we}function wn($){const M=$._readableState;v("endReadable",M.endEmitted),M.endEmitted||(M.ended=!0,t.nextTick(_n,M,$))}function _n($,M){if(v("endReadableNT",$.endEmitted,$.length),!$.errored&&!$.closeEmitted&&!$.endEmitted&&$.length===0){if($.endEmitted=!0,M.emit("end"),M.writable&&M.allowHalfOpen===!1)t.nextTick(Sr,M);else if($.autoDestroy){const we=M._writableState;(!we||we.autoDestroy&&(we.finished||we.writable===!1))&&M.destroy()}}}function Sr($){$.writable&&!$.writableEnded&&!$.destroyed&&$.end()}ie.from=function($,M){return x(ie,$,M)};let ur;function zn(){return ur===void 0&&(ur={}),ur}return ie.fromWeb=function($,M){return zn().newStreamReadableFromReadableStream($,M)},ie.toWeb=function($,M){return zn().newReadableStreamFromStreamReadable($,M)},ie.wrap=function($,M){var we,_e;return new ie({objectMode:(we=(_e=$.readableObjectMode)!==null&&_e!==void 0?_e:$.objectMode)!==null&&we!==void 0?we:!0,...M,destroy(Se,xt){z.destroyer($,Se),xt(Se)}}).wrap($)},Lh}var Fh,_y;function qp(){if(_y)return Fh;_y=1;const t=vs(),{ArrayPrototypeSlice:e,Error:r,FunctionPrototypeSymbolHasInstance:n,ObjectDefineProperty:i,ObjectDefineProperties:s,ObjectSetPrototypeOf:a,StringPrototypeToLowerCase:o,Symbol:l,SymbolHasInstance:c}=lt();Fh=Y,Y.WritableState=j;const{EventEmitter:u}=Cr,h=Gp().Stream,{Buffer:d}=Xr,b=ba(),{addAbortSignal:T}=rf(),{getHighWaterMark:w,getDefaultHighWaterMark:E}=nf(),{ERR_INVALID_ARG_TYPE:p,ERR_METHOD_NOT_IMPLEMENTED:m,ERR_MULTIPLE_CALLBACK:v,ERR_STREAM_CANNOT_PIPE:N,ERR_STREAM_DESTROYED:z,ERR_STREAM_ALREADY_FINISHED:ue,ERR_STREAM_NULL_VALUES:Q,ERR_STREAM_WRITE_AFTER_END:G,ERR_UNKNOWN_ENCODING:R}=rr().codes,{errorOrDestroy:k}=b;a(Y.prototype,h.prototype),a(Y,h);function W(){}const H=l("kOnFinished");function j(A,C,B){typeof B!="boolean"&&(B=C instanceof Mn()),this.objectMode=!!(A&&A.objectMode),B&&(this.objectMode=this.objectMode||!!(A&&A.writableObjectMode)),this.highWaterMark=A?w(this,A,"writableHighWaterMark",B):E(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const te=!!(A&&A.decodeStrings===!1);this.decodeStrings=!te,this.defaultEncoding=A&&A.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=O.bind(void 0,C),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,X(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!A||A.emitClose!==!1,this.autoDestroy=!A||A.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[H]=[]}function X(A){A.buffered=[],A.bufferedIndex=0,A.allBuffers=!0,A.allNoop=!0}j.prototype.getBuffer=function(){return e(this.buffered,this.bufferedIndex)},i(j.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function Y(A){const C=this instanceof Mn();if(!C&&!n(Y,this))return new Y(A);this._writableState=new j(A,this,C),A&&(typeof A.write=="function"&&(this._write=A.write),typeof A.writev=="function"&&(this._writev=A.writev),typeof A.destroy=="function"&&(this._destroy=A.destroy),typeof A.final=="function"&&(this._final=A.final),typeof A.construct=="function"&&(this._construct=A.construct),A.signal&&T(A.signal,this)),h.call(this,A),b.construct(this,()=>{const B=this._writableState;B.writing||ge(this,B),f(this,B)})}i(Y,c,{__proto__:null,value:function(A){return n(this,A)?!0:this!==Y?!1:A&&A._writableState instanceof j}}),Y.prototype.pipe=function(){k(this,new N)};function ne(A,C,B,te){const ae=A._writableState;if(typeof B=="function")te=B,B=ae.defaultEncoding;else{if(!B)B=ae.defaultEncoding;else if(B!=="buffer"&&!d.isEncoding(B))throw new R(B);typeof te!="function"&&(te=W)}if(C===null)throw new Q;if(!ae.objectMode)if(typeof C=="string")ae.decodeStrings!==!1&&(C=d.from(C,B),B="buffer");else if(C instanceof d)B="buffer";else if(h._isUint8Array(C))C=h._uint8ArrayToBuffer(C),B="buffer";else throw new p("chunk",["string","Buffer","Uint8Array"],C);let le;return ae.ending?le=new G:ae.destroyed&&(le=new z("write")),le?(t.nextTick(te,le),k(A,le,!0),le):(ae.pendingcb++,P(A,ae,C,B,te))}Y.prototype.write=function(A,C,B){return ne(this,A,C,B)===!0},Y.prototype.cork=function(){this._writableState.corked++},Y.prototype.uncork=function(){const A=this._writableState;A.corked&&(A.corked--,A.writing||ge(this,A))},Y.prototype.setDefaultEncoding=function(C){if(typeof C=="string"&&(C=o(C)),!d.isEncoding(C))throw new R(C);return this._writableState.defaultEncoding=C,this};function P(A,C,B,te,ae){const le=C.objectMode?1:B.length;C.length+=le;const q=C.length<C.highWaterMark;return q||(C.needDrain=!0),C.writing||C.corked||C.errored||!C.constructed?(C.buffered.push({chunk:B,encoding:te,callback:ae}),C.allBuffers&&te!=="buffer"&&(C.allBuffers=!1),C.allNoop&&ae!==W&&(C.allNoop=!1)):(C.writelen=le,C.writecb=ae,C.writing=!0,C.sync=!0,A._write(B,te,C.onwrite),C.sync=!1),q&&!C.errored&&!C.destroyed}function x(A,C,B,te,ae,le,q){C.writelen=te,C.writecb=q,C.writing=!0,C.sync=!0,C.destroyed?C.onwrite(new z("write")):B?A._writev(ae,C.onwrite):A._write(ae,le,C.onwrite),C.sync=!1}function U(A,C,B,te){--C.pendingcb,te(B),Z(C),k(A,B)}function O(A,C){const B=A._writableState,te=B.sync,ae=B.writecb;if(typeof ae!="function"){k(A,new v);return}B.writing=!1,B.writecb=null,B.length-=B.writelen,B.writelen=0,C?(C.stack,B.errored||(B.errored=C),A._readableState&&!A._readableState.errored&&(A._readableState.errored=C),te?t.nextTick(U,A,B,C,ae):U(A,B,C,ae)):(B.buffered.length>B.bufferedIndex&&ge(A,B),te?B.afterWriteTickInfo!==null&&B.afterWriteTickInfo.cb===ae?B.afterWriteTickInfo.count++:(B.afterWriteTickInfo={count:1,cb:ae,stream:A,state:B},t.nextTick(V,B.afterWriteTickInfo)):J(A,B,1,ae))}function V({stream:A,state:C,count:B,cb:te}){return C.afterWriteTickInfo=null,J(A,C,B,te)}function J(A,C,B,te){for(!C.ending&&!A.destroyed&&C.length===0&&C.needDrain&&(C.needDrain=!1,A.emit("drain"));B-- >0;)C.pendingcb--,te();C.destroyed&&Z(C),f(A,C)}function Z(A){if(A.writing)return;for(let ae=A.bufferedIndex;ae<A.buffered.length;++ae){var C;const{chunk:le,callback:q}=A.buffered[ae],re=A.objectMode?1:le.length;A.length-=re,q((C=A.errored)!==null&&C!==void 0?C:new z("write"))}const B=A[H].splice(0);for(let ae=0;ae<B.length;ae++){var te;B[ae]((te=A.errored)!==null&&te!==void 0?te:new z("end"))}X(A)}function ge(A,C){if(C.corked||C.bufferProcessing||C.destroyed||!C.constructed)return;const{buffered:B,bufferedIndex:te,objectMode:ae}=C,le=B.length-te;if(!le)return;let q=te;if(C.bufferProcessing=!0,le>1&&A._writev){C.pendingcb-=le-1;const re=C.allNoop?W:ie=>{for(let Re=q;Re<B.length;++Re)B[Re].callback(ie)},ce=C.allNoop&&q===0?B:e(B,q);ce.allBuffers=C.allBuffers,x(A,C,!0,C.length,ce,"",re),X(C)}else{do{const{chunk:re,encoding:ce,callback:ie}=B[q];B[q++]=null;const Re=ae?1:re.length;x(A,C,!1,Re,re,ce,ie)}while(q<B.length&&!C.writing);q===B.length?X(C):q>256?(B.splice(0,q),C.bufferedIndex=0):C.bufferedIndex=q}C.bufferProcessing=!1}Y.prototype._write=function(A,C,B){if(this._writev)this._writev([{chunk:A,encoding:C}],B);else throw new m("_write()")},Y.prototype._writev=null,Y.prototype.end=function(A,C,B){const te=this._writableState;typeof A=="function"?(B=A,A=null,C=null):typeof C=="function"&&(B=C,C=null);let ae;if(A!=null){const le=ne(this,A,C);le instanceof r&&(ae=le)}return te.corked&&(te.corked=1,this.uncork()),ae||(!te.errored&&!te.ending?(te.ending=!0,f(this,te,!0),te.ended=!0):te.finished?ae=new ue("end"):te.destroyed&&(ae=new z("end"))),typeof B=="function"&&(ae||te.finished?t.nextTick(B,ae):te[H].push(B)),this};function fe(A){return A.ending&&!A.destroyed&&A.constructed&&A.length===0&&!A.errored&&A.buffered.length===0&&!A.finished&&!A.writing&&!A.errorEmitted&&!A.closeEmitted}function Ee(A,C){let B=!1;function te(ae){if(B){k(A,ae??v());return}if(B=!0,C.pendingcb--,ae){const le=C[H].splice(0);for(let q=0;q<le.length;q++)le[q](ae);k(A,ae,C.sync)}else fe(C)&&(C.prefinished=!0,A.emit("prefinish"),C.pendingcb++,t.nextTick(I,A,C))}C.sync=!0,C.pendingcb++;try{A._final(te)}catch(ae){te(ae)}C.sync=!1}function g(A,C){!C.prefinished&&!C.finalCalled&&(typeof A._final=="function"&&!C.destroyed?(C.finalCalled=!0,Ee(A,C)):(C.prefinished=!0,A.emit("prefinish")))}function f(A,C,B){fe(C)&&(g(A,C),C.pendingcb===0&&(B?(C.pendingcb++,t.nextTick((te,ae)=>{fe(ae)?I(te,ae):ae.pendingcb--},A,C)):fe(C)&&(C.pendingcb++,I(A,C))))}function I(A,C){C.pendingcb--,C.finished=!0;const B=C[H].splice(0);for(let te=0;te<B.length;te++)B[te]();if(A.emit("finish"),C.autoDestroy){const te=A._readableState;(!te||te.autoDestroy&&(te.endEmitted||te.readable===!1))&&A.destroy()}}s(Y.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(A){this._writableState&&(this._writableState.destroyed=A)}},writable:{__proto__:null,get(){const A=this._writableState;return!!A&&A.writable!==!1&&!A.destroyed&&!A.errored&&!A.ending&&!A.ended},set(A){this._writableState&&(this._writableState.writable=!!A)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const A=this._writableState;return A?!A.destroyed&&!A.ending&&A.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const S=b.destroy;Y.prototype.destroy=function(A,C){const B=this._writableState;return!B.destroyed&&(B.bufferedIndex<B.buffered.length||B[H].length)&&t.nextTick(Z,B),S.call(this,A,C),this},Y.prototype._undestroy=b.undestroy,Y.prototype._destroy=function(A,C){C(A)},Y.prototype[u.captureRejectionSymbol]=function(A){this.destroy(A)};let D;function F(){return D===void 0&&(D={}),D}return Y.fromWeb=function(A,C){return F().newStreamWritableFromWritableStream(A,C)},Y.toWeb=function(A){return F().newWritableStreamFromStreamWritable(A)},Fh}var Mh,by;function tF(){if(by)return Mh;by=1;const t=vs(),e=Xr,{isReadable:r,isWritable:n,isIterable:i,isNodeStream:s,isReadableNodeStream:a,isWritableNodeStream:o,isDuplexNodeStream:l,isReadableStream:c,isWritableStream:u}=jn(),h=$i(),{AbortError:d,codes:{ERR_INVALID_ARG_TYPE:b,ERR_INVALID_RETURN_VALUE:T}}=rr(),{destroyer:w}=ba(),E=Mn(),p=sf(),m=qp(),{createDeferredPromise:v}=or(),N=Tv(),z=globalThis.Blob||e.Blob,ue=typeof z<"u"?function(j){return j instanceof z}:function(j){return!1},Q=globalThis.AbortController||bo.AbortController,{FunctionPrototypeCall:G}=lt();class R extends E{constructor(j){super(j),(j==null?void 0:j.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(j==null?void 0:j.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}Mh=function H(j,X){if(l(j))return j;if(a(j))return W({readable:j});if(o(j))return W({writable:j});if(s(j))return W({writable:!1,readable:!1});if(c(j))return W({readable:p.fromWeb(j)});if(u(j))return W({writable:m.fromWeb(j)});if(typeof j=="function"){const{value:ne,write:P,final:x,destroy:U}=k(j);if(i(ne))return N(R,ne,{objectMode:!0,write:P,final:x,destroy:U});const O=ne==null?void 0:ne.then;if(typeof O=="function"){let V;const J=G(O,ne,Z=>{if(Z!=null)throw new T("nully","body",Z)},Z=>{w(V,Z)});return V=new R({objectMode:!0,readable:!1,write:P,final(Z){x(async()=>{try{await J,t.nextTick(Z,null)}catch(ge){t.nextTick(Z,ge)}})},destroy:U})}throw new T("Iterable, AsyncIterable or AsyncFunction",X,ne)}if(ue(j))return H(j.arrayBuffer());if(i(j))return N(R,j,{objectMode:!0,writable:!1});if(c(j==null?void 0:j.readable)&&u(j==null?void 0:j.writable))return R.fromWeb(j);if(typeof(j==null?void 0:j.writable)=="object"||typeof(j==null?void 0:j.readable)=="object"){const ne=j!=null&&j.readable?a(j==null?void 0:j.readable)?j==null?void 0:j.readable:H(j.readable):void 0,P=j!=null&&j.writable?o(j==null?void 0:j.writable)?j==null?void 0:j.writable:H(j.writable):void 0;return W({readable:ne,writable:P})}const Y=j==null?void 0:j.then;if(typeof Y=="function"){let ne;return G(Y,j,P=>{P!=null&&ne.push(P),ne.push(null)},P=>{w(ne,P)}),ne=new R({objectMode:!0,writable:!1,read(){}})}throw new b(X,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],j)};function k(H){let{promise:j,resolve:X}=v();const Y=new Q,ne=Y.signal;return{value:H(async function*(){for(;;){const x=j;j=null;const{chunk:U,done:O,cb:V}=await x;if(t.nextTick(V),O)return;if(ne.aborted)throw new d(void 0,{cause:ne.reason});({promise:j,resolve:X}=v()),yield U}}(),{signal:ne}),write(x,U,O){const V=X;X=null,V({chunk:x,done:!1,cb:O})},final(x){const U=X;X=null,U({done:!0,cb:x})},destroy(x,U){Y.abort(),U(x)}}}function W(H){const j=H.readable&&typeof H.readable.read!="function"?p.wrap(H.readable):H.readable,X=H.writable;let Y=!!r(j),ne=!!n(X),P,x,U,O,V;function J(Z){const ge=O;O=null,ge?ge(Z):Z&&V.destroy(Z)}return V=new R({readableObjectMode:!!(j!=null&&j.readableObjectMode),writableObjectMode:!!(X!=null&&X.writableObjectMode),readable:Y,writable:ne}),ne&&(h(X,Z=>{ne=!1,Z&&w(j,Z),J(Z)}),V._write=function(Z,ge,fe){X.write(Z,ge)?fe():P=fe},V._final=function(Z){X.end(),x=Z},X.on("drain",function(){if(P){const Z=P;P=null,Z()}}),X.on("finish",function(){if(x){const Z=x;x=null,Z()}})),Y&&(h(j,Z=>{Y=!1,Z&&w(j,Z),J(Z)}),j.on("readable",function(){if(U){const Z=U;U=null,Z()}}),j.on("end",function(){V.push(null)}),V._read=function(){for(;;){const Z=j.read();if(Z===null){U=V._read;return}if(!V.push(Z))return}}),V._destroy=function(Z,ge){!Z&&O!==null&&(Z=new d),U=null,P=null,x=null,O===null?ge(Z):(O=ge,w(X,Z),w(j,Z))},V}return Mh}var Uh,vy;function Mn(){if(vy)return Uh;vy=1;const{ObjectDefineProperties:t,ObjectGetOwnPropertyDescriptor:e,ObjectKeys:r,ObjectSetPrototypeOf:n}=lt();Uh=a;const i=sf(),s=qp();n(a.prototype,i.prototype),n(a,i);{const u=r(s.prototype);for(let h=0;h<u.length;h++){const d=u[h];a.prototype[d]||(a.prototype[d]=s.prototype[d])}}function a(u){if(!(this instanceof a))return new a(u);i.call(this,u),s.call(this,u),u?(this.allowHalfOpen=u.allowHalfOpen!==!1,u.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),u.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}t(a.prototype,{writable:{__proto__:null,...e(s.prototype,"writable")},writableHighWaterMark:{__proto__:null,...e(s.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...e(s.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...e(s.prototype,"writableBuffer")},writableLength:{__proto__:null,...e(s.prototype,"writableLength")},writableFinished:{__proto__:null,...e(s.prototype,"writableFinished")},writableCorked:{__proto__:null,...e(s.prototype,"writableCorked")},writableEnded:{__proto__:null,...e(s.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...e(s.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(u){this._readableState&&this._writableState&&(this._readableState.destroyed=u,this._writableState.destroyed=u)}}});let o;function l(){return o===void 0&&(o={}),o}a.fromWeb=function(u,h){return l().newStreamDuplexFromReadableWritablePair(u,h)},a.toWeb=function(u){return l().newReadableWritablePairFromDuplex(u)};let c;return a.from=function(u){return c||(c=tF()),c(u,"body")},Uh}var kh,Ey;function Av(){if(Ey)return kh;Ey=1;const{ObjectSetPrototypeOf:t,Symbol:e}=lt();kh=a;const{ERR_METHOD_NOT_IMPLEMENTED:r}=rr().codes,n=Mn(),{getHighWaterMark:i}=nf();t(a.prototype,n.prototype),t(a,n);const s=e("kCallback");function a(c){if(!(this instanceof a))return new a(c);const u=c?i(this,c,"readableHighWaterMark",!0):null;u===0&&(c={...c,highWaterMark:null,readableHighWaterMark:u,writableHighWaterMark:c.writableHighWaterMark||0}),n.call(this,c),this._readableState.sync=!1,this[s]=null,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",l)}function o(c){typeof this._flush=="function"&&!this.destroyed?this._flush((u,h)=>{if(u){c?c(u):this.destroy(u);return}h!=null&&this.push(h),this.push(null),c&&c()}):(this.push(null),c&&c())}function l(){this._final!==o&&o.call(this)}return a.prototype._final=o,a.prototype._transform=function(c,u,h){throw new r("_transform()")},a.prototype._write=function(c,u,h){const d=this._readableState,b=this._writableState,T=d.length;this._transform(c,u,(w,E)=>{if(w){h(w);return}E!=null&&this.push(E),b.ended||T===d.length||d.length<d.highWaterMark?h():this[s]=h})},a.prototype._read=function(){if(this[s]){const c=this[s];this[s]=null,c()}},kh}var Bh,Sy;function xv(){if(Sy)return Bh;Sy=1;const{ObjectSetPrototypeOf:t}=lt();Bh=r;const e=Av();t(r.prototype,e.prototype),t(r,e);function r(n){if(!(this instanceof r))return new r(n);e.call(this,n)}return r.prototype._transform=function(n,i,s){s(null,n)},Bh}var jh,Ty;function zp(){if(Ty)return jh;Ty=1;const t=vs(),{ArrayIsArray:e,Promise:r,SymbolAsyncIterator:n,SymbolDispose:i}=lt(),s=$i(),{once:a}=or(),o=ba(),l=Mn(),{aggregateTwoErrors:c,codes:{ERR_INVALID_ARG_TYPE:u,ERR_INVALID_RETURN_VALUE:h,ERR_MISSING_ARGS:d,ERR_STREAM_DESTROYED:b,ERR_STREAM_PREMATURE_CLOSE:T},AbortError:w}=rr(),{validateFunction:E,validateAbortSignal:p}=wl(),{isIterable:m,isReadable:v,isReadableNodeStream:N,isNodeStream:z,isTransformStream:ue,isWebStream:Q,isReadableStream:G,isReadableFinished:R}=jn(),k=globalThis.AbortController||bo.AbortController;let W,H,j;function X(Z,ge,fe){let Ee=!1;Z.on("close",()=>{Ee=!0});const g=s(Z,{readable:ge,writable:fe},f=>{Ee=!f});return{destroy:f=>{Ee||(Ee=!0,o.destroyer(Z,f||new b("pipe")))},cleanup:g}}function Y(Z){return E(Z[Z.length-1],"streams[stream.length - 1]"),Z.pop()}function ne(Z){if(m(Z))return Z;if(N(Z))return P(Z);throw new u("val",["Readable","Iterable","AsyncIterable"],Z)}async function*P(Z){H||(H=sf()),yield*H.prototype[n].call(Z)}async function x(Z,ge,fe,{end:Ee}){let g,f=null;const I=F=>{if(F&&(g=F),f){const A=f;f=null,A()}},S=()=>new r((F,A)=>{g?A(g):f=()=>{g?A(g):F()}});ge.on("drain",I);const D=s(ge,{readable:!1},I);try{ge.writableNeedDrain&&await S();for await(const F of Z)ge.write(F)||await S();Ee&&(ge.end(),await S()),fe()}catch(F){fe(g!==F?c(g,F):F)}finally{D(),ge.off("drain",I)}}async function U(Z,ge,fe,{end:Ee}){ue(ge)&&(ge=ge.writable);const g=ge.getWriter();try{for await(const f of Z)await g.ready,g.write(f).catch(()=>{});await g.ready,Ee&&await g.close(),fe()}catch(f){try{await g.abort(f),fe(f)}catch(I){fe(I)}}}function O(...Z){return V(Z,a(Y(Z)))}function V(Z,ge,fe){if(Z.length===1&&e(Z[0])&&(Z=Z[0]),Z.length<2)throw new d("streams");const Ee=new k,g=Ee.signal,f=fe==null?void 0:fe.signal,I=[];p(f,"options.signal");function S(){ae(new w)}j=j||or().addAbortListener;let D;f&&(D=j(f,S));let F,A;const C=[];let B=0;function te(ce){ae(ce,--B===0)}function ae(ce,ie){var Re;if(ce&&(!F||F.code==="ERR_STREAM_PREMATURE_CLOSE")&&(F=ce),!(!F&&!ie)){for(;C.length;)C.shift()(F);(Re=D)===null||Re===void 0||Re[i](),Ee.abort(),ie&&(F||I.forEach(Ge=>Ge()),t.nextTick(ge,F,A))}}let le;for(let ce=0;ce<Z.length;ce++){const ie=Z[ce],Re=ce<Z.length-1,Ge=ce>0,De=Re||(fe==null?void 0:fe.end)!==!1,gt=ce===Z.length-1;if(z(ie)){let Ye=function(mt){mt&&mt.name!=="AbortError"&&mt.code!=="ERR_STREAM_PREMATURE_CLOSE"&&te(mt)};if(De){const{destroy:mt,cleanup:yt}=X(ie,Re,Ge);C.push(mt),v(ie)&&gt&&I.push(yt)}ie.on("error",Ye),v(ie)&&gt&&I.push(()=>{ie.removeListener("error",Ye)})}if(ce===0)if(typeof ie=="function"){if(le=ie({signal:g}),!m(le))throw new h("Iterable, AsyncIterable or Stream","source",le)}else m(ie)||N(ie)||ue(ie)?le=ie:le=l.from(ie);else if(typeof ie=="function"){if(ue(le)){var q;le=ne((q=le)===null||q===void 0?void 0:q.readable)}else le=ne(le);if(le=ie(le,{signal:g}),Re){if(!m(le,!0))throw new h("AsyncIterable",`transform[${ce-1}]`,le)}else{var re;W||(W=xv());const Ye=new W({objectMode:!0}),mt=(re=le)===null||re===void 0?void 0:re.then;if(typeof mt=="function")B++,mt.call(le,ct=>{A=ct,ct!=null&&Ye.write(ct),De&&Ye.end(),t.nextTick(te)},ct=>{Ye.destroy(ct),t.nextTick(te,ct)});else if(m(le,!0))B++,x(le,Ye,te,{end:De});else if(G(le)||ue(le)){const ct=le.readable||le;B++,x(ct,Ye,te,{end:De})}else throw new h("AsyncIterable or Promise","destination",le);le=Ye;const{destroy:yt,cleanup:Ke}=X(le,!1,!0);C.push(yt),gt&&I.push(Ke)}}else if(z(ie)){if(N(le)){B+=2;const Ye=J(le,ie,te,{end:De});v(ie)&&gt&&I.push(Ye)}else if(ue(le)||G(le)){const Ye=le.readable||le;B++,x(Ye,ie,te,{end:De})}else if(m(le))B++,x(le,ie,te,{end:De});else throw new u("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],le);le=ie}else if(Q(ie)){if(N(le))B++,U(ne(le),ie,te,{end:De});else if(G(le)||m(le))B++,U(le,ie,te,{end:De});else if(ue(le))B++,U(le.readable,ie,te,{end:De});else throw new u("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],le);le=ie}else le=l.from(ie)}return(g!=null&&g.aborted||f!=null&&f.aborted)&&t.nextTick(S),le}function J(Z,ge,fe,{end:Ee}){let g=!1;if(ge.on("close",()=>{g||fe(new T)}),Z.pipe(ge,{end:!1}),Ee){let f=function(){g=!0,ge.end()};R(Z)?t.nextTick(f):Z.once("end",f)}else fe();return s(Z,{readable:!0,writable:!1},f=>{const I=Z._readableState;f&&f.code==="ERR_STREAM_PREMATURE_CLOSE"&&I&&I.ended&&!I.errored&&!I.errorEmitted?Z.once("end",fe).once("error",fe):fe(f)}),s(ge,{readable:!1,writable:!0},fe)}return jh={pipelineImpl:V,pipeline:O},jh}var Wh,Ay;function Rv(){if(Ay)return Wh;Ay=1;const{pipeline:t}=zp(),e=Mn(),{destroyer:r}=ba(),{isNodeStream:n,isReadable:i,isWritable:s,isWebStream:a,isTransformStream:o,isWritableStream:l,isReadableStream:c}=jn(),{AbortError:u,codes:{ERR_INVALID_ARG_VALUE:h,ERR_MISSING_ARGS:d}}=rr(),b=$i();return Wh=function(...w){if(w.length===0)throw new d("streams");if(w.length===1)return e.from(w[0]);const E=[...w];if(typeof w[0]=="function"&&(w[0]=e.from(w[0])),typeof w[w.length-1]=="function"){const W=w.length-1;w[W]=e.from(w[W])}for(let W=0;W<w.length;++W)if(!(!n(w[W])&&!a(w[W]))){if(W<w.length-1&&!(i(w[W])||c(w[W])||o(w[W])))throw new h(`streams[${W}]`,E[W],"must be readable");if(W>0&&!(s(w[W])||l(w[W])||o(w[W])))throw new h(`streams[${W}]`,E[W],"must be writable")}let p,m,v,N,z;function ue(W){const H=N;N=null,H?H(W):W?z.destroy(W):!k&&!R&&z.destroy()}const Q=w[0],G=t(w,ue),R=!!(s(Q)||l(Q)||o(Q)),k=!!(i(G)||c(G)||o(G));if(z=new e({writableObjectMode:!!(Q!=null&&Q.writableObjectMode),readableObjectMode:!!(G!=null&&G.readableObjectMode),writable:R,readable:k}),R){if(n(Q))z._write=function(H,j,X){Q.write(H,j)?X():p=X},z._final=function(H){Q.end(),m=H},Q.on("drain",function(){if(p){const H=p;p=null,H()}});else if(a(Q)){const j=(o(Q)?Q.writable:Q).getWriter();z._write=async function(X,Y,ne){try{await j.ready,j.write(X).catch(()=>{}),ne()}catch(P){ne(P)}},z._final=async function(X){try{await j.ready,j.close().catch(()=>{}),m=X}catch(Y){X(Y)}}}const W=o(G)?G.readable:G;b(W,()=>{if(m){const H=m;m=null,H()}})}if(k){if(n(G))G.on("readable",function(){if(v){const W=v;v=null,W()}}),G.on("end",function(){z.push(null)}),z._read=function(){for(;;){const W=G.read();if(W===null){v=z._read;return}if(!z.push(W))return}};else if(a(G)){const H=(o(G)?G.readable:G).getReader();z._read=async function(){for(;;)try{const{value:j,done:X}=await H.read();if(!z.push(j))return;if(X){z.push(null);return}}catch{return}}}}return z._destroy=function(W,H){!W&&N!==null&&(W=new u),v=null,p=null,m=null,N===null?H(W):(N=H,n(G)&&r(G,W))},z},Wh}var xy;function rF(){if(xy)return au;xy=1;const t=globalThis.AbortController||bo.AbortController,{codes:{ERR_INVALID_ARG_VALUE:e,ERR_INVALID_ARG_TYPE:r,ERR_MISSING_ARGS:n,ERR_OUT_OF_RANGE:i},AbortError:s}=rr(),{validateAbortSignal:a,validateInteger:o,validateObject:l}=wl(),c=lt().Symbol("kWeak"),u=lt().Symbol("kResistStopPropagation"),{finished:h}=$i(),d=Rv(),{addAbortSignalNoValidate:b}=rf(),{isWritable:T,isNodeStream:w}=jn(),{deprecate:E}=or(),{ArrayPrototypePush:p,Boolean:m,MathFloor:v,Number:N,NumberIsNaN:z,Promise:ue,PromiseReject:Q,PromiseResolve:G,PromisePrototypeThen:R,Symbol:k}=lt(),W=k("kEmpty"),H=k("kEof");function j(f,I){if(I!=null&&l(I,"options"),(I==null?void 0:I.signal)!=null&&a(I.signal,"options.signal"),w(f)&&!T(f))throw new e("stream",f,"must be writable");const S=d(this,f);return I!=null&&I.signal&&b(I.signal,S),S}function X(f,I){if(typeof f!="function")throw new r("fn",["Function","AsyncFunction"],f);I!=null&&l(I,"options"),(I==null?void 0:I.signal)!=null&&a(I.signal,"options.signal");let S=1;(I==null?void 0:I.concurrency)!=null&&(S=v(I.concurrency));let D=S-1;return(I==null?void 0:I.highWaterMark)!=null&&(D=v(I.highWaterMark)),o(S,"options.concurrency",1),o(D,"options.highWaterMark",0),D+=S,(async function*(){const A=or().AbortSignalAny([I==null?void 0:I.signal].filter(m)),C=this,B=[],te={signal:A};let ae,le,q=!1,re=0;function ce(){q=!0,ie()}function ie(){re-=1,Re()}function Re(){le&&!q&&re<S&&B.length<D&&(le(),le=null)}async function Ge(){try{for await(let De of C){if(q)return;if(A.aborted)throw new s;try{if(De=f(De,te),De===W)continue;De=G(De)}catch(gt){De=Q(gt)}re+=1,R(De,ie,ce),B.push(De),ae&&(ae(),ae=null),!q&&(B.length>=D||re>=S)&&await new ue(gt=>{le=gt})}B.push(H)}catch(De){const gt=Q(De);R(gt,ie,ce),B.push(gt)}finally{q=!0,ae&&(ae(),ae=null)}}Ge();try{for(;;){for(;B.length>0;){const De=await B[0];if(De===H)return;if(A.aborted)throw new s;De!==W&&(yield De),B.shift(),Re()}await new ue(De=>{ae=De})}}finally{q=!0,le&&(le(),le=null)}}).call(this)}function Y(f=void 0){return f!=null&&l(f,"options"),(f==null?void 0:f.signal)!=null&&a(f.signal,"options.signal"),(async function*(){let S=0;for await(const F of this){var D;if(f!=null&&(D=f.signal)!==null&&D!==void 0&&D.aborted)throw new s({cause:f.signal.reason});yield[S++,F]}}).call(this)}async function ne(f,I=void 0){for await(const S of O.call(this,f,I))return!0;return!1}async function P(f,I=void 0){if(typeof f!="function")throw new r("fn",["Function","AsyncFunction"],f);return!await ne.call(this,async(...S)=>!await f(...S),I)}async function x(f,I){for await(const S of O.call(this,f,I))return S}async function U(f,I){if(typeof f!="function")throw new r("fn",["Function","AsyncFunction"],f);async function S(D,F){return await f(D,F),W}for await(const D of X.call(this,S,I));}function O(f,I){if(typeof f!="function")throw new r("fn",["Function","AsyncFunction"],f);async function S(D,F){return await f(D,F)?D:W}return X.call(this,S,I)}class V extends n{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function J(f,I,S){var D;if(typeof f!="function")throw new r("reducer",["Function","AsyncFunction"],f);S!=null&&l(S,"options"),(S==null?void 0:S.signal)!=null&&a(S.signal,"options.signal");let F=arguments.length>1;if(S!=null&&(D=S.signal)!==null&&D!==void 0&&D.aborted){const ae=new s(void 0,{cause:S.signal.reason});throw this.once("error",()=>{}),await h(this.destroy(ae)),ae}const A=new t,C=A.signal;if(S!=null&&S.signal){const ae={once:!0,[c]:this,[u]:!0};S.signal.addEventListener("abort",()=>A.abort(),ae)}let B=!1;try{for await(const ae of this){var te;if(B=!0,S!=null&&(te=S.signal)!==null&&te!==void 0&&te.aborted)throw new s;F?I=await f(I,ae,{signal:C}):(I=ae,F=!0)}if(!B&&!F)throw new V}finally{A.abort()}return I}async function Z(f){f!=null&&l(f,"options"),(f==null?void 0:f.signal)!=null&&a(f.signal,"options.signal");const I=[];for await(const D of this){var S;if(f!=null&&(S=f.signal)!==null&&S!==void 0&&S.aborted)throw new s(void 0,{cause:f.signal.reason});p(I,D)}return I}function ge(f,I){const S=X.call(this,f,I);return(async function*(){for await(const F of S)yield*F}).call(this)}function fe(f){if(f=N(f),z(f))return 0;if(f<0)throw new i("number",">= 0",f);return f}function Ee(f,I=void 0){return I!=null&&l(I,"options"),(I==null?void 0:I.signal)!=null&&a(I.signal,"options.signal"),f=fe(f),(async function*(){var D;if(I!=null&&(D=I.signal)!==null&&D!==void 0&&D.aborted)throw new s;for await(const A of this){var F;if(I!=null&&(F=I.signal)!==null&&F!==void 0&&F.aborted)throw new s;f--<=0&&(yield A)}}).call(this)}function g(f,I=void 0){return I!=null&&l(I,"options"),(I==null?void 0:I.signal)!=null&&a(I.signal,"options.signal"),f=fe(f),(async function*(){var D;if(I!=null&&(D=I.signal)!==null&&D!==void 0&&D.aborted)throw new s;for await(const A of this){var F;if(I!=null&&(F=I.signal)!==null&&F!==void 0&&F.aborted)throw new s;if(f-- >0&&(yield A),f<=0)return}}).call(this)}return au.streamReturningOperators={asIndexedPairs:E(Y,"readable.asIndexedPairs will be removed in a future version."),drop:Ee,filter:O,flatMap:ge,map:X,take:g,compose:j},au.promiseReturningOperators={every:P,forEach:U,reduce:J,toArray:Z,some:ne,find:x},au}var Gh,Ry;function Ov(){if(Ry)return Gh;Ry=1;const{ArrayPrototypePop:t,Promise:e}=lt(),{isIterable:r,isNodeStream:n,isWebStream:i}=jn(),{pipelineImpl:s}=zp(),{finished:a}=$i();Iv();function o(...l){return new e((c,u)=>{let h,d;const b=l[l.length-1];if(b&&typeof b=="object"&&!n(b)&&!r(b)&&!i(b)){const T=t(l);h=T.signal,d=T.end}s(l,(T,w)=>{T?u(T):c(w)},{signal:h,end:d})})}return Gh={finished:a,pipeline:o},Gh}var Oy;function Iv(){if(Oy)return bh.exports;Oy=1;const{Buffer:t}=Xr,{ObjectDefineProperty:e,ObjectKeys:r,ReflectApply:n}=lt(),{promisify:{custom:i}}=or(),{streamReturningOperators:s,promiseReturningOperators:a}=rF(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:o}}=rr(),l=Rv(),{setDefaultHighWaterMark:c,getDefaultHighWaterMark:u}=nf(),{pipeline:h}=zp(),{destroyer:d}=ba(),b=$i(),T=Ov(),w=jn(),E=bh.exports=Gp().Stream;E.isDestroyed=w.isDestroyed,E.isDisturbed=w.isDisturbed,E.isErrored=w.isErrored,E.isReadable=w.isReadable,E.isWritable=w.isWritable,E.Readable=sf();for(const m of r(s)){let N=function(...z){if(new.target)throw o();return E.Readable.from(n(v,this,z))};const v=s[m];e(N,"name",{__proto__:null,value:v.name}),e(N,"length",{__proto__:null,value:v.length}),e(E.Readable.prototype,m,{__proto__:null,value:N,enumerable:!1,configurable:!0,writable:!0})}for(const m of r(a)){let N=function(...z){if(new.target)throw o();return n(v,this,z)};const v=a[m];e(N,"name",{__proto__:null,value:v.name}),e(N,"length",{__proto__:null,value:v.length}),e(E.Readable.prototype,m,{__proto__:null,value:N,enumerable:!1,configurable:!0,writable:!0})}E.Writable=qp(),E.Duplex=Mn(),E.Transform=Av(),E.PassThrough=xv(),E.pipeline=h;const{addAbortSignal:p}=rf();return E.addAbortSignal=p,E.finished=b,E.destroy=d,E.compose=l,E.setDefaultHighWaterMark=c,E.getDefaultHighWaterMark=u,e(E,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return T}}),e(h,i,{__proto__:null,enumerable:!0,get(){return T.pipeline}}),e(b,i,{__proto__:null,enumerable:!0,get(){return T.finished}}),E.Stream=E,E._isUint8Array=function(v){return v instanceof Uint8Array},E._uint8ArrayToBuffer=function(v){return t.from(v.buffer,v.byteOffset,v.byteLength)},bh.exports}Wp.exports;(function(t){const e=jt;if(e&&process.env.READABLE_STREAM==="disable"){const r=e.promises;t.exports._uint8ArrayToBuffer=e._uint8ArrayToBuffer,t.exports._isUint8Array=e._isUint8Array,t.exports.isDisturbed=e.isDisturbed,t.exports.isErrored=e.isErrored,t.exports.isReadable=e.isReadable,t.exports.Readable=e.Readable,t.exports.Writable=e.Writable,t.exports.Duplex=e.Duplex,t.exports.Transform=e.Transform,t.exports.PassThrough=e.PassThrough,t.exports.addAbortSignal=e.addAbortSignal,t.exports.finished=e.finished,t.exports.destroy=e.destroy,t.exports.pipeline=e.pipeline,t.exports.compose=e.compose,Object.defineProperty(e,"promises",{configurable:!0,enumerable:!0,get(){return r}}),t.exports.Stream=e.Stream}else{const r=Iv(),n=Ov(),i=r.Readable.destroy;t.exports=r.Readable,t.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,t.exports._isUint8Array=r._isUint8Array,t.exports.isDisturbed=r.isDisturbed,t.exports.isErrored=r.isErrored,t.exports.isReadable=r.isReadable,t.exports.Readable=r.Readable,t.exports.Writable=r.Writable,t.exports.Duplex=r.Duplex,t.exports.Transform=r.Transform,t.exports.PassThrough=r.PassThrough,t.exports.addAbortSignal=r.addAbortSignal,t.exports.finished=r.finished,t.exports.destroy=r.destroy,t.exports.destroy=i,t.exports.pipeline=r.pipeline,t.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get(){return n}}),t.exports.Stream=r.Stream}t.exports.default=t.exports})(Wp);var va=Wp.exports,Cv={exports:{}};function nF(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var iF=nF,Iy=Up,sF=dv,aF=pv,Cy=Iy?Iy.isConcatSpreadable:void 0;function oF(t){return aF(t)||sF(t)||!!(Cy&&t&&t[Cy])}var lF=oF,uF=iF,cF=lF;function Dv(t,e,r,n,i){var s=-1,a=t.length;for(r||(r=cF),i||(i=[]);++s<a;){var o=t[s];e>0&&r(o)?e>1?Dv(o,e-1,r,n,i):uF(i,o):n||(i[i.length]=o)}return i}var Hp=Dv,fF=Hp;function hF(t){var e=t==null?0:t.length;return e?fF(t,1):[]}var dF=hF,pF=tf,gF=pF(Object,"create"),af=gF,Dy=af;function mF(){this.__data__=Dy?Dy(null):{},this.size=0}var yF=mF;function wF(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var _F=wF,bF=af,vF="__lodash_hash_undefined__",EF=Object.prototype,SF=EF.hasOwnProperty;function TF(t){var e=this.__data__;if(bF){var r=e[t];return r===vF?void 0:r}return SF.call(e,t)?e[t]:void 0}var AF=TF,xF=af,RF=Object.prototype,OF=RF.hasOwnProperty;function IF(t){var e=this.__data__;return xF?e[t]!==void 0:OF.call(e,t)}var CF=IF,DF=af,PF="__lodash_hash_undefined__";function $F(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=DF&&e===void 0?PF:e,this}var NF=$F,LF=yF,FF=_F,MF=AF,UF=CF,kF=NF;function Ea(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ea.prototype.clear=LF;Ea.prototype.delete=FF;Ea.prototype.get=MF;Ea.prototype.has=UF;Ea.prototype.set=kF;var BF=Ea;function jF(){this.__data__=[],this.size=0}var WF=jF,GF=Bp;function qF(t,e){for(var r=t.length;r--;)if(GF(t[r][0],e))return r;return-1}var of=qF,zF=of,HF=Array.prototype,VF=HF.splice;function YF(t){var e=this.__data__,r=zF(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():VF.call(e,r,1),--this.size,!0}var KF=YF,XF=of;function ZF(t){var e=this.__data__,r=XF(e,t);return r<0?void 0:e[r][1]}var QF=ZF,JF=of;function eM(t){return JF(this.__data__,t)>-1}var tM=eM,rM=of;function nM(t,e){var r=this.__data__,n=rM(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var iM=nM,sM=WF,aM=KF,oM=QF,lM=tM,uM=iM;function Sa(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Sa.prototype.clear=sM;Sa.prototype.delete=aM;Sa.prototype.get=oM;Sa.prototype.has=lM;Sa.prototype.set=uM;var cM=Sa,fM=tf,hM=gl,dM=fM(hM,"Map"),pM=dM,Py=BF,gM=cM,mM=pM;function yM(){this.size=0,this.__data__={hash:new Py,map:new(mM||gM),string:new Py}}var wM=yM;function _M(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var bM=_M,vM=bM;function EM(t,e){var r=t.__data__;return vM(e)?r[typeof e=="string"?"string":"hash"]:r.map}var lf=EM,SM=lf;function TM(t){var e=SM(this,t).delete(t);return this.size-=e?1:0,e}var AM=TM,xM=lf;function RM(t){return xM(this,t).get(t)}var OM=RM,IM=lf;function CM(t){return IM(this,t).has(t)}var DM=CM,PM=lf;function $M(t,e){var r=PM(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var NM=$M,LM=wM,FM=AM,MM=OM,UM=DM,kM=NM;function Ta(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ta.prototype.clear=LM;Ta.prototype.delete=FM;Ta.prototype.get=MM;Ta.prototype.has=UM;Ta.prototype.set=kM;var BM=Ta,jM="__lodash_hash_undefined__";function WM(t){return this.__data__.set(t,jM),this}var GM=WM;function qM(t){return this.__data__.has(t)}var zM=qM,HM=BM,VM=GM,YM=zM;function _c(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new HM;++e<r;)this.add(t[e])}_c.prototype.add=_c.prototype.push=VM;_c.prototype.has=YM;var Pv=_c;function KM(t,e,r,n){for(var i=t.length,s=r+(n?1:-1);n?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var XM=KM;function ZM(t){return t!==t}var QM=ZM;function JM(t,e,r){for(var n=r-1,i=t.length;++n<i;)if(t[n]===e)return n;return-1}var eU=JM,tU=XM,rU=QM,nU=eU;function iU(t,e,r){return e===e?nU(t,e,r):tU(t,rU,r)}var sU=iU,aU=sU;function oU(t,e){var r=t==null?0:t.length;return!!r&&aU(t,e,0)>-1}var $v=oU;function lU(t,e,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(e,t[n]))return!0;return!1}var Nv=lU;function uU(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var cU=uU;function fU(t,e){return t.has(e)}var Lv=fU,hU=Pv,dU=$v,pU=Nv,gU=cU,mU=gv,yU=Lv,wU=200;function _U(t,e,r,n){var i=-1,s=dU,a=!0,o=t.length,l=[],c=e.length;if(!o)return l;r&&(e=gU(e,mU(r))),n?(s=pU,a=!1):e.length>=wU&&(s=yU,a=!1,e=new hU(e));e:for(;++i<o;){var u=t[i],h=r==null?u:r(u);if(u=n||u!==0?u:0,a&&h===h){for(var d=c;d--;)if(e[d]===h)continue e;l.push(u)}else s(e,h,n)||l.push(u)}return l}var bU=_U,vU=jp,EU=ml;function SU(t){return EU(t)&&vU(t)}var Fv=SU,TU=bU,AU=Hp,xU=kp,$y=Fv,RU=xU(function(t,e){return $y(t)?TU(t,AU(e,1,$y,!0)):[]}),OU=RU,IU=tf,CU=gl,DU=IU(CU,"Set"),PU=DU;function $U(){}var NU=$U;function LU(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var Mv=LU,qh=PU,FU=NU,MU=Mv,UU=1/0,kU=qh&&1/MU(new qh([,-0]))[1]==UU?function(t){return new qh(t)}:FU,BU=kU,jU=Pv,WU=$v,GU=Nv,qU=Lv,zU=BU,HU=Mv,VU=200;function YU(t,e,r){var n=-1,i=WU,s=t.length,a=!0,o=[],l=o;if(r)a=!1,i=GU;else if(s>=VU){var c=e?null:zU(t);if(c)return HU(c);a=!1,i=qU,l=new jU}else l=e?[]:o;e:for(;++n<s;){var u=t[n],h=e?e(u):u;if(u=r||u!==0?u:0,a&&h===h){for(var d=l.length;d--;)if(l[d]===h)continue e;e&&l.push(h),o.push(u)}else i(l,h,r)||(l!==o&&l.push(h),o.push(u))}return o}var KU=YU,XU=Hp,ZU=kp,QU=KU,JU=Fv,e3=ZU(function(t){return QU(XU(t,1,JU,!0))}),t3=e3;function r3(t,e){return function(r){return t(e(r))}}var n3=r3,i3=n3,s3=i3(Object.getPrototypeOf,Object),a3=s3,o3=Jc,l3=a3,u3=ml,c3="[object Object]",f3=Function.prototype,h3=Object.prototype,Uv=f3.toString,d3=h3.hasOwnProperty,p3=Uv.call(Object);function g3(t){if(!u3(t)||o3(t)!=c3)return!1;var e=l3(t);if(e===null)return!0;var r=d3.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&Uv.call(r)==p3}var m3=g3,kv={},xi={},uf={};Object.defineProperty(uf,"__esModule",{value:!0});uf.assertValidPattern=void 0;const y3=1024*64,w3=t=>{if(typeof t!="string")throw new TypeError("invalid pattern");if(t.length>y3)throw new TypeError("pattern is too long")};uf.assertValidPattern=w3;var vo={},cf={};Object.defineProperty(cf,"__esModule",{value:!0});cf.parseClass=void 0;const _3={"[:alnum:]":["\\p{L}\\p{Nl}\\p{Nd}",!0],"[:alpha:]":["\\p{L}\\p{Nl}",!0],"[:ascii:]":["\\x00-\\x7f",!1],"[:blank:]":["\\p{Zs}\\t",!0],"[:cntrl:]":["\\p{Cc}",!0],"[:digit:]":["\\p{Nd}",!0],"[:graph:]":["\\p{Z}\\p{C}",!0,!0],"[:lower:]":["\\p{Ll}",!0],"[:print:]":["\\p{C}",!0],"[:punct:]":["\\p{P}",!0],"[:space:]":["\\p{Z}\\t\\r\\n\\v\\f",!0],"[:upper:]":["\\p{Lu}",!0],"[:word:]":["\\p{L}\\p{Nl}\\p{Nd}\\p{Pc}",!0],"[:xdigit:]":["A-Fa-f0-9",!1]},Ua=t=>t.replace(/[[\]\\-]/g,"\\$&"),b3=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Ny=t=>t.join(""),v3=(t,e)=>{const r=e;if(t.charAt(r)!=="[")throw new Error("not in a brace expression");const n=[],i=[];let s=r+1,a=!1,o=!1,l=!1,c=!1,u=r,h="";e:for(;s<t.length;){const w=t.charAt(s);if((w==="!"||w==="^")&&s===r+1){c=!0,s++;continue}if(w==="]"&&a&&!l){u=s+1;break}if(a=!0,w==="\\"&&!l){l=!0,s++;continue}if(w==="["&&!l){for(const[E,[p,m,v]]of Object.entries(_3))if(t.startsWith(E,s)){if(h)return["$.",!1,t.length-r,!0];s+=E.length,v?i.push(p):n.push(p),o=o||m;continue e}}if(l=!1,h){w>h?n.push(Ua(h)+"-"+Ua(w)):w===h&&n.push(Ua(w)),h="",s++;continue}if(t.startsWith("-]",s+1)){n.push(Ua(w+"-")),s+=2;continue}if(t.startsWith("-",s+1)){h=w,s+=2;continue}n.push(Ua(w)),s++}if(u<s)return["",!1,0,!1];if(!n.length&&!i.length)return["$.",!1,t.length-r,!0];if(i.length===0&&n.length===1&&/^\\?.$/.test(n[0])&&!c){const w=n[0].length===2?n[0].slice(-1):n[0];return[b3(w),!1,u-r,!1]}const d="["+(c?"^":"")+Ny(n)+"]",b="["+(c?"":"^")+Ny(i)+"]";return[n.length&&i.length?"("+d+"|"+b+")":n.length?d:b,o,u-r,!0]};cf.parseClass=v3;var ha={};Object.defineProperty(ha,"__esModule",{value:!0});ha.unescape=void 0;const E3=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/\[([^\/\\])\]/g,"$1"):t.replace(/((?!\\).|^)\[([^\/\\])\]/g,"$1$2").replace(/\\([^\/])/g,"$1");ha.unescape=E3;Object.defineProperty(vo,"__esModule",{value:!0});vo.AST=void 0;const S3=cf,uu=ha,T3=new Set(["!","?","+","*","@"]),Ly=t=>T3.has(t),A3="(?!(?:^|/)\\.\\.?(?:$|/))",cu="(?!\\.)",x3=new Set(["[","."]),R3=new Set(["..","."]),O3=new Set("().*{}+?[]^$\\!"),I3=t=>t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),Vp="[^/]",Fy=Vp+"*?",My=Vp+"+?";var Et,It,Rn,rt,wt,ai,Ji,oi,an,es,Co,_s,Bv,bi,Ou,Od,jv;const Vt=class Vt{constructor(e,r,n={}){me(this,_s);oe(this,"type");me(this,Et);me(this,It);me(this,Rn,!1);me(this,rt,[]);me(this,wt);me(this,ai);me(this,Ji);me(this,oi,!1);me(this,an);me(this,es);me(this,Co,!1);this.type=e,e&&ee(this,It,!0),ee(this,wt,r),ee(this,Et,y(this,wt)?y(y(this,wt),Et):this),ee(this,an,y(this,Et)===this?n:y(y(this,Et),an)),ee(this,Ji,y(this,Et)===this?[]:y(y(this,Et),Ji)),e==="!"&&!y(y(this,Et),oi)&&y(this,Ji).push(this),ee(this,ai,y(this,wt)?y(y(this,wt),rt).length:0)}get hasMagic(){if(y(this,It)!==void 0)return y(this,It);for(const e of y(this,rt))if(typeof e!="string"&&(e.type||e.hasMagic))return ee(this,It,!0);return y(this,It)}toString(){return y(this,es)!==void 0?y(this,es):this.type?ee(this,es,this.type+"("+y(this,rt).map(e=>String(e)).join("|")+")"):ee(this,es,y(this,rt).map(e=>String(e)).join(""))}push(...e){for(const r of e)if(r!==""){if(typeof r!="string"&&!(r instanceof Vt&&y(r,wt)===this))throw new Error("invalid part: "+r);y(this,rt).push(r)}}toJSON(){var r;const e=this.type===null?y(this,rt).slice().map(n=>typeof n=="string"?n:n.toJSON()):[this.type,...y(this,rt).map(n=>n.toJSON())];return this.isStart()&&!this.type&&e.unshift([]),this.isEnd()&&(this===y(this,Et)||y(y(this,Et),oi)&&((r=y(this,wt))==null?void 0:r.type)==="!")&&e.push({}),e}isStart(){var r;if(y(this,Et)===this)return!0;if(!((r=y(this,wt))!=null&&r.isStart()))return!1;if(y(this,ai)===0)return!0;const e=y(this,wt);for(let n=0;n<y(this,ai);n++){const i=y(e,rt)[n];if(!(i instanceof Vt&&i.type==="!"))return!1}return!0}isEnd(){var r,n,i;if(y(this,Et)===this||((r=y(this,wt))==null?void 0:r.type)==="!")return!0;if(!((n=y(this,wt))!=null&&n.isEnd()))return!1;if(!this.type)return(i=y(this,wt))==null?void 0:i.isEnd();const e=y(this,wt)?y(y(this,wt),rt).length:0;return y(this,ai)===e-1}copyIn(e){typeof e=="string"?this.push(e):this.push(e.clone(this))}clone(e){const r=new Vt(this.type,e);for(const n of y(this,rt))r.copyIn(n);return r}static fromGlob(e,r={}){var i;const n=new Vt(null,void 0,r);return he(i=Vt,bi,Ou).call(i,e,n,0,r),n}toMMPattern(){if(this!==y(this,Et))return y(this,Et).toMMPattern();const e=this.toString(),[r,n,i,s]=this.toRegExpSource();if(!(i||y(this,It)||y(this,an).nocase&&!y(this,an).nocaseMagicOnly&&e.toUpperCase()!==e.toLowerCase()))return n;const o=(y(this,an).nocase?"i":"")+(s?"u":"");return Object.assign(new RegExp(`^${r}$`,o),{_src:r,_glob:e})}get options(){return y(this,an)}toRegExpSource(e){var l;const r=e??!!y(this,an).dot;if(y(this,Et)===this&&he(this,_s,Bv).call(this),!this.type){const c=this.isStart()&&this.isEnd(),u=y(this,rt).map(T=>{var v;const[w,E,p,m]=typeof T=="string"?he(v=Vt,bi,jv).call(v,T,y(this,It),c):T.toRegExpSource(e);return ee(this,It,y(this,It)||p),ee(this,Rn,y(this,Rn)||m),w}).join("");let h="";if(this.isStart()&&typeof y(this,rt)[0]=="string"&&!(y(this,rt).length===1&&R3.has(y(this,rt)[0]))){const w=x3,E=r&&w.has(u.charAt(0))||u.startsWith("\\.")&&w.has(u.charAt(2))||u.startsWith("\\.\\.")&&w.has(u.charAt(4)),p=!r&&!e&&w.has(u.charAt(0));h=E?A3:p?cu:""}let d="";return this.isEnd()&&y(y(this,Et),oi)&&((l=y(this,wt))==null?void 0:l.type)==="!"&&(d="(?:$|\\/)"),[h+u+d,(0,uu.unescape)(u),ee(this,It,!!y(this,It)),y(this,Rn)]}const n=this.type==="*"||this.type==="+",i=this.type==="!"?"(?:(?!(?:":"(?:";let s=he(this,_s,Od).call(this,r);if(this.isStart()&&this.isEnd()&&!s&&this.type!=="!"){const c=this.toString();return ee(this,rt,[c]),this.type=null,ee(this,It,void 0),[c,(0,uu.unescape)(this.toString()),!1,!1]}let a=!n||e||r||!cu?"":he(this,_s,Od).call(this,!0);a===s&&(a=""),a&&(s=`(?:${s})(?:${a})*?`);let o="";if(this.type==="!"&&y(this,Co))o=(this.isStart()&&!r?cu:"")+My;else{const c=this.type==="!"?"))"+(this.isStart()&&!r&&!e?cu:"")+Fy+")":this.type==="@"?")":this.type==="?"?")?":this.type==="+"&&a?")":this.type==="*"&&a?")?":`)${this.type}`;o=i+s+c}return[o,(0,uu.unescape)(s),ee(this,It,!!y(this,It)),y(this,Rn)]}};Et=new WeakMap,It=new WeakMap,Rn=new WeakMap,rt=new WeakMap,wt=new WeakMap,ai=new WeakMap,Ji=new WeakMap,oi=new WeakMap,an=new WeakMap,es=new WeakMap,Co=new WeakMap,_s=new WeakSet,Bv=function(){if(this!==y(this,Et))throw new Error("should only call on root");if(y(this,oi))return this;this.toString(),ee(this,oi,!0);let e;for(;e=y(this,Ji).pop();){if(e.type!=="!")continue;let r=e,n=y(r,wt);for(;n;){for(let i=y(r,ai)+1;!n.type&&i<y(n,rt).length;i++)for(const s of y(e,rt)){if(typeof s=="string")throw new Error("string part in extglob AST??");s.copyIn(y(n,rt)[i])}r=n,n=y(r,wt)}}return this},bi=new WeakSet,Ou=function(e,r,n,i){var b,T;let s=!1,a=!1,o=-1,l=!1;if(r.type===null){let w=n,E="";for(;w<e.length;){const p=e.charAt(w++);if(s||p==="\\"){s=!s,E+=p;continue}if(a){w===o+1?(p==="^"||p==="!")&&(l=!0):p==="]"&&!(w===o+2&&l)&&(a=!1),E+=p;continue}else if(p==="["){a=!0,o=w,l=!1,E+=p;continue}if(!i.noext&&Ly(p)&&e.charAt(w)==="("){r.push(E),E="";const m=new Vt(p,r);w=he(b=Vt,bi,Ou).call(b,e,m,w,i),r.push(m);continue}E+=p}return r.push(E),w}let c=n+1,u=new Vt(null,r);const h=[];let d="";for(;c<e.length;){const w=e.charAt(c++);if(s||w==="\\"){s=!s,d+=w;continue}if(a){c===o+1?(w==="^"||w==="!")&&(l=!0):w==="]"&&!(c===o+2&&l)&&(a=!1),d+=w;continue}else if(w==="["){a=!0,o=c,l=!1,d+=w;continue}if(Ly(w)&&e.charAt(c)==="("){u.push(d),d="";const E=new Vt(w,u);u.push(E),c=he(T=Vt,bi,Ou).call(T,e,E,c,i);continue}if(w==="|"){u.push(d),d="",h.push(u),u=new Vt(null,r);continue}if(w===")")return d===""&&y(r,rt).length===0&&ee(r,Co,!0),u.push(d),d="",r.push(...h,u),c;d+=w}return r.type=null,ee(r,It,void 0),ee(r,rt,[e.substring(n-1)]),c},Od=function(e){return y(this,rt).map(r=>{if(typeof r=="string")throw new Error("string type in extglob ast??");const[n,i,s,a]=r.toRegExpSource(e);return ee(this,Rn,y(this,Rn)||a),n}).filter(r=>!(this.isStart()&&this.isEnd())||!!r).join("|")},jv=function(e,r,n=!1){let i=!1,s="",a=!1;for(let o=0;o<e.length;o++){const l=e.charAt(o);if(i){i=!1,s+=(O3.has(l)?"\\":"")+l;continue}if(l==="\\"){o===e.length-1?s+="\\\\":i=!0;continue}if(l==="["){const[c,u,h,d]=(0,S3.parseClass)(e,o);if(h){s+=c,a=a||u,o+=h-1,r=r||d;continue}}if(l==="*"){n&&e==="*"?s+=My:s+=Fy,r=!0;continue}if(l==="?"){s+=Vp,r=!0;continue}s+=I3(l)}return[s,(0,uu.unescape)(e),!!r,a]},me(Vt,bi);let Rd=Vt;vo.AST=Rd;var Eo={};Object.defineProperty(Eo,"__esModule",{value:!0});Eo.escape=void 0;const C3=(t,{windowsPathsNoEscape:e=!1}={})=>e?t.replace(/[?*()[\]]/g,"[$&]"):t.replace(/[?*()[\]\\]/g,"\\$&");Eo.escape=C3;(function(t){var e=Be&&Be.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(t,"__esModule",{value:!0}),t.unescape=t.escape=t.AST=t.Minimatch=t.match=t.makeRe=t.braceExpand=t.defaults=t.filter=t.GLOBSTAR=t.sep=t.minimatch=void 0;const r=e(z_),n=uf,i=vo,s=Eo,a=ha,o=(S,D,F={})=>((0,n.assertValidPattern)(D),!F.nocomment&&D.charAt(0)==="#"?!1:new Ee(D,F).match(S));t.minimatch=o;const l=/^\*+([^+@!?\*\[\(]*)$/,c=S=>D=>!D.startsWith(".")&&D.endsWith(S),u=S=>D=>D.endsWith(S),h=S=>(S=S.toLowerCase(),D=>!D.startsWith(".")&&D.toLowerCase().endsWith(S)),d=S=>(S=S.toLowerCase(),D=>D.toLowerCase().endsWith(S)),b=/^\*+\.\*+$/,T=S=>!S.startsWith(".")&&S.includes("."),w=S=>S!=="."&&S!==".."&&S.includes("."),E=/^\.\*+$/,p=S=>S!=="."&&S!==".."&&S.startsWith("."),m=/^\*+$/,v=S=>S.length!==0&&!S.startsWith("."),N=S=>S.length!==0&&S!=="."&&S!=="..",z=/^\?+([^+@!?\*\[\(]*)?$/,ue=([S,D=""])=>{const F=k([S]);return D?(D=D.toLowerCase(),A=>F(A)&&A.toLowerCase().endsWith(D)):F},Q=([S,D=""])=>{const F=W([S]);return D?(D=D.toLowerCase(),A=>F(A)&&A.toLowerCase().endsWith(D)):F},G=([S,D=""])=>{const F=W([S]);return D?A=>F(A)&&A.endsWith(D):F},R=([S,D=""])=>{const F=k([S]);return D?A=>F(A)&&A.endsWith(D):F},k=([S])=>{const D=S.length;return F=>F.length===D&&!F.startsWith(".")},W=([S])=>{const D=S.length;return F=>F.length===D&&F!=="."&&F!==".."},H=typeof process=="object"&&process?typeof process.env=="object"&&process.env&&process.env.__MINIMATCH_TESTING_PLATFORM__||process.platform:"posix",j={win32:{sep:"\\"},posix:{sep:"/"}};t.sep=H==="win32"?j.win32.sep:j.posix.sep,t.minimatch.sep=t.sep,t.GLOBSTAR=Symbol("globstar **"),t.minimatch.GLOBSTAR=t.GLOBSTAR;const Y="[^/]"+"*?",ne="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",P="(?:(?!(?:\\/|^)\\.).)*?",x=(S,D={})=>F=>(0,t.minimatch)(F,S,D);t.filter=x,t.minimatch.filter=t.filter;const U=(S,D={})=>Object.assign({},S,D),O=S=>{if(!S||typeof S!="object"||!Object.keys(S).length)return t.minimatch;const D=t.minimatch;return Object.assign((A,C,B={})=>D(A,C,U(S,B)),{Minimatch:class extends D.Minimatch{constructor(C,B={}){super(C,U(S,B))}static defaults(C){return D.defaults(U(S,C)).Minimatch}},AST:class extends D.AST{constructor(C,B,te={}){super(C,B,U(S,te))}static fromGlob(C,B={}){return D.AST.fromGlob(C,U(S,B))}},unescape:(A,C={})=>D.unescape(A,U(S,C)),escape:(A,C={})=>D.escape(A,U(S,C)),filter:(A,C={})=>D.filter(A,U(S,C)),defaults:A=>D.defaults(U(S,A)),makeRe:(A,C={})=>D.makeRe(A,U(S,C)),braceExpand:(A,C={})=>D.braceExpand(A,U(S,C)),match:(A,C,B={})=>D.match(A,C,U(S,B)),sep:D.sep,GLOBSTAR:t.GLOBSTAR})};t.defaults=O,t.minimatch.defaults=t.defaults;const V=(S,D={})=>((0,n.assertValidPattern)(S),D.nobrace||!/\{(?:(?!\{).)*\}/.test(S)?[S]:(0,r.default)(S));t.braceExpand=V,t.minimatch.braceExpand=t.braceExpand;const J=(S,D={})=>new Ee(S,D).makeRe();t.makeRe=J,t.minimatch.makeRe=t.makeRe;const Z=(S,D,F={})=>{const A=new Ee(D,F);return S=S.filter(C=>A.match(C)),A.options.nonull&&!S.length&&S.push(D),S};t.match=Z,t.minimatch.match=t.match;const ge=/[?*]|[+@!]\(.*?\)|\[|\]/,fe=S=>S.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");class Ee{constructor(D,F={}){oe(this,"options");oe(this,"set");oe(this,"pattern");oe(this,"windowsPathsNoEscape");oe(this,"nonegate");oe(this,"negate");oe(this,"comment");oe(this,"empty");oe(this,"preserveMultipleSlashes");oe(this,"partial");oe(this,"globSet");oe(this,"globParts");oe(this,"nocase");oe(this,"isWindows");oe(this,"platform");oe(this,"windowsNoMagicRoot");oe(this,"regexp");(0,n.assertValidPattern)(D),F=F||{},this.options=F,this.pattern=D,this.platform=F.platform||H,this.isWindows=this.platform==="win32",this.windowsPathsNoEscape=!!F.windowsPathsNoEscape||F.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(this.pattern=this.pattern.replace(/\\/g,"/")),this.preserveMultipleSlashes=!!F.preserveMultipleSlashes,this.regexp=null,this.negate=!1,this.nonegate=!!F.nonegate,this.comment=!1,this.empty=!1,this.partial=!!F.partial,this.nocase=!!this.options.nocase,this.windowsNoMagicRoot=F.windowsNoMagicRoot!==void 0?F.windowsNoMagicRoot:!!(this.isWindows&&this.nocase),this.globSet=[],this.globParts=[],this.set=[],this.make()}hasMagic(){if(this.options.magicalBraces&&this.set.length>1)return!0;for(const D of this.set)for(const F of D)if(typeof F!="string")return!0;return!1}debug(...D){}make(){const D=this.pattern,F=this.options;if(!F.nocomment&&D.charAt(0)==="#"){this.comment=!0;return}if(!D){this.empty=!0;return}this.parseNegate(),this.globSet=[...new Set(this.braceExpand())],F.debug&&(this.debug=(...B)=>console.error(...B)),this.debug(this.pattern,this.globSet);const A=this.globSet.map(B=>this.slashSplit(B));this.globParts=this.preprocess(A),this.debug(this.pattern,this.globParts);let C=this.globParts.map((B,te,ae)=>{if(this.isWindows&&this.windowsNoMagicRoot){const le=B[0]===""&&B[1]===""&&(B[2]==="?"||!ge.test(B[2]))&&!ge.test(B[3]),q=/^[a-z]:/i.test(B[0]);if(le)return[...B.slice(0,4),...B.slice(4).map(re=>this.parse(re))];if(q)return[B[0],...B.slice(1).map(re=>this.parse(re))]}return B.map(le=>this.parse(le))});if(this.debug(this.pattern,C),this.set=C.filter(B=>B.indexOf(!1)===-1),this.isWindows)for(let B=0;B<this.set.length;B++){const te=this.set[B];te[0]===""&&te[1]===""&&this.globParts[B][2]==="?"&&typeof te[3]=="string"&&/^[a-z]:$/i.test(te[3])&&(te[2]="?")}this.debug(this.pattern,this.set)}preprocess(D){if(this.options.noglobstar)for(let A=0;A<D.length;A++)for(let C=0;C<D[A].length;C++)D[A][C]==="**"&&(D[A][C]="*");const{optimizationLevel:F=1}=this.options;return F>=2?(D=this.firstPhasePreProcess(D),D=this.secondPhasePreProcess(D)):F>=1?D=this.levelOneOptimize(D):D=this.adjascentGlobstarOptimize(D),D}adjascentGlobstarOptimize(D){return D.map(F=>{let A=-1;for(;(A=F.indexOf("**",A+1))!==-1;){let C=A;for(;F[C+1]==="**";)C++;C!==A&&F.splice(A,C-A)}return F})}levelOneOptimize(D){return D.map(F=>(F=F.reduce((A,C)=>{const B=A[A.length-1];return C==="**"&&B==="**"?A:C===".."&&B&&B!==".."&&B!=="."&&B!=="**"?(A.pop(),A):(A.push(C),A)},[]),F.length===0?[""]:F))}levelTwoFileOptimize(D){Array.isArray(D)||(D=this.slashSplit(D));let F=!1;do{if(F=!1,!this.preserveMultipleSlashes){for(let C=1;C<D.length-1;C++){const B=D[C];C===1&&B===""&&D[0]===""||(B==="."||B==="")&&(F=!0,D.splice(C,1),C--)}D[0]==="."&&D.length===2&&(D[1]==="."||D[1]==="")&&(F=!0,D.pop())}let A=0;for(;(A=D.indexOf("..",A+1))!==-1;){const C=D[A-1];C&&C!=="."&&C!==".."&&C!=="**"&&(F=!0,D.splice(A-1,2),A-=2)}}while(F);return D.length===0?[""]:D}firstPhasePreProcess(D){let F=!1;do{F=!1;for(let A of D){let C=-1;for(;(C=A.indexOf("**",C+1))!==-1;){let te=C;for(;A[te+1]==="**";)te++;te>C&&A.splice(C+1,te-C);let ae=A[C+1];const le=A[C+2],q=A[C+3];if(ae!==".."||!le||le==="."||le===".."||!q||q==="."||q==="..")continue;F=!0,A.splice(C,1);const re=A.slice(0);re[C]="**",D.push(re),C--}if(!this.preserveMultipleSlashes){for(let te=1;te<A.length-1;te++){const ae=A[te];te===1&&ae===""&&A[0]===""||(ae==="."||ae==="")&&(F=!0,A.splice(te,1),te--)}A[0]==="."&&A.length===2&&(A[1]==="."||A[1]==="")&&(F=!0,A.pop())}let B=0;for(;(B=A.indexOf("..",B+1))!==-1;){const te=A[B-1];if(te&&te!=="."&&te!==".."&&te!=="**"){F=!0;const le=B===1&&A[B+1]==="**"?["."]:[];A.splice(B-1,2,...le),A.length===0&&A.push(""),B-=2}}}}while(F);return D}secondPhasePreProcess(D){for(let F=0;F<D.length-1;F++)for(let A=F+1;A<D.length;A++){const C=this.partsMatch(D[F],D[A],!this.preserveMultipleSlashes);if(C){D[F]=[],D[A]=C;break}}return D.filter(F=>F.length)}partsMatch(D,F,A=!1){let C=0,B=0,te=[],ae="";for(;C<D.length&&B<F.length;)if(D[C]===F[B])te.push(ae==="b"?F[B]:D[C]),C++,B++;else if(A&&D[C]==="**"&&F[B]===D[C+1])te.push(D[C]),C++;else if(A&&F[B]==="**"&&D[C]===F[B+1])te.push(F[B]),B++;else if(D[C]==="*"&&F[B]&&(this.options.dot||!F[B].startsWith("."))&&F[B]!=="**"){if(ae==="b")return!1;ae="a",te.push(D[C]),C++,B++}else if(F[B]==="*"&&D[C]&&(this.options.dot||!D[C].startsWith("."))&&D[C]!=="**"){if(ae==="a")return!1;ae="b",te.push(F[B]),C++,B++}else return!1;return D.length===F.length&&te}parseNegate(){if(this.nonegate)return;const D=this.pattern;let F=!1,A=0;for(let C=0;C<D.length&&D.charAt(C)==="!";C++)F=!F,A++;A&&(this.pattern=D.slice(A)),this.negate=F}matchOne(D,F,A=!1){const C=this.options;if(this.isWindows){const De=typeof D[0]=="string"&&/^[a-z]:$/i.test(D[0]),gt=!De&&D[0]===""&&D[1]===""&&D[2]==="?"&&/^[a-z]:$/i.test(D[3]),Ye=typeof F[0]=="string"&&/^[a-z]:$/i.test(F[0]),mt=!Ye&&F[0]===""&&F[1]===""&&F[2]==="?"&&typeof F[3]=="string"&&/^[a-z]:$/i.test(F[3]),yt=gt?3:De?0:void 0,Ke=mt?3:Ye?0:void 0;if(typeof yt=="number"&&typeof Ke=="number"){const[ct,mn]=[D[yt],F[Ke]];ct.toLowerCase()===mn.toLowerCase()&&(F[Ke]=ct,Ke>yt?F=F.slice(Ke):yt>Ke&&(D=D.slice(yt)))}}const{optimizationLevel:B=1}=this.options;B>=2&&(D=this.levelTwoFileOptimize(D)),this.debug("matchOne",this,{file:D,pattern:F}),this.debug("matchOne",D.length,F.length);for(var te=0,ae=0,le=D.length,q=F.length;te<le&&ae<q;te++,ae++){this.debug("matchOne loop");var re=F[ae],ce=D[te];if(this.debug(F,re,ce),re===!1)return!1;if(re===t.GLOBSTAR){this.debug("GLOBSTAR",[F,re,ce]);var ie=te,Re=ae+1;if(Re===q){for(this.debug("** at the end");te<le;te++)if(D[te]==="."||D[te]===".."||!C.dot&&D[te].charAt(0)===".")return!1;return!0}for(;ie<le;){var Ge=D[ie];if(this.debug(`
globstar while`,D,ie,F,Re,Ge),this.matchOne(D.slice(ie),F.slice(Re),A))return this.debug("globstar found match!",ie,le,Ge),!0;if(Ge==="."||Ge===".."||!C.dot&&Ge.charAt(0)==="."){this.debug("dot detected!",D,ie,F,Re);break}this.debug("globstar swallow a segment, and continue"),ie++}return!!(A&&(this.debug(`
>>> no match, partial?`,D,ie,F,Re),ie===le))}let De;if(typeof re=="string"?(De=ce===re,this.debug("string match",re,ce,De)):(De=re.test(ce),this.debug("pattern match",re,ce,De)),!De)return!1}if(te===le&&ae===q)return!0;if(te===le)return A;if(ae===q)return te===le-1&&D[te]==="";throw new Error("wtf?")}braceExpand(){return(0,t.braceExpand)(this.pattern,this.options)}parse(D){(0,n.assertValidPattern)(D);const F=this.options;if(D==="**")return t.GLOBSTAR;if(D==="")return"";let A,C=null;(A=D.match(m))?C=F.dot?N:v:(A=D.match(l))?C=(F.nocase?F.dot?d:h:F.dot?u:c)(A[1]):(A=D.match(z))?C=(F.nocase?F.dot?Q:ue:F.dot?G:R)(A):(A=D.match(b))?C=F.dot?w:T:(A=D.match(E))&&(C=p);const B=i.AST.fromGlob(D,this.options).toMMPattern();return C&&typeof B=="object"&&Reflect.defineProperty(B,"test",{value:C}),B}makeRe(){if(this.regexp||this.regexp===!1)return this.regexp;const D=this.set;if(!D.length)return this.regexp=!1,this.regexp;const F=this.options,A=F.noglobstar?Y:F.dot?ne:P,C=new Set(F.nocase?["i"]:[]);let B=D.map(le=>{const q=le.map(re=>{if(re instanceof RegExp)for(const ce of re.flags.split(""))C.add(ce);return typeof re=="string"?fe(re):re===t.GLOBSTAR?t.GLOBSTAR:re._src});return q.forEach((re,ce)=>{const ie=q[ce+1],Re=q[ce-1];re!==t.GLOBSTAR||Re===t.GLOBSTAR||(Re===void 0?ie!==void 0&&ie!==t.GLOBSTAR?q[ce+1]="(?:\\/|"+A+"\\/)?"+ie:q[ce]=A:ie===void 0?q[ce-1]=Re+"(?:\\/|"+A+")?":ie!==t.GLOBSTAR&&(q[ce-1]=Re+"(?:\\/|\\/"+A+"\\/)"+ie,q[ce+1]=t.GLOBSTAR))}),q.filter(re=>re!==t.GLOBSTAR).join("/")}).join("|");const[te,ae]=D.length>1?["(?:",")"]:["",""];B="^"+te+B+ae+"$",this.negate&&(B="^(?!"+B+").+$");try{this.regexp=new RegExp(B,[...C].join(""))}catch{this.regexp=!1}return this.regexp}slashSplit(D){return this.preserveMultipleSlashes?D.split("/"):this.isWindows&&/^\/\/[^\/]+/.test(D)?["",...D.split(/\/+/)]:D.split(/\/+/)}match(D,F=this.partial){if(this.debug("match",D,this.pattern),this.comment)return!1;if(this.empty)return D==="";if(D==="/"&&F)return!0;const A=this.options;this.isWindows&&(D=D.split("\\").join("/"));const C=this.slashSplit(D);this.debug(this.pattern,"split",C);const B=this.set;this.debug(this.pattern,"set",B);let te=C[C.length-1];if(!te)for(let ae=C.length-2;!te&&ae>=0;ae--)te=C[ae];for(let ae=0;ae<B.length;ae++){const le=B[ae];let q=C;if(A.matchBase&&le.length===1&&(q=[te]),this.matchOne(q,le,F))return A.flipNegate?!0:!this.negate}return A.flipNegate?!1:this.negate}static defaults(D){return t.minimatch.defaults(D).Minimatch}}t.Minimatch=Ee;var g=vo;Object.defineProperty(t,"AST",{enumerable:!0,get:function(){return g.AST}});var f=Eo;Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return f.escape}});var I=ha;Object.defineProperty(t,"unescape",{enumerable:!0,get:function(){return I.unescape}}),t.minimatch.AST=i.AST,t.minimatch.Minimatch=Ee,t.minimatch.escape=s.escape,t.minimatch.unescape=a.unescape})(xi);var So={},nt={},ff={};Object.defineProperty(ff,"__esModule",{value:!0});ff.LRUCache=void 0;const Ds=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,Wv=new Set,Id=typeof process=="object"&&process?process:{},Gv=(t,e,r,n)=>{typeof Id.emitWarning=="function"?Id.emitWarning(t,e,r,n):console.error(`[${r}] ${e}: ${t}`)};let bc=globalThis.AbortController,Uy=globalThis.AbortSignal;var pw;if(typeof bc>"u"){Uy=class{constructor(){oe(this,"onabort");oe(this,"_onabort",[]);oe(this,"reason");oe(this,"aborted",!1)}addEventListener(n,i){this._onabort.push(i)}},bc=class{constructor(){oe(this,"signal",new Uy);e()}abort(n){var i,s;if(!this.signal.aborted){this.signal.reason=n,this.signal.aborted=!0;for(const a of this.signal._onabort)a(n);(s=(i=this.signal).onabort)==null||s.call(i,n)}}};let t=((pw=Id.env)==null?void 0:pw.LRU_CACHE_IGNORE_AC_WARNING)!=="1";const e=()=>{t&&(t=!1,Gv("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",e))}}const D3=t=>!Wv.has(t),Jn=t=>t&&t===Math.floor(t)&&t>0&&isFinite(t),qv=t=>Jn(t)?t<=Math.pow(2,8)?Uint8Array:t<=Math.pow(2,16)?Uint16Array:t<=Math.pow(2,32)?Uint32Array:t<=Number.MAX_SAFE_INTEGER?Iu:null:null;class Iu extends Array{constructor(e){super(e),this.fill(0)}}var Ks;const Zi=class Zi{constructor(e,r){oe(this,"heap");oe(this,"length");if(!y(Zi,Ks))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new r(e),this.length=0}static create(e){const r=qv(e);if(!r)return[];ee(Zi,Ks,!0);const n=new Zi(e,r);return ee(Zi,Ks,!1),n}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}};Ks=new WeakMap,me(Zi,Ks,!1);let Cd=Zi;var gw,mw,kr,hr,Br,jr,Xs,Zs,St,Wr,_t,Je,Ne,Kt,dr,qt,Ct,Gr,Dt,qr,zr,pr,Hr,li,Xt,be,Pd,ts,On,Do,gr,zv,rs,Qs,Po,ei,ti,$d,Cu,Du,Qe,Nd,Ya,ri,Ld;const Tg=class Tg{constructor(e){me(this,be);me(this,kr);me(this,hr);me(this,Br);me(this,jr);me(this,Xs);me(this,Zs);oe(this,"ttl");oe(this,"ttlResolution");oe(this,"ttlAutopurge");oe(this,"updateAgeOnGet");oe(this,"updateAgeOnHas");oe(this,"allowStale");oe(this,"noDisposeOnSet");oe(this,"noUpdateTTL");oe(this,"maxEntrySize");oe(this,"sizeCalculation");oe(this,"noDeleteOnFetchRejection");oe(this,"noDeleteOnStaleGet");oe(this,"allowStaleOnFetchAbort");oe(this,"allowStaleOnFetchRejection");oe(this,"ignoreFetchAbort");me(this,St);me(this,Wr);me(this,_t);me(this,Je);me(this,Ne);me(this,Kt);me(this,dr);me(this,qt);me(this,Ct);me(this,Gr);me(this,Dt);me(this,qr);me(this,zr);me(this,pr);me(this,Hr);me(this,li);me(this,Xt);me(this,ts,()=>{});me(this,On,()=>{});me(this,Do,()=>{});me(this,gr,()=>!1);me(this,rs,e=>{});me(this,Qs,(e,r,n)=>{});me(this,Po,(e,r,n,i)=>{if(n||i)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});oe(this,gw,"LRUCache");const{max:r=0,ttl:n,ttlResolution:i=1,ttlAutopurge:s,updateAgeOnGet:a,updateAgeOnHas:o,allowStale:l,dispose:c,disposeAfter:u,noDisposeOnSet:h,noUpdateTTL:d,maxSize:b=0,maxEntrySize:T=0,sizeCalculation:w,fetchMethod:E,memoMethod:p,noDeleteOnFetchRejection:m,noDeleteOnStaleGet:v,allowStaleOnFetchRejection:N,allowStaleOnFetchAbort:z,ignoreFetchAbort:ue}=e;if(r!==0&&!Jn(r))throw new TypeError("max option must be a nonnegative integer");const Q=r?qv(r):Array;if(!Q)throw new Error("invalid max value: "+r);if(ee(this,kr,r),ee(this,hr,b),this.maxEntrySize=T||y(this,hr),this.sizeCalculation=w,this.sizeCalculation){if(!y(this,hr)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(p!==void 0&&typeof p!="function")throw new TypeError("memoMethod must be a function if defined");if(ee(this,Zs,p),E!==void 0&&typeof E!="function")throw new TypeError("fetchMethod must be a function if specified");if(ee(this,Xs,E),ee(this,li,!!E),ee(this,_t,new Map),ee(this,Je,new Array(r).fill(void 0)),ee(this,Ne,new Array(r).fill(void 0)),ee(this,Kt,new Q(r)),ee(this,dr,new Q(r)),ee(this,qt,0),ee(this,Ct,0),ee(this,Gr,Cd.create(r)),ee(this,St,0),ee(this,Wr,0),typeof c=="function"&&ee(this,Br,c),typeof u=="function"?(ee(this,jr,u),ee(this,Dt,[])):(ee(this,jr,void 0),ee(this,Dt,void 0)),ee(this,Hr,!!y(this,Br)),ee(this,Xt,!!y(this,jr)),this.noDisposeOnSet=!!h,this.noUpdateTTL=!!d,this.noDeleteOnFetchRejection=!!m,this.allowStaleOnFetchRejection=!!N,this.allowStaleOnFetchAbort=!!z,this.ignoreFetchAbort=!!ue,this.maxEntrySize!==0){if(y(this,hr)!==0&&!Jn(y(this,hr)))throw new TypeError("maxSize must be a positive integer if specified");if(!Jn(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");he(this,be,zv).call(this)}if(this.allowStale=!!l,this.noDeleteOnStaleGet=!!v,this.updateAgeOnGet=!!a,this.updateAgeOnHas=!!o,this.ttlResolution=Jn(i)||i===0?i:1,this.ttlAutopurge=!!s,this.ttl=n||0,this.ttl){if(!Jn(this.ttl))throw new TypeError("ttl must be a positive integer if specified");he(this,be,Pd).call(this)}if(y(this,kr)===0&&this.ttl===0&&y(this,hr)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!y(this,kr)&&!y(this,hr)){const G="LRU_CACHE_UNBOUNDED";D3(G)&&(Wv.add(G),Gv("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",G,Tg))}}static unsafeExposeInternals(e){return{starts:y(e,zr),ttls:y(e,pr),sizes:y(e,qr),keyMap:y(e,_t),keyList:y(e,Je),valList:y(e,Ne),next:y(e,Kt),prev:y(e,dr),get head(){return y(e,qt)},get tail(){return y(e,Ct)},free:y(e,Gr),isBackgroundFetch:r=>{var n;return he(n=e,be,Qe).call(n,r)},backgroundFetch:(r,n,i,s)=>{var a;return he(a=e,be,Du).call(a,r,n,i,s)},moveToTail:r=>{var n;return he(n=e,be,Ya).call(n,r)},indexes:r=>{var n;return he(n=e,be,ei).call(n,r)},rindexes:r=>{var n;return he(n=e,be,ti).call(n,r)},isStale:r=>{var n;return y(n=e,gr).call(n,r)}}}get max(){return y(this,kr)}get maxSize(){return y(this,hr)}get calculatedSize(){return y(this,Wr)}get size(){return y(this,St)}get fetchMethod(){return y(this,Xs)}get memoMethod(){return y(this,Zs)}get dispose(){return y(this,Br)}get disposeAfter(){return y(this,jr)}getRemainingTTL(e){return y(this,_t).has(e)?1/0:0}*entries(){for(const e of he(this,be,ei).call(this))y(this,Ne)[e]!==void 0&&y(this,Je)[e]!==void 0&&!he(this,be,Qe).call(this,y(this,Ne)[e])&&(yield[y(this,Je)[e],y(this,Ne)[e]])}*rentries(){for(const e of he(this,be,ti).call(this))y(this,Ne)[e]!==void 0&&y(this,Je)[e]!==void 0&&!he(this,be,Qe).call(this,y(this,Ne)[e])&&(yield[y(this,Je)[e],y(this,Ne)[e]])}*keys(){for(const e of he(this,be,ei).call(this)){const r=y(this,Je)[e];r!==void 0&&!he(this,be,Qe).call(this,y(this,Ne)[e])&&(yield r)}}*rkeys(){for(const e of he(this,be,ti).call(this)){const r=y(this,Je)[e];r!==void 0&&!he(this,be,Qe).call(this,y(this,Ne)[e])&&(yield r)}}*values(){for(const e of he(this,be,ei).call(this))y(this,Ne)[e]!==void 0&&!he(this,be,Qe).call(this,y(this,Ne)[e])&&(yield y(this,Ne)[e])}*rvalues(){for(const e of he(this,be,ti).call(this))y(this,Ne)[e]!==void 0&&!he(this,be,Qe).call(this,y(this,Ne)[e])&&(yield y(this,Ne)[e])}[(mw=Symbol.iterator,gw=Symbol.toStringTag,mw)](){return this.entries()}find(e,r={}){for(const n of he(this,be,ei).call(this)){const i=y(this,Ne)[n],s=he(this,be,Qe).call(this,i)?i.__staleWhileFetching:i;if(s!==void 0&&e(s,y(this,Je)[n],this))return this.get(y(this,Je)[n],r)}}forEach(e,r=this){for(const n of he(this,be,ei).call(this)){const i=y(this,Ne)[n],s=he(this,be,Qe).call(this,i)?i.__staleWhileFetching:i;s!==void 0&&e.call(r,s,y(this,Je)[n],this)}}rforEach(e,r=this){for(const n of he(this,be,ti).call(this)){const i=y(this,Ne)[n],s=he(this,be,Qe).call(this,i)?i.__staleWhileFetching:i;s!==void 0&&e.call(r,s,y(this,Je)[n],this)}}purgeStale(){let e=!1;for(const r of he(this,be,ti).call(this,{allowStale:!0}))y(this,gr).call(this,r)&&(he(this,be,ri).call(this,y(this,Je)[r],"expire"),e=!0);return e}info(e){const r=y(this,_t).get(e);if(r===void 0)return;const n=y(this,Ne)[r],i=he(this,be,Qe).call(this,n)?n.__staleWhileFetching:n;if(i===void 0)return;const s={value:i};if(y(this,pr)&&y(this,zr)){const a=y(this,pr)[r],o=y(this,zr)[r];if(a&&o){const l=a-(Ds.now()-o);s.ttl=l,s.start=Date.now()}}return y(this,qr)&&(s.size=y(this,qr)[r]),s}dump(){const e=[];for(const r of he(this,be,ei).call(this,{allowStale:!0})){const n=y(this,Je)[r],i=y(this,Ne)[r],s=he(this,be,Qe).call(this,i)?i.__staleWhileFetching:i;if(s===void 0||n===void 0)continue;const a={value:s};if(y(this,pr)&&y(this,zr)){a.ttl=y(this,pr)[r];const o=Ds.now()-y(this,zr)[r];a.start=Math.floor(Date.now()-o)}y(this,qr)&&(a.size=y(this,qr)[r]),e.unshift([n,a])}return e}load(e){this.clear();for(const[r,n]of e){if(n.start){const i=Date.now()-n.start;n.start=Ds.now()-i}this.set(r,n.value,n)}}set(e,r,n={}){var d,b,T,w,E;if(r===void 0)return this.delete(e),this;const{ttl:i=this.ttl,start:s,noDisposeOnSet:a=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:l}=n;let{noUpdateTTL:c=this.noUpdateTTL}=n;const u=y(this,Po).call(this,e,r,n.size||0,o);if(this.maxEntrySize&&u>this.maxEntrySize)return l&&(l.set="miss",l.maxEntrySizeExceeded=!0),he(this,be,ri).call(this,e,"set"),this;let h=y(this,St)===0?void 0:y(this,_t).get(e);if(h===void 0)h=y(this,St)===0?y(this,Ct):y(this,Gr).length!==0?y(this,Gr).pop():y(this,St)===y(this,kr)?he(this,be,Cu).call(this,!1):y(this,St),y(this,Je)[h]=e,y(this,Ne)[h]=r,y(this,_t).set(e,h),y(this,Kt)[y(this,Ct)]=h,y(this,dr)[h]=y(this,Ct),ee(this,Ct,h),Bl(this,St)._++,y(this,Qs).call(this,h,u,l),l&&(l.set="add"),c=!1;else{he(this,be,Ya).call(this,h);const p=y(this,Ne)[h];if(r!==p){if(y(this,li)&&he(this,be,Qe).call(this,p)){p.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:m}=p;m!==void 0&&!a&&(y(this,Hr)&&((d=y(this,Br))==null||d.call(this,m,e,"set")),y(this,Xt)&&((b=y(this,Dt))==null||b.push([m,e,"set"])))}else a||(y(this,Hr)&&((T=y(this,Br))==null||T.call(this,p,e,"set")),y(this,Xt)&&((w=y(this,Dt))==null||w.push([p,e,"set"])));if(y(this,rs).call(this,h),y(this,Qs).call(this,h,u,l),y(this,Ne)[h]=r,l){l.set="replace";const m=p&&he(this,be,Qe).call(this,p)?p.__staleWhileFetching:p;m!==void 0&&(l.oldValue=m)}}else l&&(l.set="update")}if(i!==0&&!y(this,pr)&&he(this,be,Pd).call(this),y(this,pr)&&(c||y(this,Do).call(this,h,i,s),l&&y(this,On).call(this,l,h)),!a&&y(this,Xt)&&y(this,Dt)){const p=y(this,Dt);let m;for(;m=p==null?void 0:p.shift();)(E=y(this,jr))==null||E.call(this,...m)}return this}pop(){var e;try{for(;y(this,St);){const r=y(this,Ne)[y(this,qt)];if(he(this,be,Cu).call(this,!0),he(this,be,Qe).call(this,r)){if(r.__staleWhileFetching)return r.__staleWhileFetching}else if(r!==void 0)return r}}finally{if(y(this,Xt)&&y(this,Dt)){const r=y(this,Dt);let n;for(;n=r==null?void 0:r.shift();)(e=y(this,jr))==null||e.call(this,...n)}}}has(e,r={}){const{updateAgeOnHas:n=this.updateAgeOnHas,status:i}=r,s=y(this,_t).get(e);if(s!==void 0){const a=y(this,Ne)[s];if(he(this,be,Qe).call(this,a)&&a.__staleWhileFetching===void 0)return!1;if(y(this,gr).call(this,s))i&&(i.has="stale",y(this,On).call(this,i,s));else return n&&y(this,ts).call(this,s),i&&(i.has="hit",y(this,On).call(this,i,s)),!0}else i&&(i.has="miss");return!1}peek(e,r={}){const{allowStale:n=this.allowStale}=r,i=y(this,_t).get(e);if(i===void 0||!n&&y(this,gr).call(this,i))return;const s=y(this,Ne)[i];return he(this,be,Qe).call(this,s)?s.__staleWhileFetching:s}async fetch(e,r={}){const{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,ttl:a=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:l=0,sizeCalculation:c=this.sizeCalculation,noUpdateTTL:u=this.noUpdateTTL,noDeleteOnFetchRejection:h=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:d=this.allowStaleOnFetchRejection,ignoreFetchAbort:b=this.ignoreFetchAbort,allowStaleOnFetchAbort:T=this.allowStaleOnFetchAbort,context:w,forceRefresh:E=!1,status:p,signal:m}=r;if(!y(this,li))return p&&(p.fetch="get"),this.get(e,{allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:s,status:p});const v={allowStale:n,updateAgeOnGet:i,noDeleteOnStaleGet:s,ttl:a,noDisposeOnSet:o,size:l,sizeCalculation:c,noUpdateTTL:u,noDeleteOnFetchRejection:h,allowStaleOnFetchRejection:d,allowStaleOnFetchAbort:T,ignoreFetchAbort:b,status:p,signal:m};let N=y(this,_t).get(e);if(N===void 0){p&&(p.fetch="miss");const z=he(this,be,Du).call(this,e,N,v,w);return z.__returned=z}else{const z=y(this,Ne)[N];if(he(this,be,Qe).call(this,z)){const k=n&&z.__staleWhileFetching!==void 0;return p&&(p.fetch="inflight",k&&(p.returnedStale=!0)),k?z.__staleWhileFetching:z.__returned=z}const ue=y(this,gr).call(this,N);if(!E&&!ue)return p&&(p.fetch="hit"),he(this,be,Ya).call(this,N),i&&y(this,ts).call(this,N),p&&y(this,On).call(this,p,N),z;const Q=he(this,be,Du).call(this,e,N,v,w),R=Q.__staleWhileFetching!==void 0&&n;return p&&(p.fetch=ue?"stale":"refresh",R&&ue&&(p.returnedStale=!0)),R?Q.__staleWhileFetching:Q.__returned=Q}}async forceFetch(e,r={}){const n=await this.fetch(e,r);if(n===void 0)throw new Error("fetch() returned undefined");return n}memo(e,r={}){const n=y(this,Zs);if(!n)throw new Error("no memoMethod provided to constructor");const{context:i,forceRefresh:s,...a}=r,o=this.get(e,a);if(!s&&o!==void 0)return o;const l=n(e,o,{options:a,context:i});return this.set(e,l,a),l}get(e,r={}){const{allowStale:n=this.allowStale,updateAgeOnGet:i=this.updateAgeOnGet,noDeleteOnStaleGet:s=this.noDeleteOnStaleGet,status:a}=r,o=y(this,_t).get(e);if(o!==void 0){const l=y(this,Ne)[o],c=he(this,be,Qe).call(this,l);return a&&y(this,On).call(this,a,o),y(this,gr).call(this,o)?(a&&(a.get="stale"),c?(a&&n&&l.__staleWhileFetching!==void 0&&(a.returnedStale=!0),n?l.__staleWhileFetching:void 0):(s||he(this,be,ri).call(this,e,"expire"),a&&n&&(a.returnedStale=!0),n?l:void 0)):(a&&(a.get="hit"),c?l.__staleWhileFetching:(he(this,be,Ya).call(this,o),i&&y(this,ts).call(this,o),l))}else a&&(a.get="miss")}delete(e){return he(this,be,ri).call(this,e,"delete")}clear(){return he(this,be,Ld).call(this,"delete")}};kr=new WeakMap,hr=new WeakMap,Br=new WeakMap,jr=new WeakMap,Xs=new WeakMap,Zs=new WeakMap,St=new WeakMap,Wr=new WeakMap,_t=new WeakMap,Je=new WeakMap,Ne=new WeakMap,Kt=new WeakMap,dr=new WeakMap,qt=new WeakMap,Ct=new WeakMap,Gr=new WeakMap,Dt=new WeakMap,qr=new WeakMap,zr=new WeakMap,pr=new WeakMap,Hr=new WeakMap,li=new WeakMap,Xt=new WeakMap,be=new WeakSet,Pd=function(){const e=new Iu(y(this,kr)),r=new Iu(y(this,kr));ee(this,pr,e),ee(this,zr,r),ee(this,Do,(s,a,o=Ds.now())=>{if(r[s]=a!==0?o:0,e[s]=a,a!==0&&this.ttlAutopurge){const l=setTimeout(()=>{y(this,gr).call(this,s)&&he(this,be,ri).call(this,y(this,Je)[s],"expire")},a+1);l.unref&&l.unref()}}),ee(this,ts,s=>{r[s]=e[s]!==0?Ds.now():0}),ee(this,On,(s,a)=>{if(e[a]){const o=e[a],l=r[a];if(!o||!l)return;s.ttl=o,s.start=l,s.now=n||i();const c=s.now-l;s.remainingTTL=o-c}});let n=0;const i=()=>{const s=Ds.now();if(this.ttlResolution>0){n=s;const a=setTimeout(()=>n=0,this.ttlResolution);a.unref&&a.unref()}return s};this.getRemainingTTL=s=>{const a=y(this,_t).get(s);if(a===void 0)return 0;const o=e[a],l=r[a];if(!o||!l)return 1/0;const c=(n||i())-l;return o-c},ee(this,gr,s=>{const a=r[s],o=e[s];return!!o&&!!a&&(n||i())-a>o})},ts=new WeakMap,On=new WeakMap,Do=new WeakMap,gr=new WeakMap,zv=function(){const e=new Iu(y(this,kr));ee(this,Wr,0),ee(this,qr,e),ee(this,rs,r=>{ee(this,Wr,y(this,Wr)-e[r]),e[r]=0}),ee(this,Po,(r,n,i,s)=>{if(he(this,be,Qe).call(this,n))return 0;if(!Jn(i))if(s){if(typeof s!="function")throw new TypeError("sizeCalculation must be a function");if(i=s(n,r),!Jn(i))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return i}),ee(this,Qs,(r,n,i)=>{if(e[r]=n,y(this,hr)){const s=y(this,hr)-e[r];for(;y(this,Wr)>s;)he(this,be,Cu).call(this,!0)}ee(this,Wr,y(this,Wr)+e[r]),i&&(i.entrySize=n,i.totalCalculatedSize=y(this,Wr))})},rs=new WeakMap,Qs=new WeakMap,Po=new WeakMap,ei=function*({allowStale:e=this.allowStale}={}){if(y(this,St))for(let r=y(this,Ct);!(!he(this,be,$d).call(this,r)||((e||!y(this,gr).call(this,r))&&(yield r),r===y(this,qt)));)r=y(this,dr)[r]},ti=function*({allowStale:e=this.allowStale}={}){if(y(this,St))for(let r=y(this,qt);!(!he(this,be,$d).call(this,r)||((e||!y(this,gr).call(this,r))&&(yield r),r===y(this,Ct)));)r=y(this,Kt)[r]},$d=function(e){return e!==void 0&&y(this,_t).get(y(this,Je)[e])===e},Cu=function(e){var s,a;const r=y(this,qt),n=y(this,Je)[r],i=y(this,Ne)[r];return y(this,li)&&he(this,be,Qe).call(this,i)?i.__abortController.abort(new Error("evicted")):(y(this,Hr)||y(this,Xt))&&(y(this,Hr)&&((s=y(this,Br))==null||s.call(this,i,n,"evict")),y(this,Xt)&&((a=y(this,Dt))==null||a.push([i,n,"evict"]))),y(this,rs).call(this,r),e&&(y(this,Je)[r]=void 0,y(this,Ne)[r]=void 0,y(this,Gr).push(r)),y(this,St)===1?(ee(this,qt,ee(this,Ct,0)),y(this,Gr).length=0):ee(this,qt,y(this,Kt)[r]),y(this,_t).delete(n),Bl(this,St)._--,r},Du=function(e,r,n,i){const s=r===void 0?void 0:y(this,Ne)[r];if(he(this,be,Qe).call(this,s))return s;const a=new bc,{signal:o}=n;o==null||o.addEventListener("abort",()=>a.abort(o.reason),{signal:a.signal});const l={signal:a.signal,options:n,context:i},c=(w,E=!1)=>{const{aborted:p}=a.signal,m=n.ignoreFetchAbort&&w!==void 0;if(n.status&&(p&&!E?(n.status.fetchAborted=!0,n.status.fetchError=a.signal.reason,m&&(n.status.fetchAbortIgnored=!0)):n.status.fetchResolved=!0),p&&!m&&!E)return h(a.signal.reason);const v=b;return y(this,Ne)[r]===b&&(w===void 0?v.__staleWhileFetching?y(this,Ne)[r]=v.__staleWhileFetching:he(this,be,ri).call(this,e,"fetch"):(n.status&&(n.status.fetchUpdated=!0),this.set(e,w,l.options))),w},u=w=>(n.status&&(n.status.fetchRejected=!0,n.status.fetchError=w),h(w)),h=w=>{const{aborted:E}=a.signal,p=E&&n.allowStaleOnFetchAbort,m=p||n.allowStaleOnFetchRejection,v=m||n.noDeleteOnFetchRejection,N=b;if(y(this,Ne)[r]===b&&(!v||N.__staleWhileFetching===void 0?he(this,be,ri).call(this,e,"fetch"):p||(y(this,Ne)[r]=N.__staleWhileFetching)),m)return n.status&&N.__staleWhileFetching!==void 0&&(n.status.returnedStale=!0),N.__staleWhileFetching;if(N.__returned===N)throw w},d=(w,E)=>{var m;const p=(m=y(this,Xs))==null?void 0:m.call(this,e,s,l);p&&p instanceof Promise&&p.then(v=>w(v===void 0?void 0:v),E),a.signal.addEventListener("abort",()=>{(!n.ignoreFetchAbort||n.allowStaleOnFetchAbort)&&(w(void 0),n.allowStaleOnFetchAbort&&(w=v=>c(v,!0)))})};n.status&&(n.status.fetchDispatched=!0);const b=new Promise(d).then(c,u),T=Object.assign(b,{__abortController:a,__staleWhileFetching:s,__returned:void 0});return r===void 0?(this.set(e,T,{...l.options,status:void 0}),r=y(this,_t).get(e)):y(this,Ne)[r]=T,T},Qe=function(e){if(!y(this,li))return!1;const r=e;return!!r&&r instanceof Promise&&r.hasOwnProperty("__staleWhileFetching")&&r.__abortController instanceof bc},Nd=function(e,r){y(this,dr)[r]=e,y(this,Kt)[e]=r},Ya=function(e){e!==y(this,Ct)&&(e===y(this,qt)?ee(this,qt,y(this,Kt)[e]):he(this,be,Nd).call(this,y(this,dr)[e],y(this,Kt)[e]),he(this,be,Nd).call(this,y(this,Ct),e),ee(this,Ct,e))},ri=function(e,r){var i,s,a,o;let n=!1;if(y(this,St)!==0){const l=y(this,_t).get(e);if(l!==void 0)if(n=!0,y(this,St)===1)he(this,be,Ld).call(this,r);else{y(this,rs).call(this,l);const c=y(this,Ne)[l];if(he(this,be,Qe).call(this,c)?c.__abortController.abort(new Error("deleted")):(y(this,Hr)||y(this,Xt))&&(y(this,Hr)&&((i=y(this,Br))==null||i.call(this,c,e,r)),y(this,Xt)&&((s=y(this,Dt))==null||s.push([c,e,r]))),y(this,_t).delete(e),y(this,Je)[l]=void 0,y(this,Ne)[l]=void 0,l===y(this,Ct))ee(this,Ct,y(this,dr)[l]);else if(l===y(this,qt))ee(this,qt,y(this,Kt)[l]);else{const u=y(this,dr)[l];y(this,Kt)[u]=y(this,Kt)[l];const h=y(this,Kt)[l];y(this,dr)[h]=y(this,dr)[l]}Bl(this,St)._--,y(this,Gr).push(l)}}if(y(this,Xt)&&((a=y(this,Dt))!=null&&a.length)){const l=y(this,Dt);let c;for(;c=l==null?void 0:l.shift();)(o=y(this,jr))==null||o.call(this,...c)}return n},Ld=function(e){var r,n,i;for(const s of he(this,be,ti).call(this,{allowStale:!0})){const a=y(this,Ne)[s];if(he(this,be,Qe).call(this,a))a.__abortController.abort(new Error("deleted"));else{const o=y(this,Je)[s];y(this,Hr)&&((r=y(this,Br))==null||r.call(this,a,o,e)),y(this,Xt)&&((n=y(this,Dt))==null||n.push([a,o,e]))}}if(y(this,_t).clear(),y(this,Ne).fill(void 0),y(this,Je).fill(void 0),y(this,pr)&&y(this,zr)&&(y(this,pr).fill(0),y(this,zr).fill(0)),y(this,qr)&&y(this,qr).fill(0),ee(this,qt,0),ee(this,Ct,0),y(this,Gr).length=0,ee(this,Wr,0),ee(this,St,0),y(this,Xt)&&y(this,Dt)){const s=y(this,Dt);let a;for(;a=s==null?void 0:s.shift();)(i=y(this,jr))==null||i.call(this,...a)}};let Dd=Tg;ff.LRUCache=Dd;var Hv={};const ky=typeof process=="object"&&process?process:{stdout:null,stderr:null},P3=Cr,By=jt,$3=ww,jy=$3.StringDecoder,En=Symbol("EOF"),Sn=Symbol("maybeEmitEnd"),Zn=Symbol("emittedEnd"),fu=Symbol("emittingEnd"),ka=Symbol("emittedError"),hu=Symbol("closed"),Wy=Symbol("read"),du=Symbol("flush"),Gy=Symbol("flushChunk"),ir=Symbol("encoding"),Tn=Symbol("decoder"),pu=Symbol("flowing"),Ba=Symbol("paused"),Ls=Symbol("resume"),dt=Symbol("buffer"),rn=Symbol("pipes"),Ot=Symbol("bufferLength"),zh=Symbol("bufferPush"),Hh=Symbol("bufferShift"),Mt=Symbol("objectMode"),pt=Symbol("destroyed"),Vh=Symbol("error"),Yh=Symbol("emitData"),qy=Symbol("emitEnd"),Kh=Symbol("emitEnd2"),An=Symbol("async"),Xh=Symbol("abort"),gu=Symbol("aborted"),qi=Symbol("signal"),ja=t=>Promise.resolve().then(t),Vv=Be._MP_NO_ITERATOR_SYMBOLS_!=="1",zy=Vv&&Symbol.asyncIterator||Symbol("asyncIterator not implemented"),Hy=Vv&&Symbol.iterator||Symbol("iterator not implemented"),N3=t=>t==="end"||t==="finish"||t==="prefinish",L3=t=>t instanceof ArrayBuffer||typeof t=="object"&&t.constructor&&t.constructor.name==="ArrayBuffer"&&t.byteLength>=0,F3=t=>!Buffer.isBuffer(t)&&ArrayBuffer.isView(t);class Yv{constructor(e,r,n){this.src=e,this.dest=r,this.opts=n,this.ondrain=()=>e[Ls](),r.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class M3 extends Yv{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(e,r,n){super(e,r,n),this.proxyErrors=i=>r.emit("error",i),e.on("error",this.proxyErrors)}}class Yp extends By{constructor(e){super(),this[pu]=!1,this[Ba]=!1,this[rn]=[],this[dt]=[],this[Mt]=e&&e.objectMode||!1,this[Mt]?this[ir]=null:this[ir]=e&&e.encoding||null,this[ir]==="buffer"&&(this[ir]=null),this[An]=e&&!!e.async||!1,this[Tn]=this[ir]?new jy(this[ir]):null,this[En]=!1,this[Zn]=!1,this[fu]=!1,this[hu]=!1,this[ka]=null,this.writable=!0,this.readable=!0,this[Ot]=0,this[pt]=!1,e&&e.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[dt]}),e&&e.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[rn]}),this[qi]=e&&e.signal,this[gu]=!1,this[qi]&&(this[qi].addEventListener("abort",()=>this[Xh]()),this[qi].aborted&&this[Xh]())}get bufferLength(){return this[Ot]}get encoding(){return this[ir]}set encoding(e){if(this[Mt])throw new Error("cannot set encoding in objectMode");if(this[ir]&&e!==this[ir]&&(this[Tn]&&this[Tn].lastNeed||this[Ot]))throw new Error("cannot change encoding");this[ir]!==e&&(this[Tn]=e?new jy(e):null,this[dt].length&&(this[dt]=this[dt].map(r=>this[Tn].write(r)))),this[ir]=e}setEncoding(e){this.encoding=e}get objectMode(){return this[Mt]}set objectMode(e){this[Mt]=this[Mt]||!!e}get async(){return this[An]}set async(e){this[An]=this[An]||!!e}[Xh](){this[gu]=!0,this.emit("abort",this[qi].reason),this.destroy(this[qi].reason)}get aborted(){return this[gu]}set aborted(e){}write(e,r,n){if(this[gu])return!1;if(this[En])throw new Error("write after end");if(this[pt])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof r=="function"&&(n=r,r="utf8"),r||(r="utf8");const i=this[An]?ja:s=>s();return!this[Mt]&&!Buffer.isBuffer(e)&&(F3(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):L3(e)?e=Buffer.from(e):typeof e!="string"&&(this.objectMode=!0)),this[Mt]?(this.flowing&&this[Ot]!==0&&this[du](!0),this.flowing?this.emit("data",e):this[zh](e),this[Ot]!==0&&this.emit("readable"),n&&i(n),this.flowing):e.length?(typeof e=="string"&&!(r===this[ir]&&!this[Tn].lastNeed)&&(e=Buffer.from(e,r)),Buffer.isBuffer(e)&&this[ir]&&(e=this[Tn].write(e)),this.flowing&&this[Ot]!==0&&this[du](!0),this.flowing?this.emit("data",e):this[zh](e),this[Ot]!==0&&this.emit("readable"),n&&i(n),this.flowing):(this[Ot]!==0&&this.emit("readable"),n&&i(n),this.flowing)}read(e){if(this[pt])return null;if(this[Ot]===0||e===0||e>this[Ot])return this[Sn](),null;this[Mt]&&(e=null),this[dt].length>1&&!this[Mt]&&(this.encoding?this[dt]=[this[dt].join("")]:this[dt]=[Buffer.concat(this[dt],this[Ot])]);const r=this[Wy](e||null,this[dt][0]);return this[Sn](),r}[Wy](e,r){return e===r.length||e===null?this[Hh]():(this[dt][0]=r.slice(e),r=r.slice(0,e),this[Ot]-=e),this.emit("data",r),!this[dt].length&&!this[En]&&this.emit("drain"),r}end(e,r,n){return typeof e=="function"&&(n=e,e=null),typeof r=="function"&&(n=r,r="utf8"),e&&this.write(e,r),n&&this.once("end",n),this[En]=!0,this.writable=!1,(this.flowing||!this[Ba])&&this[Sn](),this}[Ls](){this[pt]||(this[Ba]=!1,this[pu]=!0,this.emit("resume"),this[dt].length?this[du]():this[En]?this[Sn]():this.emit("drain"))}resume(){return this[Ls]()}pause(){this[pu]=!1,this[Ba]=!0}get destroyed(){return this[pt]}get flowing(){return this[pu]}get paused(){return this[Ba]}[zh](e){this[Mt]?this[Ot]+=1:this[Ot]+=e.length,this[dt].push(e)}[Hh](){return this[Mt]?this[Ot]-=1:this[Ot]-=this[dt][0].length,this[dt].shift()}[du](e){do;while(this[Gy](this[Hh]())&&this[dt].length);!e&&!this[dt].length&&!this[En]&&this.emit("drain")}[Gy](e){return this.emit("data",e),this.flowing}pipe(e,r){if(this[pt])return;const n=this[Zn];return r=r||{},e===ky.stdout||e===ky.stderr?r.end=!1:r.end=r.end!==!1,r.proxyErrors=!!r.proxyErrors,n?r.end&&e.end():(this[rn].push(r.proxyErrors?new M3(this,e,r):new Yv(this,e,r)),this[An]?ja(()=>this[Ls]()):this[Ls]()),e}unpipe(e){const r=this[rn].find(n=>n.dest===e);r&&(this[rn].splice(this[rn].indexOf(r),1),r.unpipe())}addListener(e,r){return this.on(e,r)}on(e,r){const n=super.on(e,r);return e==="data"&&!this[rn].length&&!this.flowing?this[Ls]():e==="readable"&&this[Ot]!==0?super.emit("readable"):N3(e)&&this[Zn]?(super.emit(e),this.removeAllListeners(e)):e==="error"&&this[ka]&&(this[An]?ja(()=>r.call(this,this[ka])):r.call(this,this[ka])),n}get emittedEnd(){return this[Zn]}[Sn](){!this[fu]&&!this[Zn]&&!this[pt]&&this[dt].length===0&&this[En]&&(this[fu]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[hu]&&this.emit("close"),this[fu]=!1)}emit(e,r,...n){if(e!=="error"&&e!=="close"&&e!==pt&&this[pt])return;if(e==="data")return!this[Mt]&&!r?!1:this[An]?ja(()=>this[Yh](r)):this[Yh](r);if(e==="end")return this[qy]();if(e==="close"){if(this[hu]=!0,!this[Zn]&&!this[pt])return;const s=super.emit("close");return this.removeAllListeners("close"),s}else if(e==="error"){this[ka]=r,super.emit(Vh,r);const s=!this[qi]||this.listeners("error").length?super.emit("error",r):!1;return this[Sn](),s}else if(e==="resume"){const s=super.emit("resume");return this[Sn](),s}else if(e==="finish"||e==="prefinish"){const s=super.emit(e);return this.removeAllListeners(e),s}const i=super.emit(e,r,...n);return this[Sn](),i}[Yh](e){for(const n of this[rn])n.dest.write(e)===!1&&this.pause();const r=super.emit("data",e);return this[Sn](),r}[qy](){this[Zn]||(this[Zn]=!0,this.readable=!1,this[An]?ja(()=>this[Kh]()):this[Kh]())}[Kh](){if(this[Tn]){const r=this[Tn].end();if(r){for(const n of this[rn])n.dest.write(r);super.emit("data",r)}}for(const r of this[rn])r.end();const e=super.emit("end");return this.removeAllListeners("end"),e}collect(){const e=[];this[Mt]||(e.dataLength=0);const r=this.promise();return this.on("data",n=>{e.push(n),this[Mt]||(e.dataLength+=n.length)}),r.then(()=>e)}concat(){return this[Mt]?Promise.reject(new Error("cannot concat in objectMode")):this.collect().then(e=>this[Mt]?Promise.reject(new Error("cannot concat in objectMode")):this[ir]?e.join(""):Buffer.concat(e,e.dataLength))}promise(){return new Promise((e,r)=>{this.on(pt,()=>r(new Error("stream destroyed"))),this.on("error",n=>r(n)),this.on("end",()=>e())})}[zy](){let e=!1;const r=()=>(this.pause(),e=!0,Promise.resolve({done:!0}));return{next:()=>{if(e)return r();const i=this.read();if(i!==null)return Promise.resolve({done:!1,value:i});if(this[En])return r();let s=null,a=null;const o=h=>{this.removeListener("data",l),this.removeListener("end",c),this.removeListener(pt,u),r(),a(h)},l=h=>{this.removeListener("error",o),this.removeListener("end",c),this.removeListener(pt,u),this.pause(),s({value:h,done:!!this[En]})},c=()=>{this.removeListener("error",o),this.removeListener("data",l),this.removeListener(pt,u),r(),s({done:!0})},u=()=>o(new Error("stream destroyed"));return new Promise((h,d)=>{a=d,s=h,this.once(pt,u),this.once("error",o),this.once("end",c),this.once("data",l)})},throw:r,return:r,[zy](){return this}}}[Hy](){let e=!1;const r=()=>(this.pause(),this.removeListener(Vh,r),this.removeListener(pt,r),this.removeListener("end",r),e=!0,{done:!0}),n=()=>{if(e)return r();const i=this.read();return i===null?r():{value:i}};return this.once("end",r),this.once(Vh,r),this.once(pt,r),{next:n,throw:r,return:r,[Hy](){return this}}}destroy(e){return this[pt]?(e?this.emit("error",e):this.emit(pt),this):(this[pt]=!0,this[dt].length=0,this[Ot]=0,typeof this.close=="function"&&!this[hu]&&this.close(),e?this.emit("error",e):this.emit(pt),this)}static isStream(e){return!!e&&(e instanceof Yp||e instanceof By||e instanceof P3&&(typeof e.pipe=="function"||typeof e.write=="function"&&typeof e.end=="function"))}}Hv.Minipass=Yp;var U3=Be&&Be.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),k3=Be&&Be.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),B3=Be&&Be.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.prototype.hasOwnProperty.call(t,r)&&U3(e,t,r);return k3(e,t),e};Object.defineProperty(nt,"__esModule",{value:!0});nt.PathScurry=nt.Path=nt.PathScurryDarwin=nt.PathScurryPosix=nt.PathScurryWin32=nt.PathScurryBase=nt.PathPosix=nt.PathWin32=nt.PathBase=nt.ChildrenCache=nt.ResolveCache=void 0;const Kv=ff,vc=ot,j3=_w,Ka=vr,W3=B3(x1),G3=Ka.realpathSync.native,mu=sd,Vy=Hv,Xa={lstatSync:Ka.lstatSync,readdir:Ka.readdir,readdirSync:Ka.readdirSync,readlinkSync:Ka.readlinkSync,realpathSync:G3,promises:{lstat:mu.lstat,readdir:mu.readdir,readlink:mu.readlink,realpath:mu.realpath}},Xv=t=>!t||t===Xa||t===W3?Xa:{...Xa,...t,promises:{...Xa.promises,...t.promises||{}}},Zv=/^\\\\\?\\([a-z]:)\\?$/i,q3=t=>t.replace(/\//g,"\\").replace(Zv,"$1\\"),z3=/[\\\/]/,Rr=0,Qv=1,Jv=2,sn=4,eE=6,tE=8,Vi=10,rE=12,xr=15,Wa=~xr,Zh=16,Yy=32,Za=64,Mr=128,yu=256,Pu=512,Ky=Za|Mr|Pu,H3=1023,Qh=t=>t.isFile()?tE:t.isDirectory()?sn:t.isSymbolicLink()?Vi:t.isCharacterDevice()?Jv:t.isBlockDevice()?eE:t.isSocket()?rE:t.isFIFO()?Qv:Rr,Xy=new Map,Qa=t=>{const e=Xy.get(t);if(e)return e;const r=t.normalize("NFKD");return Xy.set(t,r),r},Zy=new Map,wu=t=>{const e=Zy.get(t);if(e)return e;const r=Qa(t.toLowerCase());return Zy.set(t,r),r};class Fd extends Kv.LRUCache{constructor(){super({max:256})}}nt.ResolveCache=Fd;class nE extends Kv.LRUCache{constructor(e=16*1024){super({maxSize:e,sizeCalculation:r=>r.length+1})}}nt.ChildrenCache=nE;const iE=Symbol("PathScurry setAsCwd");var Zt,$o,No,Lo,Fo,Mo,Uo,ko,Bo,jo,Wo,Go,qo,zo,Ho,Vo,Yo,Ko,Xo,ui,ns,on,In,Cn,Dn,$e,is,Pn,ln,Ce,Md,$u,Ja,Ud,kd,eo,Nu,Bd,jd,Lu,sE,aE,oE,Wd,Js,ea,lE,ss;class Yt{constructor(e,r=Rr,n,i,s,a,o){me(this,Ce);oe(this,"name");oe(this,"root");oe(this,"roots");oe(this,"parent");oe(this,"nocase");oe(this,"isCWD",!1);me(this,Zt);me(this,$o);me(this,No);me(this,Lo);me(this,Fo);me(this,Mo);me(this,Uo);me(this,ko);me(this,Bo);me(this,jo);me(this,Wo);me(this,Go);me(this,qo);me(this,zo);me(this,Ho);me(this,Vo);me(this,Yo);me(this,Ko);me(this,Xo);me(this,ui);me(this,ns);me(this,on);me(this,In);me(this,Cn);me(this,Dn);me(this,$e);me(this,is);me(this,Pn);me(this,ln);me(this,Js,[]);me(this,ea,!1);me(this,ss);this.name=e,ee(this,ui,s?wu(e):Qa(e)),ee(this,$e,r&H3),this.nocase=s,this.roots=i,this.root=n||this,ee(this,is,a),ee(this,on,o.fullpath),ee(this,Cn,o.relative),ee(this,Dn,o.relativePosix),this.parent=o.parent,this.parent?ee(this,Zt,y(this.parent,Zt)):ee(this,Zt,Xv(o.fs))}get dev(){return y(this,$o)}get mode(){return y(this,No)}get nlink(){return y(this,Lo)}get uid(){return y(this,Fo)}get gid(){return y(this,Mo)}get rdev(){return y(this,Uo)}get blksize(){return y(this,ko)}get ino(){return y(this,Bo)}get size(){return y(this,jo)}get blocks(){return y(this,Wo)}get atimeMs(){return y(this,Go)}get mtimeMs(){return y(this,qo)}get ctimeMs(){return y(this,zo)}get birthtimeMs(){return y(this,Ho)}get atime(){return y(this,Vo)}get mtime(){return y(this,Yo)}get ctime(){return y(this,Ko)}get birthtime(){return y(this,Xo)}get parentPath(){return(this.parent||this).fullpath()}get path(){return this.parentPath}depth(){return y(this,ns)!==void 0?y(this,ns):this.parent?ee(this,ns,this.parent.depth()+1):ee(this,ns,0)}childrenCache(){return y(this,is)}resolve(e){var a;if(!e)return this;const r=this.getRootString(e),i=e.substring(r.length).split(this.splitSep);return r?he(a=this.getRoot(r),Ce,Md).call(a,i):he(this,Ce,Md).call(this,i)}children(){const e=y(this,is).get(this);if(e)return e;const r=Object.assign([],{provisional:0});return y(this,is).set(this,r),ee(this,$e,y(this,$e)&~Zh),r}child(e,r){if(e===""||e===".")return this;if(e==="..")return this.parent||this;const n=this.children(),i=this.nocase?wu(e):Qa(e);for(const l of n)if(y(l,ui)===i)return l;const s=this.parent?this.sep:"",a=y(this,on)?y(this,on)+s+e:void 0,o=this.newChild(e,Rr,{...r,parent:this,fullpath:a});return this.canReaddir()||ee(o,$e,y(o,$e)|Mr),n.push(o),o}relative(){if(this.isCWD)return"";if(y(this,Cn)!==void 0)return y(this,Cn);const e=this.name,r=this.parent;if(!r)return ee(this,Cn,this.name);const n=r.relative();return n+(!n||!r.parent?"":this.sep)+e}relativePosix(){if(this.sep==="/")return this.relative();if(this.isCWD)return"";if(y(this,Dn)!==void 0)return y(this,Dn);const e=this.name,r=this.parent;if(!r)return ee(this,Dn,this.fullpathPosix());const n=r.relativePosix();return n+(!n||!r.parent?"":"/")+e}fullpath(){if(y(this,on)!==void 0)return y(this,on);const e=this.name,r=this.parent;if(!r)return ee(this,on,this.name);const i=r.fullpath()+(r.parent?this.sep:"")+e;return ee(this,on,i)}fullpathPosix(){if(y(this,In)!==void 0)return y(this,In);if(this.sep==="/")return ee(this,In,this.fullpath());if(!this.parent){const i=this.fullpath().replace(/\\/g,"/");return/^[a-z]:\//i.test(i)?ee(this,In,`//?/${i}`):ee(this,In,i)}const e=this.parent,r=e.fullpathPosix(),n=r+(!r||!e.parent?"":"/")+this.name;return ee(this,In,n)}isUnknown(){return(y(this,$e)&xr)===Rr}isType(e){return this[`is${e}`]()}getType(){return this.isUnknown()?"Unknown":this.isDirectory()?"Directory":this.isFile()?"File":this.isSymbolicLink()?"SymbolicLink":this.isFIFO()?"FIFO":this.isCharacterDevice()?"CharacterDevice":this.isBlockDevice()?"BlockDevice":this.isSocket()?"Socket":"Unknown"}isFile(){return(y(this,$e)&xr)===tE}isDirectory(){return(y(this,$e)&xr)===sn}isCharacterDevice(){return(y(this,$e)&xr)===Jv}isBlockDevice(){return(y(this,$e)&xr)===eE}isFIFO(){return(y(this,$e)&xr)===Qv}isSocket(){return(y(this,$e)&xr)===rE}isSymbolicLink(){return(y(this,$e)&Vi)===Vi}lstatCached(){return y(this,$e)&Yy?this:void 0}readlinkCached(){return y(this,Pn)}realpathCached(){return y(this,ln)}readdirCached(){const e=this.children();return e.slice(0,e.provisional)}canReadlink(){if(y(this,Pn))return!0;if(!this.parent)return!1;const e=y(this,$e)&xr;return!(e!==Rr&&e!==Vi||y(this,$e)&yu||y(this,$e)&Mr)}calledReaddir(){return!!(y(this,$e)&Zh)}isENOENT(){return!!(y(this,$e)&Mr)}isNamed(e){return this.nocase?y(this,ui)===wu(e):y(this,ui)===Qa(e)}async readlink(){var r;const e=y(this,Pn);if(e)return e;if(this.canReadlink()&&this.parent)try{const n=await y(this,Zt).promises.readlink(this.fullpath()),i=(r=await this.parent.realpath())==null?void 0:r.resolve(n);if(i)return ee(this,Pn,i)}catch(n){he(this,Ce,jd).call(this,n.code);return}}readlinkSync(){var r;const e=y(this,Pn);if(e)return e;if(this.canReadlink()&&this.parent)try{const n=y(this,Zt).readlinkSync(this.fullpath()),i=(r=this.parent.realpathSync())==null?void 0:r.resolve(n);if(i)return ee(this,Pn,i)}catch(n){he(this,Ce,jd).call(this,n.code);return}}async lstat(){if(!(y(this,$e)&Mr))try{return he(this,Ce,Wd).call(this,await y(this,Zt).promises.lstat(this.fullpath())),this}catch(e){he(this,Ce,Bd).call(this,e.code)}}lstatSync(){if(!(y(this,$e)&Mr))try{return he(this,Ce,Wd).call(this,y(this,Zt).lstatSync(this.fullpath())),this}catch(e){he(this,Ce,Bd).call(this,e.code)}}readdirCB(e,r=!1){if(!this.canReaddir()){r?e(null,[]):queueMicrotask(()=>e(null,[]));return}const n=this.children();if(this.calledReaddir()){const s=n.slice(0,n.provisional);r?e(null,s):queueMicrotask(()=>e(null,s));return}if(y(this,Js).push(e),y(this,ea))return;ee(this,ea,!0);const i=this.fullpath();y(this,Zt).readdir(i,{withFileTypes:!0},(s,a)=>{if(s)he(this,Ce,Nu).call(this,s.code),n.provisional=0;else{for(const o of a)he(this,Ce,Lu).call(this,o,n);he(this,Ce,$u).call(this,n)}he(this,Ce,lE).call(this,n.slice(0,n.provisional))})}async readdir(){if(!this.canReaddir())return[];const e=this.children();if(this.calledReaddir())return e.slice(0,e.provisional);const r=this.fullpath();if(y(this,ss))await y(this,ss);else{let n=()=>{};ee(this,ss,new Promise(i=>n=i));try{for(const i of await y(this,Zt).promises.readdir(r,{withFileTypes:!0}))he(this,Ce,Lu).call(this,i,e);he(this,Ce,$u).call(this,e)}catch(i){he(this,Ce,Nu).call(this,i.code),e.provisional=0}ee(this,ss,void 0),n()}return e.slice(0,e.provisional)}readdirSync(){if(!this.canReaddir())return[];const e=this.children();if(this.calledReaddir())return e.slice(0,e.provisional);const r=this.fullpath();try{for(const n of y(this,Zt).readdirSync(r,{withFileTypes:!0}))he(this,Ce,Lu).call(this,n,e);he(this,Ce,$u).call(this,e)}catch(n){he(this,Ce,Nu).call(this,n.code),e.provisional=0}return e.slice(0,e.provisional)}canReaddir(){if(y(this,$e)&Ky)return!1;const e=xr&y(this,$e);return e===Rr||e===sn||e===Vi}shouldWalk(e,r){return(y(this,$e)&sn)===sn&&!(y(this,$e)&Ky)&&!e.has(this)&&(!r||r(this))}async realpath(){if(y(this,ln))return y(this,ln);if(!((Pu|yu|Mr)&y(this,$e)))try{const e=await y(this,Zt).promises.realpath(this.fullpath());return ee(this,ln,this.resolve(e))}catch{he(this,Ce,kd).call(this)}}realpathSync(){if(y(this,ln))return y(this,ln);if(!((Pu|yu|Mr)&y(this,$e)))try{const e=y(this,Zt).realpathSync(this.fullpath());return ee(this,ln,this.resolve(e))}catch{he(this,Ce,kd).call(this)}}[iE](e){if(e===this)return;e.isCWD=!1,this.isCWD=!0;const r=new Set([]);let n=[],i=this;for(;i&&i.parent;)r.add(i),ee(i,Cn,n.join(this.sep)),ee(i,Dn,n.join("/")),i=i.parent,n.push("..");for(i=e;i&&i.parent&&!r.has(i);)ee(i,Cn,void 0),ee(i,Dn,void 0),i=i.parent}}Zt=new WeakMap,$o=new WeakMap,No=new WeakMap,Lo=new WeakMap,Fo=new WeakMap,Mo=new WeakMap,Uo=new WeakMap,ko=new WeakMap,Bo=new WeakMap,jo=new WeakMap,Wo=new WeakMap,Go=new WeakMap,qo=new WeakMap,zo=new WeakMap,Ho=new WeakMap,Vo=new WeakMap,Yo=new WeakMap,Ko=new WeakMap,Xo=new WeakMap,ui=new WeakMap,ns=new WeakMap,on=new WeakMap,In=new WeakMap,Cn=new WeakMap,Dn=new WeakMap,$e=new WeakMap,is=new WeakMap,Pn=new WeakMap,ln=new WeakMap,Ce=new WeakSet,Md=function(e){let r=this;for(const n of e)r=r.child(n);return r},$u=function(e){var r;ee(this,$e,y(this,$e)|Zh);for(let n=e.provisional;n<e.length;n++){const i=e[n];i&&he(r=i,Ce,Ja).call(r)}},Ja=function(){y(this,$e)&Mr||(ee(this,$e,(y(this,$e)|Mr)&Wa),he(this,Ce,Ud).call(this))},Ud=function(){var r;const e=this.children();e.provisional=0;for(const n of e)he(r=n,Ce,Ja).call(r)},kd=function(){ee(this,$e,y(this,$e)|Pu),he(this,Ce,eo).call(this)},eo=function(){if(y(this,$e)&Za)return;let e=y(this,$e);(e&xr)===sn&&(e&=Wa),ee(this,$e,e|Za),he(this,Ce,Ud).call(this)},Nu=function(e=""){e==="ENOTDIR"||e==="EPERM"?he(this,Ce,eo).call(this):e==="ENOENT"?he(this,Ce,Ja).call(this):this.children().provisional=0},Bd=function(e=""){var r;if(e==="ENOTDIR"){const n=this.parent;he(r=n,Ce,eo).call(r)}else e==="ENOENT"&&he(this,Ce,Ja).call(this)},jd=function(e=""){var n;let r=y(this,$e);r|=yu,e==="ENOENT"&&(r|=Mr),(e==="EINVAL"||e==="UNKNOWN")&&(r&=Wa),ee(this,$e,r),e==="ENOTDIR"&&this.parent&&he(n=this.parent,Ce,eo).call(n)},Lu=function(e,r){return he(this,Ce,aE).call(this,e,r)||he(this,Ce,sE).call(this,e,r)},sE=function(e,r){const n=Qh(e),i=this.newChild(e.name,n,{parent:this}),s=y(i,$e)&xr;return s!==sn&&s!==Vi&&s!==Rr&&ee(i,$e,y(i,$e)|Za),r.unshift(i),r.provisional++,i},aE=function(e,r){for(let n=r.provisional;n<r.length;n++){const i=r[n];if((this.nocase?wu(e.name):Qa(e.name))===y(i,ui))return he(this,Ce,oE).call(this,e,i,n,r)}},oE=function(e,r,n,i){const s=r.name;return ee(r,$e,y(r,$e)&Wa|Qh(e)),s!==e.name&&(r.name=e.name),n!==i.provisional&&(n===i.length-1?i.pop():i.splice(n,1),i.unshift(r)),i.provisional++,r},Wd=function(e){const{atime:r,atimeMs:n,birthtime:i,birthtimeMs:s,blksize:a,blocks:o,ctime:l,ctimeMs:c,dev:u,gid:h,ino:d,mode:b,mtime:T,mtimeMs:w,nlink:E,rdev:p,size:m,uid:v}=e;ee(this,Vo,r),ee(this,Go,n),ee(this,Xo,i),ee(this,Ho,s),ee(this,ko,a),ee(this,Wo,o),ee(this,Ko,l),ee(this,zo,c),ee(this,$o,u),ee(this,Mo,h),ee(this,Bo,d),ee(this,No,b),ee(this,Yo,T),ee(this,qo,w),ee(this,Lo,E),ee(this,Uo,p),ee(this,jo,m),ee(this,Fo,v);const N=Qh(e);ee(this,$e,y(this,$e)&Wa|N|Yy),N!==Rr&&N!==sn&&N!==Vi&&ee(this,$e,y(this,$e)|Za)},Js=new WeakMap,ea=new WeakMap,lE=function(e){ee(this,ea,!1);const r=y(this,Js).slice();y(this,Js).length=0,r.forEach(n=>n(null,e))},ss=new WeakMap;nt.PathBase=Yt;class _l extends Yt{constructor(r,n=Rr,i,s,a,o,l){super(r,n,i,s,a,o,l);oe(this,"sep","\\");oe(this,"splitSep",z3)}newChild(r,n=Rr,i={}){return new _l(r,n,this.root,this.roots,this.nocase,this.childrenCache(),i)}getRootString(r){return vc.win32.parse(r).root}getRoot(r){if(r=q3(r.toUpperCase()),r===this.root.name)return this.root;for(const[n,i]of Object.entries(this.roots))if(this.sameRoot(r,n))return this.roots[r]=i;return this.roots[r]=new Xp(r,this).root}sameRoot(r,n=this.root.name){return r=r.toUpperCase().replace(/\//g,"\\").replace(Zv,"$1\\"),r===n}}nt.PathWin32=_l;class bl extends Yt{constructor(r,n=Rr,i,s,a,o,l){super(r,n,i,s,a,o,l);oe(this,"splitSep","/");oe(this,"sep","/")}getRootString(r){return r.startsWith("/")?"/":""}getRoot(r){return this.root}newChild(r,n=Rr,i={}){return new bl(r,n,this.root,this.roots,this.nocase,this.childrenCache(),i)}}nt.PathPosix=bl;var ta,ra,Zo,Qo;class Kp{constructor(e=process.cwd(),r,n,{nocase:i,childrenCacheSize:s=16*1024,fs:a=Xa}={}){oe(this,"root");oe(this,"rootPath");oe(this,"roots");oe(this,"cwd");me(this,ta);me(this,ra);me(this,Zo);oe(this,"nocase");me(this,Qo);ee(this,Qo,Xv(a)),(e instanceof URL||e.startsWith("file://"))&&(e=(0,j3.fileURLToPath)(e));const o=r.resolve(e);this.roots=Object.create(null),this.rootPath=this.parseRootPath(o),ee(this,ta,new Fd),ee(this,ra,new Fd),ee(this,Zo,new nE(s));const l=o.substring(this.rootPath.length).split(n);if(l.length===1&&!l[0]&&l.pop(),i===void 0)throw new TypeError("must provide nocase setting to PathScurryBase ctor");this.nocase=i,this.root=this.newRoot(y(this,Qo)),this.roots[this.rootPath]=this.root;let c=this.root,u=l.length-1;const h=r.sep;let d=this.rootPath,b=!1;for(const T of l){const w=u--;c=c.child(T,{relative:new Array(w).fill("..").join(h),relativePosix:new Array(w).fill("..").join("/"),fullpath:d+=(b?"":h)+T}),b=!0}this.cwd=c}depth(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.depth()}childrenCache(){return y(this,Zo)}resolve(...e){let r="";for(let s=e.length-1;s>=0;s--){const a=e[s];if(!(!a||a===".")&&(r=r?`${a}/${r}`:a,this.isAbsolute(a)))break}const n=y(this,ta).get(r);if(n!==void 0)return n;const i=this.cwd.resolve(r).fullpath();return y(this,ta).set(r,i),i}resolvePosix(...e){let r="";for(let s=e.length-1;s>=0;s--){const a=e[s];if(!(!a||a===".")&&(r=r?`${a}/${r}`:a,this.isAbsolute(a)))break}const n=y(this,ra).get(r);if(n!==void 0)return n;const i=this.cwd.resolve(r).fullpathPosix();return y(this,ra).set(r,i),i}relative(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.relative()}relativePosix(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.relativePosix()}basename(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.name}dirname(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),(e.parent||e).fullpath()}async readdir(e=this.cwd,r={withFileTypes:!0}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Yt||(r=e,e=this.cwd);const{withFileTypes:n}=r;if(e.canReaddir()){const i=await e.readdir();return n?i:i.map(s=>s.name)}else return[]}readdirSync(e=this.cwd,r={withFileTypes:!0}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Yt||(r=e,e=this.cwd);const{withFileTypes:n=!0}=r;return e.canReaddir()?n?e.readdirSync():e.readdirSync().map(i=>i.name):[]}async lstat(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.lstat()}lstatSync(e=this.cwd){return typeof e=="string"&&(e=this.cwd.resolve(e)),e.lstatSync()}async readlink(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Yt||(r=e.withFileTypes,e=this.cwd);const n=await e.readlink();return r?n:n==null?void 0:n.fullpath()}readlinkSync(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Yt||(r=e.withFileTypes,e=this.cwd);const n=e.readlinkSync();return r?n:n==null?void 0:n.fullpath()}async realpath(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Yt||(r=e.withFileTypes,e=this.cwd);const n=await e.realpath();return r?n:n==null?void 0:n.fullpath()}realpathSync(e=this.cwd,{withFileTypes:r}={withFileTypes:!1}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Yt||(r=e.withFileTypes,e=this.cwd);const n=e.realpathSync();return r?n:n==null?void 0:n.fullpath()}async walk(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Yt||(r=e,e=this.cwd);const{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:a}=r,o=[];(!s||s(e))&&o.push(n?e:e.fullpath());const l=new Set,c=(h,d)=>{l.add(h),h.readdirCB((b,T)=>{if(b)return d(b);let w=T.length;if(!w)return d();const E=()=>{--w===0&&d()};for(const p of T)(!s||s(p))&&o.push(n?p:p.fullpath()),i&&p.isSymbolicLink()?p.realpath().then(m=>m!=null&&m.isUnknown()?m.lstat():m).then(m=>m!=null&&m.shouldWalk(l,a)?c(m,E):E()):p.shouldWalk(l,a)?c(p,E):E()},!0)},u=e;return new Promise((h,d)=>{c(u,b=>{if(b)return d(b);h(o)})})}walkSync(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Yt||(r=e,e=this.cwd);const{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:a}=r,o=[];(!s||s(e))&&o.push(n?e:e.fullpath());const l=new Set([e]);for(const c of l){const u=c.readdirSync();for(const h of u){(!s||s(h))&&o.push(n?h:h.fullpath());let d=h;if(h.isSymbolicLink()){if(!(i&&(d=h.realpathSync())))continue;d.isUnknown()&&d.lstatSync()}d.shouldWalk(l,a)&&l.add(d)}}return o}[Symbol.asyncIterator](){return this.iterate()}iterate(e=this.cwd,r={}){return typeof e=="string"?e=this.cwd.resolve(e):e instanceof Yt||(r=e,e=this.cwd),this.stream(e,r)[Symbol.asyncIterator]()}[Symbol.iterator](){return this.iterateSync()}*iterateSync(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Yt||(r=e,e=this.cwd);const{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:a}=r;(!s||s(e))&&(yield n?e:e.fullpath());const o=new Set([e]);for(const l of o){const c=l.readdirSync();for(const u of c){(!s||s(u))&&(yield n?u:u.fullpath());let h=u;if(u.isSymbolicLink()){if(!(i&&(h=u.realpathSync())))continue;h.isUnknown()&&h.lstatSync()}h.shouldWalk(o,a)&&o.add(h)}}}stream(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Yt||(r=e,e=this.cwd);const{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:a}=r,o=new Vy.Minipass({objectMode:!0});(!s||s(e))&&o.write(n?e:e.fullpath());const l=new Set,c=[e];let u=0;const h=()=>{let d=!1;for(;!d;){const b=c.shift();if(!b){u===0&&o.end();return}u++,l.add(b);const T=(E,p,m=!1)=>{if(E)return o.emit("error",E);if(i&&!m){const v=[];for(const N of p)N.isSymbolicLink()&&v.push(N.realpath().then(z=>z!=null&&z.isUnknown()?z.lstat():z));if(v.length){Promise.all(v).then(()=>T(null,p,!0));return}}for(const v of p)v&&(!s||s(v))&&(o.write(n?v:v.fullpath())||(d=!0));u--;for(const v of p){const N=v.realpathCached()||v;N.shouldWalk(l,a)&&c.push(N)}d&&!o.flowing?o.once("drain",h):w||h()};let w=!0;b.readdirCB(T,!0),w=!1}};return h(),o}streamSync(e=this.cwd,r={}){typeof e=="string"?e=this.cwd.resolve(e):e instanceof Yt||(r=e,e=this.cwd);const{withFileTypes:n=!0,follow:i=!1,filter:s,walkFilter:a}=r,o=new Vy.Minipass({objectMode:!0}),l=new Set;(!s||s(e))&&o.write(n?e:e.fullpath());const c=[e];let u=0;const h=()=>{let d=!1;for(;!d;){const b=c.shift();if(!b){u===0&&o.end();return}u++,l.add(b);const T=b.readdirSync();for(const w of T)(!s||s(w))&&(o.write(n?w:w.fullpath())||(d=!0));u--;for(const w of T){let E=w;if(w.isSymbolicLink()){if(!(i&&(E=w.realpathSync())))continue;E.isUnknown()&&E.lstatSync()}E.shouldWalk(l,a)&&c.push(E)}}d&&!o.flowing&&o.once("drain",h)};return h(),o}chdir(e=this.cwd){const r=this.cwd;this.cwd=typeof e=="string"?this.cwd.resolve(e):e,this.cwd[iE](r)}}ta=new WeakMap,ra=new WeakMap,Zo=new WeakMap,Qo=new WeakMap;nt.PathScurryBase=Kp;class Xp extends Kp{constructor(r=process.cwd(),n={}){const{nocase:i=!0}=n;super(r,vc.win32,"\\",{...n,nocase:i});oe(this,"sep","\\");this.nocase=i;for(let s=this.cwd;s;s=s.parent)s.nocase=this.nocase}parseRootPath(r){return vc.win32.parse(r).root.toUpperCase()}newRoot(r){return new _l(this.rootPath,sn,void 0,this.roots,this.nocase,this.childrenCache(),{fs:r})}isAbsolute(r){return r.startsWith("/")||r.startsWith("\\")||/^[a-z]:(\/|\\)/i.test(r)}}nt.PathScurryWin32=Xp;class Zp extends Kp{constructor(r=process.cwd(),n={}){const{nocase:i=!1}=n;super(r,vc.posix,"/",{...n,nocase:i});oe(this,"sep","/");this.nocase=i}parseRootPath(r){return"/"}newRoot(r){return new bl(this.rootPath,sn,void 0,this.roots,this.nocase,this.childrenCache(),{fs:r})}isAbsolute(r){return r.startsWith("/")}}nt.PathScurryPosix=Zp;class uE extends Zp{constructor(e=process.cwd(),r={}){const{nocase:n=!0}=r;super(e,{...r,nocase:n})}}nt.PathScurryDarwin=uE;nt.Path=process.platform==="win32"?_l:bl;nt.PathScurry=process.platform==="win32"?Xp:process.platform==="darwin"?uE:Zp;var vl={};Object.defineProperty(vl,"__esModule",{value:!0});vl.Pattern=void 0;const V3=xi,Y3=t=>t.length>=1,K3=t=>t.length>=1;var Tt,mr,Pt,as,Vr,Jo,ci,fi,hi,na;const Ag=class Ag{constructor(e,r,n,i){me(this,Tt);me(this,mr);me(this,Pt);oe(this,"length");me(this,as);me(this,Vr);me(this,Jo);me(this,ci);me(this,fi);me(this,hi);me(this,na,!0);if(!Y3(e))throw new TypeError("empty pattern list");if(!K3(r))throw new TypeError("empty glob list");if(r.length!==e.length)throw new TypeError("mismatched pattern list and glob list lengths");if(this.length=e.length,n<0||n>=this.length)throw new TypeError("index out of range");if(ee(this,Tt,e),ee(this,mr,r),ee(this,Pt,n),ee(this,as,i),y(this,Pt)===0){if(this.isUNC()){const[s,a,o,l,...c]=y(this,Tt),[u,h,d,b,...T]=y(this,mr);c[0]===""&&(c.shift(),T.shift());const w=[s,a,o,l,""].join("/"),E=[u,h,d,b,""].join("/");ee(this,Tt,[w,...c]),ee(this,mr,[E,...T]),this.length=y(this,Tt).length}else if(this.isDrive()||this.isAbsolute()){const[s,...a]=y(this,Tt),[o,...l]=y(this,mr);a[0]===""&&(a.shift(),l.shift());const c=s+"/",u=o+"/";ee(this,Tt,[c,...a]),ee(this,mr,[u,...l]),this.length=y(this,Tt).length}}}pattern(){return y(this,Tt)[y(this,Pt)]}isString(){return typeof y(this,Tt)[y(this,Pt)]=="string"}isGlobstar(){return y(this,Tt)[y(this,Pt)]===V3.GLOBSTAR}isRegExp(){return y(this,Tt)[y(this,Pt)]instanceof RegExp}globString(){return ee(this,Jo,y(this,Jo)||(y(this,Pt)===0?this.isAbsolute()?y(this,mr)[0]+y(this,mr).slice(1).join("/"):y(this,mr).join("/"):y(this,mr).slice(y(this,Pt)).join("/")))}hasMore(){return this.length>y(this,Pt)+1}rest(){return y(this,Vr)!==void 0?y(this,Vr):this.hasMore()?(ee(this,Vr,new Ag(y(this,Tt),y(this,mr),y(this,Pt)+1,y(this,as))),ee(y(this,Vr),hi,y(this,hi)),ee(y(this,Vr),fi,y(this,fi)),ee(y(this,Vr),ci,y(this,ci)),y(this,Vr)):ee(this,Vr,null)}isUNC(){const e=y(this,Tt);return y(this,fi)!==void 0?y(this,fi):ee(this,fi,y(this,as)==="win32"&&y(this,Pt)===0&&e[0]===""&&e[1]===""&&typeof e[2]=="string"&&!!e[2]&&typeof e[3]=="string"&&!!e[3])}isDrive(){const e=y(this,Tt);return y(this,ci)!==void 0?y(this,ci):ee(this,ci,y(this,as)==="win32"&&y(this,Pt)===0&&this.length>1&&typeof e[0]=="string"&&/^[a-z]:$/i.test(e[0]))}isAbsolute(){const e=y(this,Tt);return y(this,hi)!==void 0?y(this,hi):ee(this,hi,e[0]===""&&e.length>1||this.isDrive()||this.isUNC())}root(){const e=y(this,Tt)[0];return typeof e=="string"&&this.isAbsolute()&&y(this,Pt)===0?e:""}checkFollowGlobstar(){return!(y(this,Pt)===0||!this.isGlobstar()||!y(this,na))}markFollowGlobstar(){return y(this,Pt)===0||!this.isGlobstar()||!y(this,na)?!1:(ee(this,na,!1),!0)}};Tt=new WeakMap,mr=new WeakMap,Pt=new WeakMap,as=new WeakMap,Vr=new WeakMap,Jo=new WeakMap,ci=new WeakMap,fi=new WeakMap,hi=new WeakMap,na=new WeakMap;let Gd=Ag;vl.Pattern=Gd;var wi={},cE={};(function(t){var C,B,te,ae,le,q,re,ce,ie,Re,Ge,De,gt,Ye,mt,yt,Ke,ct,mn;var e=Be&&Be.__importDefault||function(Oe){return Oe&&Oe.__esModule?Oe:{default:Oe}};Object.defineProperty(t,"__esModule",{value:!0}),t.Minipass=t.isWritable=t.isReadable=t.isStream=void 0;const r=typeof process=="object"&&process?process:{stdout:null,stderr:null},n=R1,i=e(O1),s=I1,a=Oe=>!!Oe&&typeof Oe=="object"&&(Oe instanceof A||Oe instanceof i.default||(0,t.isReadable)(Oe)||(0,t.isWritable)(Oe));t.isStream=a;const o=Oe=>!!Oe&&typeof Oe=="object"&&Oe instanceof n.EventEmitter&&typeof Oe.pipe=="function"&&Oe.pipe!==i.default.Writable.prototype.pipe;t.isReadable=o;const l=Oe=>!!Oe&&typeof Oe=="object"&&Oe instanceof n.EventEmitter&&typeof Oe.write=="function"&&typeof Oe.end=="function";t.isWritable=l;const c=Symbol("EOF"),u=Symbol("maybeEmitEnd"),h=Symbol("emittedEnd"),d=Symbol("emittingEnd"),b=Symbol("emittedError"),T=Symbol("closed"),w=Symbol("read"),E=Symbol("flush"),p=Symbol("flushChunk"),m=Symbol("encoding"),v=Symbol("decoder"),N=Symbol("flowing"),z=Symbol("paused"),ue=Symbol("resume"),Q=Symbol("buffer"),G=Symbol("pipes"),R=Symbol("bufferLength"),k=Symbol("bufferPush"),W=Symbol("bufferShift"),H=Symbol("objectMode"),j=Symbol("destroyed"),X=Symbol("error"),Y=Symbol("emitData"),ne=Symbol("emitEnd"),P=Symbol("emitEnd2"),x=Symbol("async"),U=Symbol("abort"),O=Symbol("aborted"),V=Symbol("signal"),J=Symbol("dataListeners"),Z=Symbol("discarded"),ge=Oe=>Promise.resolve().then(Oe),fe=Oe=>Oe(),Ee=Oe=>Oe==="end"||Oe==="finish"||Oe==="prefinish",g=Oe=>Oe instanceof ArrayBuffer||!!Oe&&typeof Oe=="object"&&Oe.constructor&&Oe.constructor.name==="ArrayBuffer"&&Oe.byteLength>=0,f=Oe=>!Buffer.isBuffer(Oe)&&ArrayBuffer.isView(Oe);class I{constructor(lr,se,de){oe(this,"src");oe(this,"dest");oe(this,"opts");oe(this,"ondrain");this.src=lr,this.dest=se,this.opts=de,this.ondrain=()=>lr[ue](),this.dest.on("drain",this.ondrain)}unpipe(){this.dest.removeListener("drain",this.ondrain)}proxyErrors(lr){}end(){this.unpipe(),this.opts.end&&this.dest.end()}}class S extends I{unpipe(){this.src.removeListener("error",this.proxyErrors),super.unpipe()}constructor(lr,se,de){super(lr,se,de),this.proxyErrors=Ae=>se.emit("error",Ae),lr.on("error",this.proxyErrors)}}const D=Oe=>!!Oe.objectMode,F=Oe=>!Oe.objectMode&&!!Oe.encoding&&Oe.encoding!=="buffer";class A extends n.EventEmitter{constructor(...se){const de=se[0]||{};super();oe(this,mn,!1);oe(this,ct,!1);oe(this,Ke,[]);oe(this,yt,[]);oe(this,mt);oe(this,Ye);oe(this,gt);oe(this,De);oe(this,Ge,!1);oe(this,Re,!1);oe(this,ie,!1);oe(this,ce,!1);oe(this,re,null);oe(this,q,0);oe(this,le,!1);oe(this,ae);oe(this,te,!1);oe(this,B,0);oe(this,C,!1);oe(this,"writable",!0);oe(this,"readable",!0);if(de.objectMode&&typeof de.encoding=="string")throw new TypeError("Encoding and objectMode may not be used together");D(de)?(this[H]=!0,this[m]=null):F(de)?(this[m]=de.encoding,this[H]=!1):(this[H]=!1,this[m]=null),this[x]=!!de.async,this[v]=this[m]?new s.StringDecoder(this[m]):null,de&&de.debugExposeBuffer===!0&&Object.defineProperty(this,"buffer",{get:()=>this[Q]}),de&&de.debugExposePipes===!0&&Object.defineProperty(this,"pipes",{get:()=>this[G]});const{signal:Ae}=de;Ae&&(this[V]=Ae,Ae.aborted?this[U]():Ae.addEventListener("abort",()=>this[U]()))}get bufferLength(){return this[R]}get encoding(){return this[m]}set encoding(se){throw new Error("Encoding must be set at instantiation time")}setEncoding(se){throw new Error("Encoding must be set at instantiation time")}get objectMode(){return this[H]}set objectMode(se){throw new Error("objectMode must be set at instantiation time")}get async(){return this[x]}set async(se){this[x]=this[x]||!!se}[(mn=N,ct=z,Ke=G,yt=Q,mt=H,Ye=m,gt=x,De=v,Ge=c,Re=h,ie=d,ce=T,re=b,q=R,le=j,ae=V,te=O,B=J,C=Z,U)](){var se,de;this[O]=!0,this.emit("abort",(se=this[V])==null?void 0:se.reason),this.destroy((de=this[V])==null?void 0:de.reason)}get aborted(){return this[O]}set aborted(se){}write(se,de,Ae){var Xe;if(this[O])return!1;if(this[c])throw new Error("write after end");if(this[j])return this.emit("error",Object.assign(new Error("Cannot call write after a stream was destroyed"),{code:"ERR_STREAM_DESTROYED"})),!0;typeof de=="function"&&(Ae=de,de="utf8"),de||(de="utf8");const vt=this[x]?ge:fe;if(!this[H]&&!Buffer.isBuffer(se)){if(f(se))se=Buffer.from(se.buffer,se.byteOffset,se.byteLength);else if(g(se))se=Buffer.from(se);else if(typeof se!="string")throw new Error("Non-contiguous data written to non-objectMode stream")}return this[H]?(this[N]&&this[R]!==0&&this[E](!0),this[N]?this.emit("data",se):this[k](se),this[R]!==0&&this.emit("readable"),Ae&&vt(Ae),this[N]):se.length?(typeof se=="string"&&!(de===this[m]&&!((Xe=this[v])!=null&&Xe.lastNeed))&&(se=Buffer.from(se,de)),Buffer.isBuffer(se)&&this[m]&&(se=this[v].write(se)),this[N]&&this[R]!==0&&this[E](!0),this[N]?this.emit("data",se):this[k](se),this[R]!==0&&this.emit("readable"),Ae&&vt(Ae),this[N]):(this[R]!==0&&this.emit("readable"),Ae&&vt(Ae),this[N])}read(se){if(this[j])return null;if(this[Z]=!1,this[R]===0||se===0||se&&se>this[R])return this[u](),null;this[H]&&(se=null),this[Q].length>1&&!this[H]&&(this[Q]=[this[m]?this[Q].join(""):Buffer.concat(this[Q],this[R])]);const de=this[w](se||null,this[Q][0]);return this[u](),de}[w](se,de){if(this[H])this[W]();else{const Ae=de;se===Ae.length||se===null?this[W]():typeof Ae=="string"?(this[Q][0]=Ae.slice(se),de=Ae.slice(0,se),this[R]-=se):(this[Q][0]=Ae.subarray(se),de=Ae.subarray(0,se),this[R]-=se)}return this.emit("data",de),!this[Q].length&&!this[c]&&this.emit("drain"),de}end(se,de,Ae){return typeof se=="function"&&(Ae=se,se=void 0),typeof de=="function"&&(Ae=de,de="utf8"),se!==void 0&&this.write(se,de),Ae&&this.once("end",Ae),this[c]=!0,this.writable=!1,(this[N]||!this[z])&&this[u](),this}[ue](){this[j]||(!this[J]&&!this[G].length&&(this[Z]=!0),this[z]=!1,this[N]=!0,this.emit("resume"),this[Q].length?this[E]():this[c]?this[u]():this.emit("drain"))}resume(){return this[ue]()}pause(){this[N]=!1,this[z]=!0,this[Z]=!1}get destroyed(){return this[j]}get flowing(){return this[N]}get paused(){return this[z]}[k](se){this[H]?this[R]+=1:this[R]+=se.length,this[Q].push(se)}[W](){return this[H]?this[R]-=1:this[R]-=this[Q][0].length,this[Q].shift()}[E](se=!1){do;while(this[p](this[W]())&&this[Q].length);!se&&!this[Q].length&&!this[c]&&this.emit("drain")}[p](se){return this.emit("data",se),this[N]}pipe(se,de){if(this[j])return se;this[Z]=!1;const Ae=this[h];return de=de||{},se===r.stdout||se===r.stderr?de.end=!1:de.end=de.end!==!1,de.proxyErrors=!!de.proxyErrors,Ae?de.end&&se.end():(this[G].push(de.proxyErrors?new S(this,se,de):new I(this,se,de)),this[x]?ge(()=>this[ue]()):this[ue]()),se}unpipe(se){const de=this[G].find(Ae=>Ae.dest===se);de&&(this[G].length===1?(this[N]&&this[J]===0&&(this[N]=!1),this[G]=[]):this[G].splice(this[G].indexOf(de),1),de.unpipe())}addListener(se,de){return this.on(se,de)}on(se,de){const Ae=super.on(se,de);if(se==="data")this[Z]=!1,this[J]++,!this[G].length&&!this[N]&&this[ue]();else if(se==="readable"&&this[R]!==0)super.emit("readable");else if(Ee(se)&&this[h])super.emit(se),this.removeAllListeners(se);else if(se==="error"&&this[b]){const vt=de;this[x]?ge(()=>vt.call(this,this[b])):vt.call(this,this[b])}return Ae}removeListener(se,de){return this.off(se,de)}off(se,de){const Ae=super.off(se,de);return se==="data"&&(this[J]=this.listeners("data").length,this[J]===0&&!this[Z]&&!this[G].length&&(this[N]=!1)),Ae}removeAllListeners(se){const de=super.removeAllListeners(se);return(se==="data"||se===void 0)&&(this[J]=0,!this[Z]&&!this[G].length&&(this[N]=!1)),de}get emittedEnd(){return this[h]}[u](){!this[d]&&!this[h]&&!this[j]&&this[Q].length===0&&this[c]&&(this[d]=!0,this.emit("end"),this.emit("prefinish"),this.emit("finish"),this[T]&&this.emit("close"),this[d]=!1)}emit(se,...de){const Ae=de[0];if(se!=="error"&&se!=="close"&&se!==j&&this[j])return!1;if(se==="data")return!this[H]&&!Ae?!1:this[x]?(ge(()=>this[Y](Ae)),!0):this[Y](Ae);if(se==="end")return this[ne]();if(se==="close"){if(this[T]=!0,!this[h]&&!this[j])return!1;const Xe=super.emit("close");return this.removeAllListeners("close"),Xe}else if(se==="error"){this[b]=Ae,super.emit(X,Ae);const Xe=!this[V]||this.listeners("error").length?super.emit("error",Ae):!1;return this[u](),Xe}else if(se==="resume"){const Xe=super.emit("resume");return this[u](),Xe}else if(se==="finish"||se==="prefinish"){const Xe=super.emit(se);return this.removeAllListeners(se),Xe}const vt=super.emit(se,...de);return this[u](),vt}[Y](se){for(const Ae of this[G])Ae.dest.write(se)===!1&&this.pause();const de=this[Z]?!1:super.emit("data",se);return this[u](),de}[ne](){return this[h]?!1:(this[h]=!0,this.readable=!1,this[x]?(ge(()=>this[P]()),!0):this[P]())}[P](){if(this[v]){const de=this[v].end();if(de){for(const Ae of this[G])Ae.dest.write(de);this[Z]||super.emit("data",de)}}for(const de of this[G])de.end();const se=super.emit("end");return this.removeAllListeners("end"),se}async collect(){const se=Object.assign([],{dataLength:0});this[H]||(se.dataLength=0);const de=this.promise();return this.on("data",Ae=>{se.push(Ae),this[H]||(se.dataLength+=Ae.length)}),await de,se}async concat(){if(this[H])throw new Error("cannot concat in objectMode");const se=await this.collect();return this[m]?se.join(""):Buffer.concat(se,se.dataLength)}async promise(){return new Promise((se,de)=>{this.on(j,()=>de(new Error("stream destroyed"))),this.on("error",Ae=>de(Ae)),this.on("end",()=>se())})}[Symbol.asyncIterator](){this[Z]=!1;let se=!1;const de=async()=>(this.pause(),se=!0,{value:void 0,done:!0});return{next:()=>{if(se)return de();const vt=this.read();if(vt!==null)return Promise.resolve({done:!1,value:vt});if(this[c])return de();let Xe,Ui;const yn=ur=>{this.off("data",wn),this.off("end",_n),this.off(j,Sr),de(),Ui(ur)},wn=ur=>{this.off("error",yn),this.off("end",_n),this.off(j,Sr),this.pause(),Xe({value:ur,done:!!this[c]})},_n=()=>{this.off("error",yn),this.off("data",wn),this.off(j,Sr),de(),Xe({done:!0,value:void 0})},Sr=()=>yn(new Error("stream destroyed"));return new Promise((ur,zn)=>{Ui=zn,Xe=ur,this.once(j,Sr),this.once("error",yn),this.once("end",_n),this.once("data",wn)})},throw:de,return:de,[Symbol.asyncIterator](){return this}}}[Symbol.iterator](){this[Z]=!1;let se=!1;const de=()=>(this.pause(),this.off(X,de),this.off(j,de),this.off("end",de),se=!0,{done:!0,value:void 0}),Ae=()=>{if(se)return de();const vt=this.read();return vt===null?de():{done:!1,value:vt}};return this.once("end",de),this.once(X,de),this.once(j,de),{next:Ae,throw:de,return:de,[Symbol.iterator](){return this}}}destroy(se){if(this[j])return se?this.emit("error",se):this.emit(j),this;this[j]=!0,this[Z]=!0,this[Q].length=0,this[R]=0;const de=this;return typeof de.close=="function"&&!this[T]&&de.close(),se?this.emit("error",se):this.emit(j),this}static get isStream(){return t.isStream}}t.Minipass=A})(cE);var El={};Object.defineProperty(El,"__esModule",{value:!0});El.Ignore=void 0;const Qy=xi,X3=vl,Z3=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class Q3{constructor(e,{nobrace:r,nocase:n,noext:i,noglobstar:s,platform:a=Z3}){oe(this,"relative");oe(this,"relativeChildren");oe(this,"absolute");oe(this,"absoluteChildren");oe(this,"platform");oe(this,"mmopts");this.relative=[],this.absolute=[],this.relativeChildren=[],this.absoluteChildren=[],this.platform=a,this.mmopts={dot:!0,nobrace:r,nocase:n,noext:i,noglobstar:s,optimizationLevel:2,platform:a,nocomment:!0,nonegate:!0};for(const o of e)this.add(o)}add(e){const r=new Qy.Minimatch(e,this.mmopts);for(let n=0;n<r.set.length;n++){const i=r.set[n],s=r.globParts[n];if(!i||!s)throw new Error("invalid pattern object");for(;i[0]==="."&&s[0]===".";)i.shift(),s.shift();const a=new X3.Pattern(i,s,0,this.platform),o=new Qy.Minimatch(a.globString(),this.mmopts),l=s[s.length-1]==="**",c=a.isAbsolute();c?this.absolute.push(o):this.relative.push(o),l&&(c?this.absoluteChildren.push(o):this.relativeChildren.push(o))}}ignored(e){const r=e.fullpath(),n=`${r}/`,i=e.relative()||".",s=`${i}/`;for(const a of this.relative)if(a.match(i)||a.match(s))return!0;for(const a of this.absolute)if(a.match(r)||a.match(n))return!0;return!1}childrenIgnored(e){const r=e.fullpath()+"/",n=(e.relative()||".")+"/";for(const i of this.relativeChildren)if(i.match(n))return!0;for(const i of this.absoluteChildren)if(i.match(r))return!0;return!1}}El.Ignore=Q3;var un={};Object.defineProperty(un,"__esModule",{value:!0});un.Processor=un.SubWalks=un.MatchRecord=un.HasWalkedCache=void 0;const Jy=xi;class hf{constructor(e=new Map){oe(this,"store");this.store=e}copy(){return new hf(new Map(this.store))}hasWalked(e,r){var n;return(n=this.store.get(e.fullpath()))==null?void 0:n.has(r.globString())}storeWalked(e,r){const n=e.fullpath(),i=this.store.get(n);i?i.add(r.globString()):this.store.set(n,new Set([r.globString()]))}}un.HasWalkedCache=hf;class fE{constructor(){oe(this,"store",new Map)}add(e,r,n){const i=(r?2:0)|(n?1:0),s=this.store.get(e);this.store.set(e,s===void 0?i:i&s)}entries(){return[...this.store.entries()].map(([e,r])=>[e,!!(r&2),!!(r&1)])}}un.MatchRecord=fE;class hE{constructor(){oe(this,"store",new Map)}add(e,r){if(!e.canReaddir())return;const n=this.store.get(e);n?n.find(i=>i.globString()===r.globString())||n.push(r):this.store.set(e,[r])}get(e){const r=this.store.get(e);if(!r)throw new Error("attempting to walk unknown path");return r}entries(){return this.keys().map(e=>[e,this.store.get(e)])}keys(){return[...this.store.keys()].filter(e=>e.canReaddir())}}un.SubWalks=hE;class Qp{constructor(e,r){oe(this,"hasWalkedCache");oe(this,"matches",new fE);oe(this,"subwalks",new hE);oe(this,"patterns");oe(this,"follow");oe(this,"dot");oe(this,"opts");this.opts=e,this.follow=!!e.follow,this.dot=!!e.dot,this.hasWalkedCache=r?r.copy():new hf}processPatterns(e,r){this.patterns=r;const n=r.map(i=>[e,i]);for(let[i,s]of n){this.hasWalkedCache.storeWalked(i,s);const a=s.root(),o=s.isAbsolute()&&this.opts.absolute!==!1;if(a){i=i.resolve(a==="/"&&this.opts.root!==void 0?this.opts.root:a);const h=s.rest();if(h)s=h;else{this.matches.add(i,!0,!1);continue}}if(i.isENOENT())continue;let l,c,u=!1;for(;typeof(l=s.pattern())=="string"&&(c=s.rest());)i=i.resolve(l),s=c,u=!0;if(l=s.pattern(),c=s.rest(),u){if(this.hasWalkedCache.hasWalked(i,s))continue;this.hasWalkedCache.storeWalked(i,s)}if(typeof l=="string"){const h=l===".."||l===""||l===".";this.matches.add(i.resolve(l),o,h);continue}else if(l===Jy.GLOBSTAR){(!i.isSymbolicLink()||this.follow||s.checkFollowGlobstar())&&this.subwalks.add(i,s);const h=c==null?void 0:c.pattern(),d=c==null?void 0:c.rest();if(!c||(h===""||h===".")&&!d)this.matches.add(i,o,h===""||h===".");else if(h===".."){const b=i.parent||i;d?this.hasWalkedCache.hasWalked(b,d)||this.subwalks.add(b,d):this.matches.add(b,o,!0)}}else l instanceof RegExp&&this.subwalks.add(i,s)}return this}subwalkTargets(){return this.subwalks.keys()}child(){return new Qp(this.opts,this.hasWalkedCache)}filterEntries(e,r){const n=this.subwalks.get(e),i=this.child();for(const s of r)for(const a of n){const o=a.isAbsolute(),l=a.pattern(),c=a.rest();l===Jy.GLOBSTAR?i.testGlobstar(s,a,c,o):l instanceof RegExp?i.testRegExp(s,l,c,o):i.testString(s,l,c,o)}return i}testGlobstar(e,r,n,i){if((this.dot||!e.name.startsWith("."))&&(r.hasMore()||this.matches.add(e,i,!1),e.canReaddir()&&(this.follow||!e.isSymbolicLink()?this.subwalks.add(e,r):e.isSymbolicLink()&&(n&&r.checkFollowGlobstar()?this.subwalks.add(e,n):r.markFollowGlobstar()&&this.subwalks.add(e,r)))),n){const s=n.pattern();if(typeof s=="string"&&s!==".."&&s!==""&&s!==".")this.testString(e,s,n.rest(),i);else if(s===".."){const a=e.parent||e;this.subwalks.add(a,n)}else s instanceof RegExp&&this.testRegExp(e,s,n.rest(),i)}}testRegExp(e,r,n,i){r.test(e.name)&&(n?this.subwalks.add(e,n):this.matches.add(e,i,!1))}testString(e,r,n,i){e.isNamed(r)&&(n?this.subwalks.add(e,n):this.matches.add(e,i,!1))}}un.Processor=Qp;Object.defineProperty(wi,"__esModule",{value:!0});wi.GlobStream=wi.GlobWalker=wi.GlobUtil=void 0;const J3=cE,ew=El,tw=un,ek=(t,e)=>typeof t=="string"?new ew.Ignore([t],e):Array.isArray(t)?new ew.Ignore(t,e):t;var ia,$n,os,Or,Yi,qd;class Jp{constructor(e,r,n){me(this,Or);oe(this,"path");oe(this,"patterns");oe(this,"opts");oe(this,"seen",new Set);oe(this,"paused",!1);oe(this,"aborted",!1);me(this,ia,[]);me(this,$n);me(this,os);oe(this,"signal");oe(this,"maxDepth");oe(this,"includeChildMatches");if(this.patterns=e,this.path=r,this.opts=n,ee(this,os,!n.posix&&n.platform==="win32"?"\\":"/"),this.includeChildMatches=n.includeChildMatches!==!1,(n.ignore||!this.includeChildMatches)&&(ee(this,$n,ek(n.ignore??[],n)),!this.includeChildMatches&&typeof y(this,$n).add!="function")){const i="cannot ignore child matches, ignore lacks add() method.";throw new Error(i)}this.maxDepth=n.maxDepth||1/0,n.signal&&(this.signal=n.signal,this.signal.addEventListener("abort",()=>{y(this,ia).length=0}))}pause(){this.paused=!0}resume(){var r;if((r=this.signal)!=null&&r.aborted)return;this.paused=!1;let e;for(;!this.paused&&(e=y(this,ia).shift());)e()}onResume(e){var r;(r=this.signal)!=null&&r.aborted||(this.paused?y(this,ia).push(e):e())}async matchCheck(e,r){if(r&&this.opts.nodir)return;let n;if(this.opts.realpath){if(n=e.realpathCached()||await e.realpath(),!n)return;e=n}const s=e.isUnknown()||this.opts.stat?await e.lstat():e;if(this.opts.follow&&this.opts.nodir&&(s!=null&&s.isSymbolicLink())){const a=await s.realpath();a&&(a.isUnknown()||this.opts.stat)&&await a.lstat()}return this.matchCheckTest(s,r)}matchCheckTest(e,r){var n;return e&&(this.maxDepth===1/0||e.depth()<=this.maxDepth)&&(!r||e.canReaddir())&&(!this.opts.nodir||!e.isDirectory())&&(!this.opts.nodir||!this.opts.follow||!e.isSymbolicLink()||!((n=e.realpathCached())!=null&&n.isDirectory()))&&!he(this,Or,Yi).call(this,e)?e:void 0}matchCheckSync(e,r){if(r&&this.opts.nodir)return;let n;if(this.opts.realpath){if(n=e.realpathCached()||e.realpathSync(),!n)return;e=n}const s=e.isUnknown()||this.opts.stat?e.lstatSync():e;if(this.opts.follow&&this.opts.nodir&&(s!=null&&s.isSymbolicLink())){const a=s.realpathSync();a&&(a!=null&&a.isUnknown()||this.opts.stat)&&a.lstatSync()}return this.matchCheckTest(s,r)}matchFinish(e,r){var s;if(he(this,Or,Yi).call(this,e))return;if(!this.includeChildMatches&&((s=y(this,$n))!=null&&s.add)){const a=`${e.relativePosix()}/**`;y(this,$n).add(a)}const n=this.opts.absolute===void 0?r:this.opts.absolute;this.seen.add(e);const i=this.opts.mark&&e.isDirectory()?y(this,os):"";if(this.opts.withFileTypes)this.matchEmit(e);else if(n){const a=this.opts.posix?e.fullpathPosix():e.fullpath();this.matchEmit(a+i)}else{const a=this.opts.posix?e.relativePosix():e.relative(),o=this.opts.dotRelative&&!a.startsWith(".."+y(this,os))?"."+y(this,os):"";this.matchEmit(a?o+a+i:"."+i)}}async match(e,r,n){const i=await this.matchCheck(e,n);i&&this.matchFinish(i,r)}matchSync(e,r,n){const i=this.matchCheckSync(e,n);i&&this.matchFinish(i,r)}walkCB(e,r,n){var i;(i=this.signal)!=null&&i.aborted&&n(),this.walkCB2(e,r,new tw.Processor(this.opts),n)}walkCB2(e,r,n,i){var o;if(he(this,Or,qd).call(this,e))return i();if((o=this.signal)!=null&&o.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2(e,r,n,i));return}n.processPatterns(e,r);let s=1;const a=()=>{--s===0&&i()};for(const[l,c,u]of n.matches.entries())he(this,Or,Yi).call(this,l)||(s++,this.match(l,c,u).then(()=>a()));for(const l of n.subwalkTargets()){if(this.maxDepth!==1/0&&l.depth()>=this.maxDepth)continue;s++;const c=l.readdirCached();l.calledReaddir()?this.walkCB3(l,c,n,a):l.readdirCB((u,h)=>this.walkCB3(l,h,n,a),!0)}a()}walkCB3(e,r,n,i){n=n.filterEntries(e,r);let s=1;const a=()=>{--s===0&&i()};for(const[o,l,c]of n.matches.entries())he(this,Or,Yi).call(this,o)||(s++,this.match(o,l,c).then(()=>a()));for(const[o,l]of n.subwalks.entries())s++,this.walkCB2(o,l,n.child(),a);a()}walkCBSync(e,r,n){var i;(i=this.signal)!=null&&i.aborted&&n(),this.walkCB2Sync(e,r,new tw.Processor(this.opts),n)}walkCB2Sync(e,r,n,i){var o;if(he(this,Or,qd).call(this,e))return i();if((o=this.signal)!=null&&o.aborted&&i(),this.paused){this.onResume(()=>this.walkCB2Sync(e,r,n,i));return}n.processPatterns(e,r);let s=1;const a=()=>{--s===0&&i()};for(const[l,c,u]of n.matches.entries())he(this,Or,Yi).call(this,l)||this.matchSync(l,c,u);for(const l of n.subwalkTargets()){if(this.maxDepth!==1/0&&l.depth()>=this.maxDepth)continue;s++;const c=l.readdirSync();this.walkCB3Sync(l,c,n,a)}a()}walkCB3Sync(e,r,n,i){n=n.filterEntries(e,r);let s=1;const a=()=>{--s===0&&i()};for(const[o,l,c]of n.matches.entries())he(this,Or,Yi).call(this,o)||this.matchSync(o,l,c);for(const[o,l]of n.subwalks.entries())s++,this.walkCB2Sync(o,l,n.child(),a);a()}}ia=new WeakMap,$n=new WeakMap,os=new WeakMap,Or=new WeakSet,Yi=function(e){var r,n;return this.seen.has(e)||!!((n=(r=y(this,$n))==null?void 0:r.ignored)!=null&&n.call(r,e))},qd=function(e){var r,n;return!!((n=(r=y(this,$n))==null?void 0:r.childrenIgnored)!=null&&n.call(r,e))};wi.GlobUtil=Jp;class tk extends Jp{constructor(r,n,i){super(r,n,i);oe(this,"matches",new Set)}matchEmit(r){this.matches.add(r)}async walk(){var r;if((r=this.signal)!=null&&r.aborted)throw this.signal.reason;return this.path.isUnknown()&&await this.path.lstat(),await new Promise((n,i)=>{this.walkCB(this.path,this.patterns,()=>{var s;(s=this.signal)!=null&&s.aborted?i(this.signal.reason):n(this.matches)})}),this.matches}walkSync(){var r;if((r=this.signal)!=null&&r.aborted)throw this.signal.reason;return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>{var n;if((n=this.signal)!=null&&n.aborted)throw this.signal.reason}),this.matches}}wi.GlobWalker=tk;class rk extends Jp{constructor(r,n,i){super(r,n,i);oe(this,"results");this.results=new J3.Minipass({signal:this.signal,objectMode:!0}),this.results.on("drain",()=>this.resume()),this.results.on("resume",()=>this.resume())}matchEmit(r){this.results.write(r),this.results.flowing||this.pause()}stream(){const r=this.path;return r.isUnknown()?r.lstat().then(()=>{this.walkCB(r,this.patterns,()=>this.results.end())}):this.walkCB(r,this.patterns,()=>this.results.end()),this.results}streamSync(){return this.path.isUnknown()&&this.path.lstatSync(),this.walkCBSync(this.path,this.patterns,()=>this.results.end()),this.results}}wi.GlobStream=rk;Object.defineProperty(So,"__esModule",{value:!0});So.Glob=void 0;const nk=xi,ik=_w,_u=nt,sk=vl,bu=wi,ak=typeof process=="object"&&process&&typeof process.platform=="string"?process.platform:"linux";class ok{constructor(e,r){oe(this,"absolute");oe(this,"cwd");oe(this,"root");oe(this,"dot");oe(this,"dotRelative");oe(this,"follow");oe(this,"ignore");oe(this,"magicalBraces");oe(this,"mark");oe(this,"matchBase");oe(this,"maxDepth");oe(this,"nobrace");oe(this,"nocase");oe(this,"nodir");oe(this,"noext");oe(this,"noglobstar");oe(this,"pattern");oe(this,"platform");oe(this,"realpath");oe(this,"scurry");oe(this,"stat");oe(this,"signal");oe(this,"windowsPathsNoEscape");oe(this,"withFileTypes");oe(this,"includeChildMatches");oe(this,"opts");oe(this,"patterns");if(!r)throw new TypeError("glob options required");if(this.withFileTypes=!!r.withFileTypes,this.signal=r.signal,this.follow=!!r.follow,this.dot=!!r.dot,this.dotRelative=!!r.dotRelative,this.nodir=!!r.nodir,this.mark=!!r.mark,r.cwd?(r.cwd instanceof URL||r.cwd.startsWith("file://"))&&(r.cwd=(0,ik.fileURLToPath)(r.cwd)):this.cwd="",this.cwd=r.cwd||"",this.root=r.root,this.magicalBraces=!!r.magicalBraces,this.nobrace=!!r.nobrace,this.noext=!!r.noext,this.realpath=!!r.realpath,this.absolute=r.absolute,this.includeChildMatches=r.includeChildMatches!==!1,this.noglobstar=!!r.noglobstar,this.matchBase=!!r.matchBase,this.maxDepth=typeof r.maxDepth=="number"?r.maxDepth:1/0,this.stat=!!r.stat,this.ignore=r.ignore,this.withFileTypes&&this.absolute!==void 0)throw new Error("cannot set absolute and withFileTypes:true");if(typeof e=="string"&&(e=[e]),this.windowsPathsNoEscape=!!r.windowsPathsNoEscape||r.allowWindowsEscape===!1,this.windowsPathsNoEscape&&(e=e.map(l=>l.replace(/\\/g,"/"))),this.matchBase){if(r.noglobstar)throw new TypeError("base matching requires globstar");e=e.map(l=>l.includes("/")?l:`./**/${l}`)}if(this.pattern=e,this.platform=r.platform||ak,this.opts={...r,platform:this.platform},r.scurry){if(this.scurry=r.scurry,r.nocase!==void 0&&r.nocase!==r.scurry.nocase)throw new Error("nocase option contradicts provided scurry option")}else{const l=r.platform==="win32"?_u.PathScurryWin32:r.platform==="darwin"?_u.PathScurryDarwin:r.platform?_u.PathScurryPosix:_u.PathScurry;this.scurry=new l(this.cwd,{nocase:r.nocase,fs:r.fs})}this.nocase=this.scurry.nocase;const n=this.platform==="darwin"||this.platform==="win32",i={...r,dot:this.dot,matchBase:this.matchBase,nobrace:this.nobrace,nocase:this.nocase,nocaseMagicOnly:n,nocomment:!0,noext:this.noext,nonegate:!0,optimizationLevel:2,platform:this.platform,windowsPathsNoEscape:this.windowsPathsNoEscape,debug:!!this.opts.debug},s=this.pattern.map(l=>new nk.Minimatch(l,i)),[a,o]=s.reduce((l,c)=>(l[0].push(...c.set),l[1].push(...c.globParts),l),[[],[]]);this.patterns=a.map((l,c)=>{const u=o[c];if(!u)throw new Error("invalid pattern object");return new sk.Pattern(l,u,0,this.platform)})}async walk(){return[...await new bu.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walk()]}walkSync(){return[...new bu.GlobWalker(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).walkSync()]}stream(){return new bu.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).stream()}streamSync(){return new bu.GlobStream(this.patterns,this.scurry.cwd,{...this.opts,maxDepth:this.maxDepth!==1/0?this.maxDepth+this.scurry.cwd.depth():1/0,platform:this.platform,nocase:this.nocase,includeChildMatches:this.includeChildMatches}).streamSync()}iterateSync(){return this.streamSync()[Symbol.iterator]()}[Symbol.iterator](){return this.iterateSync()}iterate(){return this.stream()[Symbol.asyncIterator]()}[Symbol.asyncIterator](){return this.iterate()}}So.Glob=ok;var To={};Object.defineProperty(To,"__esModule",{value:!0});To.hasMagic=void 0;const lk=xi,uk=(t,e={})=>{Array.isArray(t)||(t=[t]);for(const r of t)if(new lk.Minimatch(r,e).hasMagic())return!0;return!1};To.hasMagic=uk;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.glob=t.sync=t.iterate=t.iterateSync=t.stream=t.streamSync=t.Ignore=t.hasMagic=t.Glob=t.unescape=t.escape=void 0,t.globStreamSync=l,t.globStream=c,t.globSync=u,t.globIterateSync=d,t.globIterate=b;const e=xi,r=So,n=To;var i=xi;Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return i.escape}}),Object.defineProperty(t,"unescape",{enumerable:!0,get:function(){return i.unescape}});var s=So;Object.defineProperty(t,"Glob",{enumerable:!0,get:function(){return s.Glob}});var a=To;Object.defineProperty(t,"hasMagic",{enumerable:!0,get:function(){return a.hasMagic}});var o=El;Object.defineProperty(t,"Ignore",{enumerable:!0,get:function(){return o.Ignore}});function l(T,w={}){return new r.Glob(T,w).streamSync()}function c(T,w={}){return new r.Glob(T,w).stream()}function u(T,w={}){return new r.Glob(T,w).walkSync()}async function h(T,w={}){return new r.Glob(T,w).walk()}function d(T,w={}){return new r.Glob(T,w).iterateSync()}function b(T,w={}){return new r.Glob(T,w).iterate()}t.streamSync=l,t.stream=Object.assign(c,{sync:l}),t.iterateSync=d,t.iterate=Object.assign(b,{sync:d}),t.sync=Object.assign(u,{stream:l,iterate:d}),t.glob=Object.assign(h,{glob:h,globSync:u,sync:t.sync,globStream:c,stream:t.stream,globStreamSync:l,streamSync:t.streamSync,globIterate:b,iterate:t.iterate,globIterateSync:d,iterateSync:t.iterateSync,Glob:r.Glob,hasMagic:n.hasMagic,escape:e.escape,unescape:e.unescape}),t.glob.glob=t.glob})(kv);var dE=Np,qs=Pe,zd=dF,ck=OU,fk=t3,hk=m3,dk=kv,cs=Cv.exports={},rw=/[\/\\]/g,pk=function(t,e){var r=[];return zd(t).forEach(function(n){var i=n.indexOf("!")===0;i&&(n=n.slice(1));var s=e(n);i?r=ck(r,s):r=fk(r,s)}),r};cs.exists=function(){var t=qs.join.apply(qs,arguments);return dE.existsSync(t)};cs.expand=function(...t){var e=hk(t[0])?t.shift():{},r=Array.isArray(t[0])?t[0]:t;if(r.length===0)return[];var n=pk(r,function(i){return dk.sync(i,e)});return e.filter&&(n=n.filter(function(i){i=qs.join(e.cwd||"",i);try{return typeof e.filter=="function"?e.filter(i):dE.statSync(i)[e.filter]()}catch{return!1}})),n};cs.expandMapping=function(t,e,r){r=Object.assign({rename:function(s,a){return qs.join(s||"",a)}},r);var n=[],i={};return cs.expand(r,t).forEach(function(s){var a=s;r.flatten&&(a=qs.basename(a)),r.ext&&(a=a.replace(/(\.[^\/]*)?$/,r.ext));var o=r.rename(e,a,r);r.cwd&&(s=qs.join(r.cwd,s)),o=o.replace(rw,"/"),s=s.replace(rw,"/"),i[o]?i[o].src.push(s):(n.push({src:[s],dest:o}),i[o]=n[n.length-1])}),n};cs.normalizeFilesArray=function(t){var e=[];return t.forEach(function(r){("src"in r||"dest"in r)&&e.push(r)}),e.length===0?[]:(e=_(e).chain().forEach(function(r){!("src"in r)||!r.src||(Array.isArray(r.src)?r.src=zd(r.src):r.src=[r.src])}).map(function(r){var n=Object.assign({},r);if(delete n.src,delete n.dest,r.expand)return cs.expandMapping(r.src,r.dest,n).map(function(s){var a=Object.assign({},r);return a.orig=Object.assign({},r),a.src=s.src,a.dest=s.dest,["expand","cwd","flatten","rename","ext"].forEach(function(o){delete a[o]}),a});var i=Object.assign({},r);return i.orig=Object.assign({},r),"src"in i&&Object.defineProperty(i,"src",{enumerable:!0,get:function s(){var a;return"result"in s||(a=r.src,a=Array.isArray(a)?zd(a):[a],s.result=cs.expand(n,a)),s.result}}),"dest"in i&&(i.dest=r.dest),i}).flatten().value(),e)};var gk=Cv.exports,Hd=Np,nw=Pe,mk=Mp,yk=v$,pE=sv,wk=j2;jt.Stream;var _k=va.PassThrough,_r=Xb.exports={};_r.file=gk;_r.collectStream=function(t,e){var r=[],n=0;t.on("error",e),t.on("data",function(i){r.push(i),n+=i.length}),t.on("end",function(){var i=Buffer.alloc(n),s=0;r.forEach(function(a){a.copy(i,s),s+=a.length}),e(null,i)})};_r.dateify=function(t){return t=t||new Date,t instanceof Date?t=t:typeof t=="string"?t=new Date(t):t=new Date,t};_r.defaults=function(t,e,r){var n=arguments;return n[0]=n[0]||{},wk(...n)};_r.isStream=function(t){return mk(t)};_r.lazyReadStream=function(t){return new yk.Readable(function(){return Hd.createReadStream(t)})};_r.normalizeInputSource=function(t){return t===null?Buffer.alloc(0):typeof t=="string"?Buffer.from(t):_r.isStream(t)?t.pipe(new _k):t};_r.sanitizePath=function(t){return pE(t,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,"")};_r.trailingSlashIt=function(t){return t.slice(-1)!=="/"?t+"/":t};_r.unixifyPath=function(t){return pE(t,!1).replace(/^\w+:/,"")};_r.walkdir=function(t,e,r){var n=[];typeof e=="function"&&(r=e,e=t),Hd.readdir(t,function(i,s){var a=0,o,l;if(i)return r(i);(function c(){if(o=s[a++],!o)return r(null,n);l=nw.join(t,o),Hd.stat(l,function(u,h){n.push({path:l,relative:nw.relative(e,l).replace(/\\/g,"/"),stats:h}),h&&h.isDirectory()?_r.walkdir(l,e,function(d,b){if(d)return r(d);b.forEach(function(T){n.push(T)}),c()}):c()})})()})};var Sl=Xb.exports,gE={exports:{}};/**
 * Archiver Core
 *
 * @ignore
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */(function(t,e){var r=Bt;const n={ABORTED:"archive was aborted",DIRECTORYDIRPATHREQUIRED:"diretory dirpath argument must be a non-empty string value",DIRECTORYFUNCTIONINVALIDDATA:"invalid data returned by directory custom data function",ENTRYNAMEREQUIRED:"entry name must be a non-empty string value",FILEFILEPATHREQUIRED:"file filepath argument must be a non-empty string value",FINALIZING:"archive already finalizing",QUEUECLOSED:"queue closed",NOENDMETHOD:"no suitable finalize/end method defined by module",DIRECTORYNOTSUPPORTED:"support for directory entries not defined by module",FORMATSET:"archive format already set",INPUTSTEAMBUFFERREQUIRED:"input source must be valid Stream or Buffer instance",MODULESET:"module already set",SYMLINKNOTSUPPORTED:"support for symlink entries not defined by module",SYMLINKFILEPATHREQUIRED:"symlink filepath argument must be a non-empty string value",SYMLINKTARGETREQUIRED:"symlink target argument must be a non-empty string value",ENTRYNOTSUPPORTED:"entry not supported"};function i(s,a){Error.captureStackTrace(this,this.constructor),this.message=n[s]||s,this.code=s,this.data=a}r.inherits(i,Error),t.exports=i})(gE);var bk=gE.exports;/**
 * Archiver Core
 *
 * @ignore
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */var eg=vr,mE=kD,iw=JP,Jh=Pe,hn=Sl,vk=Bt.inherits,ht=bk,yE=va.Transform,ed=process.platform==="win32",ze=function(t,e){if(!(this instanceof ze))return new ze(t,e);typeof t!="string"&&(e=t,t="zip"),e=this.options=hn.defaults(e,{highWaterMark:1024*1024,statConcurrency:4}),yE.call(this,e),this._format=!1,this._module=!1,this._pending=0,this._pointer=0,this._entriesCount=0,this._entriesProcessedCount=0,this._fsEntriesTotalBytes=0,this._fsEntriesProcessedBytes=0,this._queue=iw.queue(this._onQueueTask.bind(this),1),this._queue.drain(this._onQueueDrain.bind(this)),this._statQueue=iw.queue(this._onStatQueueTask.bind(this),e.statConcurrency),this._statQueue.drain(this._onQueueDrain.bind(this)),this._state={aborted:!1,finalize:!1,finalizing:!1,finalized:!1,modulePiped:!1},this._streams=[]};vk(ze,yE);ze.prototype._abort=function(){this._state.aborted=!0,this._queue.kill(),this._statQueue.kill(),this._queue.idle()&&this._shutdown()};ze.prototype._append=function(t,e){e=e||{};var r={source:null,filepath:t};e.name||(e.name=t),e.sourcePath=t,r.data=e,this._entriesCount++,e.stats&&e.stats instanceof eg.Stats?(r=this._updateQueueTaskWithStats(r,e.stats),r&&(e.stats.size&&(this._fsEntriesTotalBytes+=e.stats.size),this._queue.push(r))):this._statQueue.push(r)};ze.prototype._finalize=function(){this._state.finalizing||this._state.finalized||this._state.aborted||(this._state.finalizing=!0,this._moduleFinalize(),this._state.finalizing=!1,this._state.finalized=!0)};ze.prototype._maybeFinalize=function(){return this._state.finalizing||this._state.finalized||this._state.aborted?!1:this._state.finalize&&this._pending===0&&this._queue.idle()&&this._statQueue.idle()?(this._finalize(),!0):!1};ze.prototype._moduleAppend=function(t,e,r){if(this._state.aborted){r();return}this._module.append(t,e,(function(n){if(this._task=null,this._state.aborted){this._shutdown();return}if(n){this.emit("error",n),setImmediate(r);return}this.emit("entry",e),this._entriesProcessedCount++,e.stats&&e.stats.size&&(this._fsEntriesProcessedBytes+=e.stats.size),this.emit("progress",{entries:{total:this._entriesCount,processed:this._entriesProcessedCount},fs:{totalBytes:this._fsEntriesTotalBytes,processedBytes:this._fsEntriesProcessedBytes}}),setImmediate(r)}).bind(this))};ze.prototype._moduleFinalize=function(){typeof this._module.finalize=="function"?this._module.finalize():typeof this._module.end=="function"?this._module.end():this.emit("error",new ht("NOENDMETHOD"))};ze.prototype._modulePipe=function(){this._module.on("error",this._onModuleError.bind(this)),this._module.pipe(this),this._state.modulePiped=!0};ze.prototype._moduleSupports=function(t){return!this._module.supports||!this._module.supports[t]?!1:this._module.supports[t]};ze.prototype._moduleUnpipe=function(){this._module.unpipe(this),this._state.modulePiped=!1};ze.prototype._normalizeEntryData=function(t,e){t=hn.defaults(t,{type:"file",name:null,date:null,mode:null,prefix:null,sourcePath:null,stats:!1}),e&&t.stats===!1&&(t.stats=e);var r=t.type==="directory";return t.name&&(typeof t.prefix=="string"&&t.prefix!==""&&(t.name=t.prefix+"/"+t.name,t.prefix=null),t.name=hn.sanitizePath(t.name),t.type!=="symlink"&&t.name.slice(-1)==="/"?(r=!0,t.type="directory"):r&&(t.name+="/")),typeof t.mode=="number"?ed?t.mode&=511:t.mode&=4095:t.stats&&t.mode===null?(ed?t.mode=t.stats.mode&511:t.mode=t.stats.mode&4095,ed&&r&&(t.mode=493)):t.mode===null&&(t.mode=r?493:420),t.stats&&t.date===null?t.date=t.stats.mtime:t.date=hn.dateify(t.date),t};ze.prototype._onModuleError=function(t){this.emit("error",t)};ze.prototype._onQueueDrain=function(){this._state.finalizing||this._state.finalized||this._state.aborted||this._state.finalize&&this._pending===0&&this._queue.idle()&&this._statQueue.idle()&&this._finalize()};ze.prototype._onQueueTask=function(t,e){var r=()=>{t.data.callback&&t.data.callback(),e()};if(this._state.finalizing||this._state.finalized||this._state.aborted){r();return}this._task=t,this._moduleAppend(t.source,t.data,r)};ze.prototype._onStatQueueTask=function(t,e){if(this._state.finalizing||this._state.finalized||this._state.aborted){e();return}eg.lstat(t.filepath,(function(r,n){if(this._state.aborted){setImmediate(e);return}if(r){this._entriesCount--,this.emit("warning",r),setImmediate(e);return}t=this._updateQueueTaskWithStats(t,n),t&&(n.size&&(this._fsEntriesTotalBytes+=n.size),this._queue.push(t)),setImmediate(e)}).bind(this))};ze.prototype._shutdown=function(){this._moduleUnpipe(),this.end()};ze.prototype._transform=function(t,e,r){t&&(this._pointer+=t.length),r(null,t)};ze.prototype._updateQueueTaskWithStats=function(t,e){if(e.isFile())t.data.type="file",t.data.sourceType="stream",t.source=hn.lazyReadStream(t.filepath);else if(e.isDirectory()&&this._moduleSupports("directory"))t.data.name=hn.trailingSlashIt(t.data.name),t.data.type="directory",t.data.sourcePath=hn.trailingSlashIt(t.filepath),t.data.sourceType="buffer",t.source=Buffer.concat([]);else if(e.isSymbolicLink()&&this._moduleSupports("symlink")){var r=eg.readlinkSync(t.filepath),n=Jh.dirname(t.filepath);t.data.type="symlink",t.data.linkname=Jh.relative(n,Jh.resolve(n,r)),t.data.sourceType="buffer",t.source=Buffer.concat([])}else return e.isDirectory()?this.emit("warning",new ht("DIRECTORYNOTSUPPORTED",t.data)):e.isSymbolicLink()?this.emit("warning",new ht("SYMLINKNOTSUPPORTED",t.data)):this.emit("warning",new ht("ENTRYNOTSUPPORTED",t.data)),null;return t.data=this._normalizeEntryData(t.data,e),t};ze.prototype.abort=function(){return this._state.aborted||this._state.finalized?this:(this._abort(),this)};ze.prototype.append=function(t,e){if(this._state.finalize||this._state.aborted)return this.emit("error",new ht("QUEUECLOSED")),this;if(e=this._normalizeEntryData(e),typeof e.name!="string"||e.name.length===0)return this.emit("error",new ht("ENTRYNAMEREQUIRED")),this;if(e.type==="directory"&&!this._moduleSupports("directory"))return this.emit("error",new ht("DIRECTORYNOTSUPPORTED",{name:e.name})),this;if(t=hn.normalizeInputSource(t),Buffer.isBuffer(t))e.sourceType="buffer";else if(hn.isStream(t))e.sourceType="stream";else return this.emit("error",new ht("INPUTSTEAMBUFFERREQUIRED",{name:e.name})),this;return this._entriesCount++,this._queue.push({data:e,source:t}),this};ze.prototype.directory=function(t,e,r){if(this._state.finalize||this._state.aborted)return this.emit("error",new ht("QUEUECLOSED")),this;if(typeof t!="string"||t.length===0)return this.emit("error",new ht("DIRECTORYDIRPATHREQUIRED")),this;this._pending++,e===!1?e="":typeof e!="string"&&(e=t);var n=!1;typeof r=="function"?(n=r,r={}):typeof r!="object"&&(r={});var i={stat:!0,dot:!0};function s(){this._pending--,this._maybeFinalize()}function a(c){this.emit("error",c)}function o(c){l.pause();var u=!1,h=Object.assign({},r);h.name=c.relative,h.prefix=e,h.stats=c.stat,h.callback=l.resume.bind(l);try{if(n){if(h=n(h),h===!1)u=!0;else if(typeof h!="object")throw new ht("DIRECTORYFUNCTIONINVALIDDATA",{dirpath:t})}}catch(d){this.emit("error",d);return}if(u){l.resume();return}this._append(c.absolute,h)}var l=mE(t,i);return l.on("error",a.bind(this)),l.on("match",o.bind(this)),l.on("end",s.bind(this)),this};ze.prototype.file=function(t,e){return this._state.finalize||this._state.aborted?(this.emit("error",new ht("QUEUECLOSED")),this):typeof t!="string"||t.length===0?(this.emit("error",new ht("FILEFILEPATHREQUIRED")),this):(this._append(t,e),this)};ze.prototype.glob=function(t,e,r){this._pending++,e=hn.defaults(e,{stat:!0,pattern:t});function n(){this._pending--,this._maybeFinalize()}function i(o){this.emit("error",o)}function s(o){a.pause();var l=Object.assign({},r);l.callback=a.resume.bind(a),l.stats=o.stat,l.name=o.relative,this._append(o.absolute,l)}var a=mE(e.cwd||".",e);return a.on("error",i.bind(this)),a.on("match",s.bind(this)),a.on("end",n.bind(this)),this};ze.prototype.finalize=function(){if(this._state.aborted){var t=new ht("ABORTED");return this.emit("error",t),Promise.reject(t)}if(this._state.finalize){var e=new ht("FINALIZING");return this.emit("error",e),Promise.reject(e)}this._state.finalize=!0,this._pending===0&&this._queue.idle()&&this._statQueue.idle()&&this._finalize();var r=this;return new Promise(function(n,i){var s;r._module.on("end",function(){s||n()}),r._module.on("error",function(a){s=!0,i(a)})})};ze.prototype.setFormat=function(t){return this._format?(this.emit("error",new ht("FORMATSET")),this):(this._format=t,this)};ze.prototype.setModule=function(t){return this._state.aborted?(this.emit("error",new ht("ABORTED")),this):this._state.module?(this.emit("error",new ht("MODULESET")),this):(this._module=t,this._modulePipe(),this)};ze.prototype.symlink=function(t,e,r){if(this._state.finalize||this._state.aborted)return this.emit("error",new ht("QUEUECLOSED")),this;if(typeof t!="string"||t.length===0)return this.emit("error",new ht("SYMLINKFILEPATHREQUIRED")),this;if(typeof e!="string"||e.length===0)return this.emit("error",new ht("SYMLINKTARGETREQUIRED",{filepath:t})),this;if(!this._moduleSupports("symlink"))return this.emit("error",new ht("SYMLINKNOTSUPPORTED",{filepath:t})),this;var n={};return n.type="symlink",n.name=t.replace(/\\/g,"/"),n.linkname=e.replace(/\\/g,"/"),n.sourceType="buffer",typeof r=="number"&&(n.mode=r),this._entriesCount++,this._queue.push({data:n,source:Buffer.concat([])}),this};ze.prototype.pointer=function(){return this._pointer};ze.prototype.use=function(t){return this._streams.push(t),this};var Ek=ze,wE={exports:{}},_E={exports:{}},df=_E.exports=function(){};df.prototype.getName=function(){};df.prototype.getSize=function(){};df.prototype.getLastModifiedDate=function(){};df.prototype.isDirectory=function(){};var bE=_E.exports,vE={exports:{}},EE={exports:{}},SE={exports:{}},Ir=SE.exports={};Ir.dateToDos=function(t,e){e=e||!1;var r=e?t.getFullYear():t.getUTCFullYear();if(r<1980)return 2162688;if(r>=2044)return 2141175677;var n={year:r,month:e?t.getMonth():t.getUTCMonth(),date:e?t.getDate():t.getUTCDate(),hours:e?t.getHours():t.getUTCHours(),minutes:e?t.getMinutes():t.getUTCMinutes(),seconds:e?t.getSeconds():t.getUTCSeconds()};return n.year-1980<<25|n.month+1<<21|n.date<<16|n.hours<<11|n.minutes<<5|n.seconds/2};Ir.dosToDate=function(t){return new Date((t>>25&127)+1980,(t>>21&15)-1,t>>16&31,t>>11&31,t>>5&63,(t&31)<<1)};Ir.fromDosTime=function(t){return Ir.dosToDate(t.readUInt32LE(0))};Ir.getEightBytes=function(t){var e=Buffer.alloc(8);return e.writeUInt32LE(t%4294967296,0),e.writeUInt32LE(t/4294967296|0,4),e};Ir.getShortBytes=function(t){var e=Buffer.alloc(2);return e.writeUInt16LE((t&65535)>>>0,0),e};Ir.getShortBytesValue=function(t,e){return t.readUInt16LE(e)};Ir.getLongBytes=function(t){var e=Buffer.alloc(4);return e.writeUInt32LE((t&4294967295)>>>0,0),e};Ir.getLongBytesValue=function(t,e){return t.readUInt32LE(e)};Ir.toDosTime=function(t){return Ir.getLongBytes(Ir.dateToDos(t))};var tg=SE.exports,TE=tg,AE=8,xE=1,Sk=4,Tk=2,RE=64,OE=2048,kt=EE.exports=function(){return this instanceof kt?(this.descriptor=!1,this.encryption=!1,this.utf8=!1,this.numberOfShannonFanoTrees=0,this.strongEncryption=!1,this.slidingDictionarySize=0,this):new kt};kt.prototype.encode=function(){return TE.getShortBytes((this.descriptor?AE:0)|(this.utf8?OE:0)|(this.encryption?xE:0)|(this.strongEncryption?RE:0))};kt.prototype.parse=function(t,e){var r=TE.getShortBytesValue(t,e),n=new kt;return n.useDataDescriptor((r&AE)!==0),n.useUTF8ForNames((r&OE)!==0),n.useStrongEncryption((r&RE)!==0),n.useEncryption((r&xE)!==0),n.setSlidingDictionarySize(r&Tk?8192:4096),n.setNumberOfShannonFanoTrees(r&Sk?3:2),n};kt.prototype.setNumberOfShannonFanoTrees=function(t){this.numberOfShannonFanoTrees=t};kt.prototype.getNumberOfShannonFanoTrees=function(){return this.numberOfShannonFanoTrees};kt.prototype.setSlidingDictionarySize=function(t){this.slidingDictionarySize=t};kt.prototype.getSlidingDictionarySize=function(){return this.slidingDictionarySize};kt.prototype.useDataDescriptor=function(t){this.descriptor=t};kt.prototype.usesDataDescriptor=function(){return this.descriptor};kt.prototype.useEncryption=function(t){this.encryption=t};kt.prototype.usesEncryption=function(){return this.encryption};kt.prototype.useStrongEncryption=function(t){this.strongEncryption=t};kt.prototype.usesStrongEncryption=function(){return this.strongEncryption};kt.prototype.useUTF8ForNames=function(t){this.utf8=t};kt.prototype.usesUTF8ForNames=function(){return this.utf8};var Ak=EE.exports,xk={FILE_TYPE_FLAG:61440,LINK_FLAG:40960},IE={EMPTY:Buffer.alloc(0),SHORT_MASK:65535,SHORT_SHIFT:16,SHORT_ZERO:Buffer.from(Array(2)),LONG_ZERO:Buffer.from(Array(4)),MIN_VERSION_INITIAL:10,MIN_VERSION_DATA_DESCRIPTOR:20,MIN_VERSION_ZIP64:45,VERSION_MADEBY:45,METHOD_STORED:0,METHOD_DEFLATED:8,PLATFORM_UNIX:3,PLATFORM_FAT:0,SIG_LFH:67324752,SIG_DD:134695760,SIG_CFH:33639248,SIG_EOCD:101010256,SIG_ZIP64_EOCD:101075792,SIG_ZIP64_EOCD_LOC:117853008,ZIP64_MAGIC_SHORT:65535,ZIP64_MAGIC:4294967295,ZIP64_EXTRA_ID:1,ZLIB_BEST_SPEED:1,MODE_MASK:4095,S_IFDIR:16384,S_IFREG:32768,S_DOS_A:32,S_DOS_D:16},Rk=Bt.inherits,Ok=sv,CE=bE,DE=Ak,sw=xk,Qt=IE,PE=tg,ke=vE.exports=function(t){if(!(this instanceof ke))return new ke(t);CE.call(this),this.platform=Qt.PLATFORM_FAT,this.method=-1,this.name=null,this.size=0,this.csize=0,this.gpb=new DE,this.crc=0,this.time=-1,this.minver=Qt.MIN_VERSION_INITIAL,this.mode=-1,this.extra=null,this.exattr=0,this.inattr=0,this.comment=null,t&&this.setName(t)};Rk(ke,CE);ke.prototype.getCentralDirectoryExtra=function(){return this.getExtra()};ke.prototype.getComment=function(){return this.comment!==null?this.comment:""};ke.prototype.getCompressedSize=function(){return this.csize};ke.prototype.getCrc=function(){return this.crc};ke.prototype.getExternalAttributes=function(){return this.exattr};ke.prototype.getExtra=function(){return this.extra!==null?this.extra:Qt.EMPTY};ke.prototype.getGeneralPurposeBit=function(){return this.gpb};ke.prototype.getInternalAttributes=function(){return this.inattr};ke.prototype.getLastModifiedDate=function(){return this.getTime()};ke.prototype.getLocalFileDataExtra=function(){return this.getExtra()};ke.prototype.getMethod=function(){return this.method};ke.prototype.getName=function(){return this.name};ke.prototype.getPlatform=function(){return this.platform};ke.prototype.getSize=function(){return this.size};ke.prototype.getTime=function(){return this.time!==-1?PE.dosToDate(this.time):-1};ke.prototype.getTimeDos=function(){return this.time!==-1?this.time:0};ke.prototype.getUnixMode=function(){return this.platform!==Qt.PLATFORM_UNIX?0:this.getExternalAttributes()>>Qt.SHORT_SHIFT&Qt.SHORT_MASK};ke.prototype.getVersionNeededToExtract=function(){return this.minver};ke.prototype.setComment=function(t){Buffer.byteLength(t)!==t.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.comment=t};ke.prototype.setCompressedSize=function(t){if(t<0)throw new Error("invalid entry compressed size");this.csize=t};ke.prototype.setCrc=function(t){if(t<0)throw new Error("invalid entry crc32");this.crc=t};ke.prototype.setExternalAttributes=function(t){this.exattr=t>>>0};ke.prototype.setExtra=function(t){this.extra=t};ke.prototype.setGeneralPurposeBit=function(t){if(!(t instanceof DE))throw new Error("invalid entry GeneralPurposeBit");this.gpb=t};ke.prototype.setInternalAttributes=function(t){this.inattr=t};ke.prototype.setMethod=function(t){if(t<0)throw new Error("invalid entry compression method");this.method=t};ke.prototype.setName=function(t,e=!1){t=Ok(t,!1).replace(/^\w+:/,"").replace(/^(\.\.\/|\/)+/,""),e&&(t=`/${t}`),Buffer.byteLength(t)!==t.length&&this.getGeneralPurposeBit().useUTF8ForNames(!0),this.name=t};ke.prototype.setPlatform=function(t){this.platform=t};ke.prototype.setSize=function(t){if(t<0)throw new Error("invalid entry size");this.size=t};ke.prototype.setTime=function(t,e){if(!(t instanceof Date))throw new Error("invalid entry time");this.time=PE.dateToDos(t,e)};ke.prototype.setUnixMode=function(t){t|=this.isDirectory()?Qt.S_IFDIR:Qt.S_IFREG;var e=0;e|=t<<Qt.SHORT_SHIFT|(this.isDirectory()?Qt.S_DOS_D:Qt.S_DOS_A),this.setExternalAttributes(e),this.mode=t&Qt.MODE_MASK,this.platform=Qt.PLATFORM_UNIX};ke.prototype.setVersionNeededToExtract=function(t){this.minver=t};ke.prototype.isDirectory=function(){return this.getName().slice(-1)==="/"};ke.prototype.isUnixSymlink=function(){return(this.getUnixMode()&sw.FILE_TYPE_FLAG)===sw.LINK_FLAG};ke.prototype.isZip64=function(){return this.csize>Qt.ZIP64_MAGIC||this.size>Qt.ZIP64_MAGIC};var Ik=vE.exports,$E={exports:{}},NE={exports:{}};jt.Stream;var Ck=va.PassThrough,Dk=Mp,Pk=NE.exports={};Pk.normalizeInputSource=function(t){if(t===null)return Buffer.alloc(0);if(typeof t=="string")return Buffer.from(t);if(Dk(t)&&!t._readableState){var e=new Ck;return t.pipe(e),e}return t};var $k=NE.exports,Nk=Bt.inherits,Lk=Mp,rg=va.Transform,Fk=bE,Mk=$k,br=$E.exports=function(t){if(!(this instanceof br))return new br(t);rg.call(this,t),this.offset=0,this._archive={finish:!1,finished:!1,processing:!1}};Nk(br,rg);br.prototype._appendBuffer=function(t,e,r){};br.prototype._appendStream=function(t,e,r){};br.prototype._emitErrorCallback=function(t){t&&this.emit("error",t)};br.prototype._finish=function(t){};br.prototype._normalizeEntry=function(t){};br.prototype._transform=function(t,e,r){r(null,t)};br.prototype.entry=function(t,e,r){if(e=e||null,typeof r!="function"&&(r=this._emitErrorCallback.bind(this)),!(t instanceof Fk)){r(new Error("not a valid instance of ArchiveEntry"));return}if(this._archive.finish||this._archive.finished){r(new Error("unacceptable entry after finish"));return}if(this._archive.processing){r(new Error("already processing an entry"));return}if(this._archive.processing=!0,this._normalizeEntry(t),this._entry=t,e=Mk.normalizeInputSource(e),Buffer.isBuffer(e))this._appendBuffer(t,e,r);else if(Lk(e))this._appendStream(t,e,r);else{this._archive.processing=!1,r(new Error("input source must be valid Stream or Buffer instance"));return}return this};br.prototype.finish=function(){if(this._archive.processing){this._archive.finish=!0;return}this._finish()};br.prototype.getBytesWritten=function(){return this.offset};br.prototype.write=function(t,e){return t&&(this.offset+=t.length),rg.prototype.write.call(this,t,e)};var Uk=$E.exports,LE={exports:{}},pf={};/*! crc32.js (C) 2014-present SheetJS -- http://sheetjs.com */(function(t){(function(e){e(typeof DO_NOT_EXPORT_CRC>"u"?t:{})})(function(e){e.version="1.2.2";function r(){for(var G=0,R=new Array(256),k=0;k!=256;++k)G=k,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,R[k]=G;return typeof Int32Array<"u"?new Int32Array(R):R}var n=r();function i(G){var R=0,k=0,W=0,H=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(W=0;W!=256;++W)H[W]=G[W];for(W=0;W!=256;++W)for(k=G[W],R=256+W;R<4096;R+=256)k=H[R]=k>>>8^G[k&255];var j=[];for(W=1;W!=16;++W)j[W-1]=typeof Int32Array<"u"?H.subarray(W*256,W*256+256):H.slice(W*256,W*256+256);return j}var s=i(n),a=s[0],o=s[1],l=s[2],c=s[3],u=s[4],h=s[5],d=s[6],b=s[7],T=s[8],w=s[9],E=s[10],p=s[11],m=s[12],v=s[13],N=s[14];function z(G,R){for(var k=R^-1,W=0,H=G.length;W<H;)k=k>>>8^n[(k^G.charCodeAt(W++))&255];return~k}function ue(G,R){for(var k=R^-1,W=G.length-15,H=0;H<W;)k=N[G[H++]^k&255]^v[G[H++]^k>>8&255]^m[G[H++]^k>>16&255]^p[G[H++]^k>>>24]^E[G[H++]]^w[G[H++]]^T[G[H++]]^b[G[H++]]^d[G[H++]]^h[G[H++]]^u[G[H++]]^c[G[H++]]^l[G[H++]]^o[G[H++]]^a[G[H++]]^n[G[H++]];for(W+=15;H<W;)k=k>>>8^n[(k^G[H++])&255];return~k}function Q(G,R){for(var k=R^-1,W=0,H=G.length,j=0,X=0;W<H;)j=G.charCodeAt(W++),j<128?k=k>>>8^n[(k^j)&255]:j<2048?(k=k>>>8^n[(k^(192|j>>6&31))&255],k=k>>>8^n[(k^(128|j&63))&255]):j>=55296&&j<57344?(j=(j&1023)+64,X=G.charCodeAt(W++)&1023,k=k>>>8^n[(k^(240|j>>8&7))&255],k=k>>>8^n[(k^(128|j>>2&63))&255],k=k>>>8^n[(k^(128|X>>6&15|(j&3)<<4))&255],k=k>>>8^n[(k^(128|X&63))&255]):(k=k>>>8^n[(k^(224|j>>12&15))&255],k=k>>>8^n[(k^(128|j>>6&63))&255],k=k>>>8^n[(k^(128|j&63))&255]);return~k}e.table=n,e.bstr=z,e.buf=ue,e.str=Q})})(pf);const{Transform:kk}=va,Bk=pf;let jk=class extends kk{constructor(e){super(e),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0}_transform(e,r,n){e&&(this.checksum=Bk.buf(e,this.checksum)>>>0,this.rawSize+=e.length),n(null,e)}digest(e){const r=Buffer.allocUnsafe(4);return r.writeUInt32BE(this.checksum>>>0,0),e?r.toString(e):r}hex(){return this.digest("hex").toUpperCase()}size(){return this.rawSize}};var Wk=jk;const{DeflateRaw:Gk}=el,qk=pf;let zk=class extends Gk{constructor(e){super(e),this.checksum=Buffer.allocUnsafe(4),this.checksum.writeInt32BE(0,0),this.rawSize=0,this.compressedSize=0}push(e,r){return e&&(this.compressedSize+=e.length),super.push(e,r)}_transform(e,r,n){e&&(this.checksum=qk.buf(e,this.checksum)>>>0,this.rawSize+=e.length),super._transform(e,r,n)}digest(e){const r=Buffer.allocUnsafe(4);return r.writeUInt32BE(this.checksum>>>0,0),e?r.toString(e):r}hex(){return this.digest("hex").toUpperCase()}size(e=!1){return e?this.compressedSize:this.rawSize}};var Hk=zk,FE={CRC32Stream:Wk,DeflateCRC32Stream:Hk},Vk=Bt.inherits,Yk=pf,{CRC32Stream:Kk}=FE,{DeflateCRC32Stream:Xk}=FE,ME=Uk,Fe=IE,Ie=tg,$t=LE.exports=function(t){if(!(this instanceof $t))return new $t(t);t=this.options=this._defaults(t),ME.call(this,t),this._entry=null,this._entries=[],this._archive={centralLength:0,centralOffset:0,comment:"",finish:!1,finished:!1,processing:!1,forceZip64:t.forceZip64,forceLocalTime:t.forceLocalTime}};Vk($t,ME);$t.prototype._afterAppend=function(t){this._entries.push(t),t.getGeneralPurposeBit().usesDataDescriptor()&&this._writeDataDescriptor(t),this._archive.processing=!1,this._entry=null,this._archive.finish&&!this._archive.finished&&this._finish()};$t.prototype._appendBuffer=function(t,e,r){e.length===0&&t.setMethod(Fe.METHOD_STORED);var n=t.getMethod();if(n===Fe.METHOD_STORED&&(t.setSize(e.length),t.setCompressedSize(e.length),t.setCrc(Yk.buf(e)>>>0)),this._writeLocalFileHeader(t),n===Fe.METHOD_STORED){this.write(e),this._afterAppend(t),r(null,t);return}else if(n===Fe.METHOD_DEFLATED){this._smartStream(t,r).end(e);return}else{r(new Error("compression method "+n+" not implemented"));return}};$t.prototype._appendStream=function(t,e,r){t.getGeneralPurposeBit().useDataDescriptor(!0),t.setVersionNeededToExtract(Fe.MIN_VERSION_DATA_DESCRIPTOR),this._writeLocalFileHeader(t);var n=this._smartStream(t,r);e.once("error",function(i){n.emit("error",i),n.end()}),e.pipe(n)};$t.prototype._defaults=function(t){return typeof t!="object"&&(t={}),typeof t.zlib!="object"&&(t.zlib={}),typeof t.zlib.level!="number"&&(t.zlib.level=Fe.ZLIB_BEST_SPEED),t.forceZip64=!!t.forceZip64,t.forceLocalTime=!!t.forceLocalTime,t};$t.prototype._finish=function(){this._archive.centralOffset=this.offset,this._entries.forEach((function(t){this._writeCentralFileHeader(t)}).bind(this)),this._archive.centralLength=this.offset-this._archive.centralOffset,this.isZip64()&&this._writeCentralDirectoryZip64(),this._writeCentralDirectoryEnd(),this._archive.processing=!1,this._archive.finish=!0,this._archive.finished=!0,this.end()};$t.prototype._normalizeEntry=function(t){t.getMethod()===-1&&t.setMethod(Fe.METHOD_DEFLATED),t.getMethod()===Fe.METHOD_DEFLATED&&(t.getGeneralPurposeBit().useDataDescriptor(!0),t.setVersionNeededToExtract(Fe.MIN_VERSION_DATA_DESCRIPTOR)),t.getTime()===-1&&t.setTime(new Date,this._archive.forceLocalTime),t._offsets={file:0,data:0,contents:0}};$t.prototype._smartStream=function(t,e){var r=t.getMethod()===Fe.METHOD_DEFLATED,n=r?new Xk(this.options.zlib):new Kk,i=null;function s(){var a=n.digest().readUInt32BE(0);t.setCrc(a),t.setSize(n.size()),t.setCompressedSize(n.size(!0)),this._afterAppend(t),e(i,t)}return n.once("end",s.bind(this)),n.once("error",function(a){i=a}),n.pipe(this,{end:!1}),n};$t.prototype._writeCentralDirectoryEnd=function(){var t=this._entries.length,e=this._archive.centralLength,r=this._archive.centralOffset;this.isZip64()&&(t=Fe.ZIP64_MAGIC_SHORT,e=Fe.ZIP64_MAGIC,r=Fe.ZIP64_MAGIC),this.write(Ie.getLongBytes(Fe.SIG_EOCD)),this.write(Fe.SHORT_ZERO),this.write(Fe.SHORT_ZERO),this.write(Ie.getShortBytes(t)),this.write(Ie.getShortBytes(t)),this.write(Ie.getLongBytes(e)),this.write(Ie.getLongBytes(r));var n=this.getComment(),i=Buffer.byteLength(n);this.write(Ie.getShortBytes(i)),this.write(n)};$t.prototype._writeCentralDirectoryZip64=function(){this.write(Ie.getLongBytes(Fe.SIG_ZIP64_EOCD)),this.write(Ie.getEightBytes(44)),this.write(Ie.getShortBytes(Fe.MIN_VERSION_ZIP64)),this.write(Ie.getShortBytes(Fe.MIN_VERSION_ZIP64)),this.write(Fe.LONG_ZERO),this.write(Fe.LONG_ZERO),this.write(Ie.getEightBytes(this._entries.length)),this.write(Ie.getEightBytes(this._entries.length)),this.write(Ie.getEightBytes(this._archive.centralLength)),this.write(Ie.getEightBytes(this._archive.centralOffset)),this.write(Ie.getLongBytes(Fe.SIG_ZIP64_EOCD_LOC)),this.write(Fe.LONG_ZERO),this.write(Ie.getEightBytes(this._archive.centralOffset+this._archive.centralLength)),this.write(Ie.getLongBytes(1))};$t.prototype._writeCentralFileHeader=function(t){var e=t.getGeneralPurposeBit(),r=t.getMethod(),n=t._offsets.file,i=t.getSize(),s=t.getCompressedSize();if(t.isZip64()||n>Fe.ZIP64_MAGIC){i=Fe.ZIP64_MAGIC,s=Fe.ZIP64_MAGIC,n=Fe.ZIP64_MAGIC,t.setVersionNeededToExtract(Fe.MIN_VERSION_ZIP64);var a=Buffer.concat([Ie.getShortBytes(Fe.ZIP64_EXTRA_ID),Ie.getShortBytes(24),Ie.getEightBytes(t.getSize()),Ie.getEightBytes(t.getCompressedSize()),Ie.getEightBytes(t._offsets.file)],28);t.setExtra(a)}this.write(Ie.getLongBytes(Fe.SIG_CFH)),this.write(Ie.getShortBytes(t.getPlatform()<<8|Fe.VERSION_MADEBY)),this.write(Ie.getShortBytes(t.getVersionNeededToExtract())),this.write(e.encode()),this.write(Ie.getShortBytes(r)),this.write(Ie.getLongBytes(t.getTimeDos())),this.write(Ie.getLongBytes(t.getCrc())),this.write(Ie.getLongBytes(s)),this.write(Ie.getLongBytes(i));var o=t.getName(),l=t.getComment(),c=t.getCentralDirectoryExtra();e.usesUTF8ForNames()&&(o=Buffer.from(o),l=Buffer.from(l)),this.write(Ie.getShortBytes(o.length)),this.write(Ie.getShortBytes(c.length)),this.write(Ie.getShortBytes(l.length)),this.write(Fe.SHORT_ZERO),this.write(Ie.getShortBytes(t.getInternalAttributes())),this.write(Ie.getLongBytes(t.getExternalAttributes())),this.write(Ie.getLongBytes(n)),this.write(o),this.write(c),this.write(l)};$t.prototype._writeDataDescriptor=function(t){this.write(Ie.getLongBytes(Fe.SIG_DD)),this.write(Ie.getLongBytes(t.getCrc())),t.isZip64()?(this.write(Ie.getEightBytes(t.getCompressedSize())),this.write(Ie.getEightBytes(t.getSize()))):(this.write(Ie.getLongBytes(t.getCompressedSize())),this.write(Ie.getLongBytes(t.getSize())))};$t.prototype._writeLocalFileHeader=function(t){var e=t.getGeneralPurposeBit(),r=t.getMethod(),n=t.getName(),i=t.getLocalFileDataExtra();t.isZip64()&&(e.useDataDescriptor(!0),t.setVersionNeededToExtract(Fe.MIN_VERSION_ZIP64)),e.usesUTF8ForNames()&&(n=Buffer.from(n)),t._offsets.file=this.offset,this.write(Ie.getLongBytes(Fe.SIG_LFH)),this.write(Ie.getShortBytes(t.getVersionNeededToExtract())),this.write(e.encode()),this.write(Ie.getShortBytes(r)),this.write(Ie.getLongBytes(t.getTimeDos())),t._offsets.data=this.offset,e.usesDataDescriptor()?(this.write(Fe.LONG_ZERO),this.write(Fe.LONG_ZERO),this.write(Fe.LONG_ZERO)):(this.write(Ie.getLongBytes(t.getCrc())),this.write(Ie.getLongBytes(t.getCompressedSize())),this.write(Ie.getLongBytes(t.getSize()))),this.write(Ie.getShortBytes(n.length)),this.write(Ie.getShortBytes(i.length)),this.write(n),this.write(i),t._offsets.contents=this.offset};$t.prototype.getComment=function(t){return this._archive.comment!==null?this._archive.comment:""};$t.prototype.isZip64=function(){return this._archive.forceZip64||this._entries.length>Fe.ZIP64_MAGIC_SHORT||this._archive.centralLength>Fe.ZIP64_MAGIC||this._archive.centralOffset>Fe.ZIP64_MAGIC};$t.prototype.setComment=function(t){this._archive.comment=t};var Zk=LE.exports,UE={ZipArchiveEntry:Ik,ZipArchiveOutputStream:Zk};/**
 * ZipStream
 *
 * @ignore
 * @license [MIT]{@link https://github.com/archiverjs/node-zip-stream/blob/master/LICENSE}
 * @copyright (c) 2014 Chris Talkington, contributors.
 */var Qk=Bt.inherits,ng=UE.ZipArchiveOutputStream,Jk=UE.ZipArchiveEntry,td=Sl,da=wE.exports=function(t){if(!(this instanceof da))return new da(t);t=this.options=t||{},t.zlib=t.zlib||{},ng.call(this,t),typeof t.level=="number"&&t.level>=0&&(t.zlib.level=t.level,delete t.level),!t.forceZip64&&typeof t.zlib.level=="number"&&t.zlib.level===0&&(t.store=!0),t.namePrependSlash=t.namePrependSlash||!1,t.comment&&t.comment.length>0&&this.setComment(t.comment)};Qk(da,ng);da.prototype._normalizeFileData=function(t){t=td.defaults(t,{type:"file",name:null,namePrependSlash:this.options.namePrependSlash,linkname:null,date:null,mode:null,store:this.options.store,comment:""});var e=t.type==="directory",r=t.type==="symlink";return t.name&&(t.name=td.sanitizePath(t.name),!r&&t.name.slice(-1)==="/"?(e=!0,t.type="directory"):e&&(t.name+="/")),(e||r)&&(t.store=!0),t.date=td.dateify(t.date),t};da.prototype.entry=function(t,e,r){if(typeof r!="function"&&(r=this._emitErrorCallback.bind(this)),e=this._normalizeFileData(e),e.type!=="file"&&e.type!=="directory"&&e.type!=="symlink"){r(new Error(e.type+" entries not currently supported"));return}if(typeof e.name!="string"||e.name.length===0){r(new Error("entry name must be a non-empty string value"));return}if(e.type==="symlink"&&typeof e.linkname!="string"){r(new Error("entry linkname must be a non-empty string value when type equals symlink"));return}var n=new Jk(e.name);return n.setTime(e.date,this.options.forceLocalTime),e.namePrependSlash&&n.setName(e.name,!0),e.store&&n.setMethod(0),e.comment.length>0&&n.setComment(e.comment),e.type==="symlink"&&typeof e.mode!="number"&&(e.mode=40960),typeof e.mode=="number"&&(e.type==="symlink"&&(e.mode|=40960),n.setUnixMode(e.mode)),e.type==="symlink"&&typeof e.linkname=="string"&&(t=Buffer.from(e.linkname)),ng.prototype.entry.call(this,n,t,r)};da.prototype.finalize=function(){this.finish()};var e6=wE.exports;/**
 * ZIP Format Plugin
 *
 * @module plugins/zip
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */var t6=e6,r6=Sl,Ri=function(t){if(!(this instanceof Ri))return new Ri(t);t=this.options=r6.defaults(t,{comment:"",forceUTC:!1,namePrependSlash:!1,store:!1}),this.supports={directory:!0,symlink:!0},this.engine=new t6(t)};Ri.prototype.append=function(t,e,r){this.engine.entry(t,e,r)};Ri.prototype.finalize=function(){this.engine.finalize()};Ri.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)};Ri.prototype.pipe=function(){return this.engine.pipe.apply(this.engine,arguments)};Ri.prototype.unpipe=function(){return this.engine.unpipe.apply(this.engine,arguments)};var n6=Ri,ig={},i6=Cr,s6=class{constructor(e){if(!(e>0)||e-1&e)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){const e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}};const aw=s6;var kE=class{constructor(e){this.hwm=e||16,this.head=new aw(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(e){if(this.length++,!this.head.push(e)){const r=this.head;this.head=r.next=new aw(2*this.head.buffer.length),this.head.push(e)}}shift(){this.length!==0&&this.length--;const e=this.tail.shift();if(e===void 0&&this.tail.next){const r=this.tail.next;return this.tail.next=null,this.tail=r,this.tail.shift()}return e}peek(){const e=this.tail.peek();return e===void 0&&this.tail.next?this.tail.next.peek():e}isEmpty(){return this.length===0}};function a6(t){return Buffer.isBuffer(t)||t instanceof Uint8Array}function o6(t){return Buffer.isEncoding(t)}function l6(t,e,r){return Buffer.alloc(t,e,r)}function u6(t){return Buffer.allocUnsafe(t)}function c6(t){return Buffer.allocUnsafeSlow(t)}function f6(t,e){return Buffer.byteLength(t,e)}function h6(t,e){return Buffer.compare(t,e)}function d6(t,e){return Buffer.concat(t,e)}function p6(t,e,r,n,i){return He(t).copy(e,r,n,i)}function g6(t,e){return He(t).equals(e)}function m6(t,e,r,n,i){return He(t).fill(e,r,n,i)}function y6(t,e,r){return Buffer.from(t,e,r)}function w6(t,e,r,n){return He(t).includes(e,r,n)}function _6(t,e,r,n){return He(t).indexOf(e,r,n)}function b6(t,e,r,n){return He(t).lastIndexOf(e,r,n)}function v6(t){return He(t).swap16()}function E6(t){return He(t).swap32()}function S6(t){return He(t).swap64()}function He(t){return Buffer.isBuffer(t)?t:Buffer.from(t.buffer,t.byteOffset,t.byteLength)}function T6(t,e,r,n){return He(t).toString(e,r,n)}function A6(t,e,r,n,i){return He(t).write(e,r,n,i)}function x6(t,e){return He(t).readDoubleBE(e)}function R6(t,e){return He(t).readDoubleLE(e)}function O6(t,e){return He(t).readFloatBE(e)}function I6(t,e){return He(t).readFloatLE(e)}function C6(t,e){return He(t).readInt32BE(e)}function D6(t,e){return He(t).readInt32LE(e)}function P6(t,e){return He(t).readUInt32BE(e)}function $6(t,e){return He(t).readUInt32LE(e)}function N6(t,e,r){return He(t).writeDoubleBE(e,r)}function L6(t,e,r){return He(t).writeDoubleLE(e,r)}function F6(t,e,r){return He(t).writeFloatBE(e,r)}function M6(t,e,r){return He(t).writeFloatLE(e,r)}function U6(t,e,r){return He(t).writeInt32BE(e,r)}function k6(t,e,r){return He(t).writeInt32LE(e,r)}function B6(t,e,r){return He(t).writeUInt32BE(e,r)}function j6(t,e,r){return He(t).writeUInt32LE(e,r)}var BE={isBuffer:a6,isEncoding:o6,alloc:l6,allocUnsafe:u6,allocUnsafeSlow:c6,byteLength:f6,compare:h6,concat:d6,copy:p6,equals:g6,fill:m6,from:y6,includes:w6,indexOf:_6,lastIndexOf:b6,swap16:v6,swap32:E6,swap64:S6,toBuffer:He,toString:T6,write:A6,readDoubleBE:x6,readDoubleLE:R6,readFloatBE:O6,readFloatLE:I6,readInt32BE:C6,readInt32LE:D6,readUInt32BE:P6,readUInt32LE:$6,writeDoubleBE:N6,writeDoubleLE:L6,writeFloatBE:F6,writeFloatLE:M6,writeInt32BE:U6,writeInt32LE:k6,writeUInt32BE:B6,writeUInt32LE:j6};const W6=BE;var G6=class{constructor(e){this.encoding=e}get remaining(){return 0}decode(e){return W6.toString(e,this.encoding)}flush(){return""}};const q6=BE;var z6=class{constructor(){this.codePoint=0,this.bytesSeen=0,this.bytesNeeded=0,this.lowerBoundary=128,this.upperBoundary=191}get remaining(){return this.bytesSeen}decode(e){if(this.bytesNeeded===0){let n=!0;for(let i=Math.max(0,e.byteLength-4),s=e.byteLength;i<s&&n;i++)n=e[i]<=127;if(n)return q6.toString(e,"utf8")}let r="";for(let n=0,i=e.byteLength;n<i;n++){const s=e[n];if(this.bytesNeeded===0){s<=127?r+=String.fromCharCode(s):(this.bytesSeen=1,s>=194&&s<=223?(this.bytesNeeded=2,this.codePoint=s&31):s>=224&&s<=239?(s===224?this.lowerBoundary=160:s===237&&(this.upperBoundary=159),this.bytesNeeded=3,this.codePoint=s&15):s>=240&&s<=244?(s===240&&(this.lowerBoundary=144),s===244&&(this.upperBoundary=143),this.bytesNeeded=4,this.codePoint=s&7):r+="");continue}if(s<this.lowerBoundary||s>this.upperBoundary){this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,r+="";continue}this.lowerBoundary=128,this.upperBoundary=191,this.codePoint=this.codePoint<<6|s&63,this.bytesSeen++,this.bytesSeen===this.bytesNeeded&&(r+=String.fromCodePoint(this.codePoint),this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0)}return r}flush(){const e=this.bytesNeeded>0?"":"";return this.codePoint=0,this.bytesNeeded=0,this.bytesSeen=0,this.lowerBoundary=128,this.upperBoundary=191,e}};const H6=G6,V6=z6;var Y6=class{constructor(e="utf8"){switch(this.encoding=K6(e),this.encoding){case"utf8":this.decoder=new V6;break;case"utf16le":case"base64":throw new Error("Unsupported encoding: "+this.encoding);default:this.decoder=new H6(this.encoding)}}get remaining(){return this.decoder.remaining}push(e){return typeof e=="string"?e:this.decoder.decode(e)}write(e){return this.push(e)}end(e){let r="";return e&&(r=this.push(e)),r+=this.decoder.flush(),r}};function K6(t){switch(t=t.toLowerCase(),t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:throw new Error("Unknown encoding: "+t)}}const{EventEmitter:X6}=i6,gf=new Error("Stream was destroyed"),jE=kE,Z6=Y6,Vd=typeof queueMicrotask>"u"?t=>Be.process.nextTick(t):queueMicrotask,ut=(1<<29)-1,Ni=1,sg=2,ds=4,Ao=8,WE=ut^Ni,Q6=ut^sg,Tl=16,zs=32,Aa=64,_i=128,Al=256,ag=512,ps=1024,Yd=2048,og=4096,lg=8192,Kr=16384,di=32768,mf=65536,gs=131072,GE=Al|ag,J6=Tl|mf,eB=Aa|Tl,tB=og|_i,ug=Al|gs,rB=ut^Tl,nB=ut^Aa,iB=ut^(Aa|mf),ow=ut^mf,sB=ut^Al,aB=ut^(_i|lg),oB=ut^ps,lw=ut^GE,qE=ut^di,lB=ut^zs,zE=ut^gs,uB=ut^ug,Wn=1<<18,pa=2<<18,xl=4<<18,ms=8<<18,Rl=16<<18,Li=32<<18,Kd=64<<18,Hs=128<<18,cg=256<<18,ys=512<<18,yf=1024<<18,cB=ut^(Wn|cg),HE=ut^xl,fB=ut^(Wn|ys),hB=ut^Rl,dB=ut^ms,VE=ut^Hs,pB=ut^pa,YE=ut^yf,xo=Tl|Wn,KE=ut^xo,fg=Kr|Li,pn=ds|Ao|sg,Er=pn|Ni,XE=pn|fg,gB=HE&nB,hg=Hs|di,mB=hg&KE,ZE=Er|mB,yB=Er|ps|Kr,uw=Er|Kr|_i,wB=Er|ps|_i,_B=Er|og|_i|lg,bB=Er|Tl|ps|Kr|mf|gs,vB=pn|ps|Kr,EB=zs|Er|di|Aa,SB=di|Ni,TB=Er|ys|Li,AB=ms|Rl,QE=ms|Wn,xB=ms|Rl|Er|Wn,cw=Er|Wn|ms|yf,RB=xl|Wn,OB=Wn|cg,IB=Er|ys|QE|Li,CB=Rl|pn|ys|Li,DB=pa|Er|Hs|xl,PB=ys|Li|pn,vu=Symbol.asyncIterator||Symbol("asyncIterator");class JE{constructor(e,{highWaterMark:r=16384,map:n=null,mapWritable:i,byteLength:s,byteLengthWritable:a}={}){this.stream=e,this.queue=new jE,this.highWaterMark=r,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=a||s||aS,this.map=i||n,this.afterWrite=MB.bind(this),this.afterUpdateNextTick=BB.bind(this)}get ended(){return(this.stream._duplexState&Li)!==0}push(e){return this.stream._duplexState&PB?!1:(this.map!==null&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),this.buffered<this.highWaterMark?(this.stream._duplexState|=ms,!0):(this.stream._duplexState|=AB,!1))}shift(){const e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=dB),e}end(e){typeof e=="function"?this.stream.once("finish",e):e!=null&&this.push(e),this.stream._duplexState=(this.stream._duplexState|ys)&HE}autoBatch(e,r){const n=[],i=this.stream;for(n.push(e);(i._duplexState&cw)===QE;)n.push(i._writableState.shift());if(i._duplexState&Er)return r(null);i._writev(n,r)}update(){const e=this.stream;e._duplexState|=pa;do{for(;(e._duplexState&cw)===ms;){const r=this.shift();e._duplexState|=OB,e._write(r,this.afterWrite)}e._duplexState&RB||this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=pB}updateNonPrimary(){const e=this.stream;if((e._duplexState&IB)===ys){e._duplexState=e._duplexState|Wn,e._final(FB.bind(this));return}if((e._duplexState&pn)===ds){e._duplexState&hg||(e._duplexState|=xo,e._destroy(eS.bind(this)));return}(e._duplexState&ZE)===Ni&&(e._duplexState=(e._duplexState|xo)&WE,e._open(tS.bind(this)))}continueUpdate(){return this.stream._duplexState&Hs?(this.stream._duplexState&=VE,!0):!1}updateCallback(){(this.stream._duplexState&DB)===xl?this.update():this.updateNextTick()}updateNextTick(){this.stream._duplexState&Hs||(this.stream._duplexState|=Hs,this.stream._duplexState&pa||Vd(this.afterUpdateNextTick))}}class $B{constructor(e,{highWaterMark:r=16384,map:n=null,mapReadable:i,byteLength:s,byteLengthReadable:a}={}){this.stream=e,this.queue=new jE,this.highWaterMark=r===0?1:r,this.buffered=0,this.readAhead=r>0,this.error=null,this.pipeline=null,this.byteLength=a||s||aS,this.map=i||n,this.pipeTo=null,this.afterRead=UB.bind(this),this.afterUpdateNextTick=kB.bind(this)}get ended(){return(this.stream._duplexState&Kr)!==0}pipe(e,r){if(this.pipeTo!==null)throw new Error("Can only pipe to one destination");if(typeof r!="function"&&(r=null),this.stream._duplexState|=ag,this.pipeTo=e,this.pipeline=new NB(this.stream,e,r),r&&this.stream.on("error",fw),sS(e))e._writableState.pipeline=this.pipeline,r&&e.on("error",fw),e.on("finish",this.pipeline.finished.bind(this.pipeline));else{const n=this.pipeline.done.bind(this.pipeline,e),i=this.pipeline.done.bind(this.pipeline,e,null);e.on("error",n),e.on("close",i),e.on("finish",this.pipeline.finished.bind(this.pipeline))}e.on("drain",LB.bind(this)),this.stream.emit("piping",e),e.emit("pipe",this.stream)}push(e){const r=this.stream;return e===null?(this.highWaterMark=0,r._duplexState=(r._duplexState|ps)&iB,!1):this.map!==null&&(e=this.map(e),e===null)?(r._duplexState&=ow,this.buffered<this.highWaterMark):(this.buffered+=this.byteLength(e),this.queue.push(e),r._duplexState=(r._duplexState|_i)&ow,this.buffered<this.highWaterMark)}shift(){const e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=aB),e}unshift(e){const r=[this.map!==null?this.map(e):e];for(;this.buffered>0;)r.push(this.shift());for(let n=0;n<r.length-1;n++){const i=r[n];this.buffered+=this.byteLength(i),this.queue.push(i)}this.push(r[r.length-1])}read(){const e=this.stream;if((e._duplexState&uw)===_i){const r=this.shift();return this.pipeTo!==null&&this.pipeTo.write(r)===!1&&(e._duplexState&=lw),e._duplexState&Yd&&e.emit("data",r),r}return this.readAhead===!1&&(e._duplexState|=gs,this.updateNextTick()),null}drain(){const e=this.stream;for(;(e._duplexState&uw)===_i&&e._duplexState&GE;){const r=this.shift();this.pipeTo!==null&&this.pipeTo.write(r)===!1&&(e._duplexState&=lw),e._duplexState&Yd&&e.emit("data",r)}}update(){const e=this.stream;e._duplexState|=zs;do{for(this.drain();this.buffered<this.highWaterMark&&(e._duplexState&bB)===gs;)e._duplexState|=J6,e._read(this.afterRead),this.drain();(e._duplexState&_B)===tB&&(e._duplexState|=lg,e.emit("readable")),e._duplexState&eB||this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=lB}updateNonPrimary(){const e=this.stream;if((e._duplexState&wB)===ps&&(e._duplexState=(e._duplexState|Kr)&oB,e.emit("end"),(e._duplexState&XE)===fg&&(e._duplexState|=ds),this.pipeTo!==null&&this.pipeTo.end()),(e._duplexState&pn)===ds){e._duplexState&hg||(e._duplexState|=xo,e._destroy(eS.bind(this)));return}(e._duplexState&ZE)===Ni&&(e._duplexState=(e._duplexState|xo)&WE,e._open(tS.bind(this)))}continueUpdate(){return this.stream._duplexState&di?(this.stream._duplexState&=qE,!0):!1}updateCallback(){(this.stream._duplexState&EB)===Aa?this.update():this.updateNextTick()}updateNextTickIfOpen(){this.stream._duplexState&SB||(this.stream._duplexState|=di,this.stream._duplexState&zs||Vd(this.afterUpdateNextTick))}updateNextTick(){this.stream._duplexState&di||(this.stream._duplexState|=di,this.stream._duplexState&zs||Vd(this.afterUpdateNextTick))}}class NB{constructor(e,r,n){this.from=e,this.to=r,this.afterPipe=n,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(e,r){if(r&&(this.error=r),e===this.to&&(this.to=null,this.from!==null)){(!(this.from._duplexState&Kr)||!this.pipeToFinished)&&this.from.destroy(this.error||new Error("Writable stream closed prematurely"));return}if(e===this.from&&(this.from=null,this.to!==null)){e._duplexState&Kr||this.to.destroy(this.error||new Error("Readable stream closed before ending"));return}this.afterPipe!==null&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null}}function LB(){this.stream._duplexState|=ag,this.updateCallback()}function FB(t){const e=this.stream;t&&e.destroy(t),e._duplexState&pn||(e._duplexState|=Li,e.emit("finish")),(e._duplexState&XE)===fg&&(e._duplexState|=ds),e._duplexState&=fB,e._duplexState&pa?this.updateNextTick():this.update()}function eS(t){const e=this.stream;!t&&this.error!==gf&&(t=this.error),t&&e.emit("error",t),e._duplexState|=Ao,e.emit("close");const r=e._readableState,n=e._writableState;if(r!==null&&r.pipeline!==null&&r.pipeline.done(e,t),n!==null){for(;n.drains!==null&&n.drains.length>0;)n.drains.shift().resolve(!1);n.pipeline!==null&&n.pipeline.done(e,t)}}function MB(t){const e=this.stream;t&&e.destroy(t),e._duplexState&=cB,this.drains!==null&&jB(this.drains),(e._duplexState&xB)===Rl&&(e._duplexState&=hB,(e._duplexState&Kd)===Kd&&e.emit("drain")),this.updateCallback()}function UB(t){t&&this.stream.destroy(t),this.stream._duplexState&=rB,this.readAhead===!1&&!(this.stream._duplexState&Al)&&(this.stream._duplexState&=zE),this.updateCallback()}function kB(){this.stream._duplexState&zs||(this.stream._duplexState&=qE,this.update())}function BB(){this.stream._duplexState&pa||(this.stream._duplexState&=VE,this.update())}function jB(t){for(let e=0;e<t.length;e++)--t[e].writes===0&&(t.shift().resolve(!0),e--)}function tS(t){const e=this.stream;t&&e.destroy(t),e._duplexState&ds||(e._duplexState&yB||(e._duplexState|=Aa),e._duplexState&TB||(e._duplexState|=xl),e.emit("open")),e._duplexState&=KE,e._writableState!==null&&e._writableState.updateCallback(),e._readableState!==null&&e._readableState.updateCallback()}function WB(t){this._readableState!==null&&(t==="data"&&(this._duplexState|=Yd|ug,this._readableState.updateNextTick()),t==="readable"&&(this._duplexState|=og,this._readableState.updateNextTick())),this._writableState!==null&&t==="drain"&&(this._duplexState|=Kd,this._writableState.updateNextTick())}class rS extends X6{constructor(e){super(),this._duplexState=0,this._readableState=null,this._writableState=null,e&&(e.open&&(this._open=e.open),e.destroy&&(this._destroy=e.destroy),e.predestroy&&(this._predestroy=e.predestroy),e.signal&&e.signal.addEventListener("abort",KB.bind(this))),this.on("newListener",WB)}_open(e){e(null)}_destroy(e){e(null)}_predestroy(){}get readable(){return this._readableState!==null?!0:void 0}get writable(){return this._writableState!==null?!0:void 0}get destroyed(){return(this._duplexState&Ao)!==0}get destroying(){return(this._duplexState&pn)!==0}destroy(e){this._duplexState&pn||(e||(e=gf),this._duplexState=(this._duplexState|ds)&gB,this._readableState!==null&&(this._readableState.highWaterMark=0,this._readableState.error=e),this._writableState!==null&&(this._writableState.highWaterMark=0,this._writableState.error=e),this._duplexState|=sg,this._predestroy(),this._duplexState&=Q6,this._readableState!==null&&this._readableState.updateNextTick(),this._writableState!==null&&this._writableState.updateNextTick())}}let nS=class Xd extends rS{constructor(e){super(e),this._duplexState|=Ni|Li|gs,this._readableState=new $B(this,e),e&&(this._readableState.readAhead===!1&&(this._duplexState&=zE),e.read&&(this._read=e.read),e.eagerOpen&&this._readableState.updateNextTick(),e.encoding&&this.setEncoding(e.encoding))}setEncoding(e){const r=new Z6(e),n=this._readableState.map||qB;return this._readableState.map=i,this;function i(s){const a=r.push(s);return a===""&&(s.byteLength!==0||r.remaining>0)?null:n(a)}}_read(e){e(null)}pipe(e,r){return this._readableState.updateNextTick(),this._readableState.pipe(e,r),e}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(e){return this._readableState.updateNextTickIfOpen(),this._readableState.push(e)}unshift(e){return this._readableState.updateNextTickIfOpen(),this._readableState.unshift(e)}resume(){return this._duplexState|=ug,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=this._readableState.readAhead===!1?uB:sB,this}static _fromAsyncIterator(e,r){let n;const i=new Xd({...r,read(a){e.next().then(s).then(a.bind(null,null)).catch(a)},predestroy(){n=e.return()},destroy(a){if(!n)return a(null);n.then(a.bind(null,null)).catch(a)}});return i;function s(a){a.done?i.push(null):i.push(a.value)}}static from(e,r){if(VB(e))return e;if(e[vu])return this._fromAsyncIterator(e[vu](),r);Array.isArray(e)||(e=e===void 0?[]:[e]);let n=0;return new Xd({...r,read(i){this.push(n===e.length?null:e[n++]),i(null)}})}static isBackpressured(e){return(e._duplexState&vB)!==0||e._readableState.buffered>=e._readableState.highWaterMark}static isPaused(e){return(e._duplexState&Al)===0}[vu](){const e=this;let r=null,n=null,i=null;return this.on("error",c=>{r=c}),this.on("readable",s),this.on("close",a),{[vu](){return this},next(){return new Promise(function(c,u){n=c,i=u;const h=e.read();h!==null?o(h):e._duplexState&Ao&&o(null)})},return(){return l(null)},throw(c){return l(c)}};function s(){n!==null&&o(e.read())}function a(){n!==null&&o(null)}function o(c){i!==null&&(r?i(r):c===null&&!(e._duplexState&Kr)?i(gf):n({value:c,done:c===null}),i=n=null)}function l(c){return e.destroy(c),new Promise((u,h)=>{if(e._duplexState&Ao)return u({value:void 0,done:!0});e.once("close",function(){c?h(c):u({value:void 0,done:!0})})})}}},iS=class extends rS{constructor(e){super(e),this._duplexState|=Ni|Kr,this._writableState=new JE(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final),e.eagerOpen&&this._writableState.updateNextTick())}cork(){this._duplexState|=yf}uncork(){this._duplexState&=YE,this._writableState.updateNextTick()}_writev(e,r){r(null)}_write(e,r){this._writableState.autoBatch(e,r)}_final(e){e(null)}static isBackpressured(e){return(e._duplexState&CB)!==0}static drained(e){if(e.destroyed)return Promise.resolve(!1);const r=e._writableState,i=(XB(e)?Math.min(1,r.queue.length):r.queue.length)+(e._duplexState&cg?1:0);return i===0?Promise.resolve(!0):(r.drains===null&&(r.drains=[]),new Promise(s=>{r.drains.push({writes:i,resolve:s})}))}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}};class GB extends nS{constructor(e){super(e),this._duplexState=Ni|this._duplexState&gs,this._writableState=new JE(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final))}cork(){this._duplexState|=yf}uncork(){this._duplexState&=YE,this._writableState.updateNextTick()}_writev(e,r){r(null)}_write(e,r){this._writableState.autoBatch(e,r)}_final(e){e(null)}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}}function qB(t){return t}function zB(t){return!!t._readableState||!!t._writableState}function sS(t){return typeof t._duplexState=="number"&&zB(t)}function HB(t,e={}){const r=t._readableState&&t._readableState.error||t._writableState&&t._writableState.error;return!e.all&&r===gf?null:r}function VB(t){return sS(t)&&t.readable}function YB(t){return typeof t=="object"&&t!==null&&typeof t.byteLength=="number"}function aS(t){return YB(t)?t.byteLength:1024}function fw(){}function KB(){this.destroy(new Error("Stream aborted."))}function XB(t){return t._writev!==iS.prototype._writev&&t._writev!==GB.prototype._writev}var oS={getStreamError:HB,Writable:iS,Readable:nS};function ZB(t){return Buffer.isBuffer(t)||t instanceof Uint8Array}function QB(t){return Buffer.isEncoding(t)}function JB(t,e,r){return Buffer.alloc(t,e,r)}function e4(t){return Buffer.allocUnsafe(t)}function t4(t){return Buffer.allocUnsafeSlow(t)}function r4(t,e){return Buffer.byteLength(t,e)}function n4(t,e){return Buffer.compare(t,e)}function i4(t,e){return Buffer.concat(t,e)}function s4(t,e,r,n,i){return Ve(t).copy(e,r,n,i)}function a4(t,e){return Ve(t).equals(e)}function o4(t,e,r,n,i){return Ve(t).fill(e,r,n,i)}function l4(t,e,r){return Buffer.from(t,e,r)}function u4(t,e,r,n){return Ve(t).includes(e,r,n)}function c4(t,e,r,n){return Ve(t).indexOf(e,r,n)}function f4(t,e,r,n){return Ve(t).lastIndexOf(e,r,n)}function h4(t){return Ve(t).swap16()}function d4(t){return Ve(t).swap32()}function p4(t){return Ve(t).swap64()}function Ve(t){return Buffer.isBuffer(t)?t:Buffer.from(t.buffer,t.byteOffset,t.byteLength)}function g4(t,e,r,n){return Ve(t).toString(e,r,n)}function m4(t,e,r,n,i){return Ve(t).write(e,r,n,i)}function y4(t,e){return Ve(t).readDoubleBE(e)}function w4(t,e){return Ve(t).readDoubleLE(e)}function _4(t,e){return Ve(t).readFloatBE(e)}function b4(t,e){return Ve(t).readFloatLE(e)}function v4(t,e){return Ve(t).readInt32BE(e)}function E4(t,e){return Ve(t).readInt32LE(e)}function S4(t,e){return Ve(t).readUInt32BE(e)}function T4(t,e){return Ve(t).readUInt32LE(e)}function A4(t,e,r){return Ve(t).writeDoubleBE(e,r)}function x4(t,e,r){return Ve(t).writeDoubleLE(e,r)}function R4(t,e,r){return Ve(t).writeFloatBE(e,r)}function O4(t,e,r){return Ve(t).writeFloatLE(e,r)}function I4(t,e,r){return Ve(t).writeInt32BE(e,r)}function C4(t,e,r){return Ve(t).writeInt32LE(e,r)}function D4(t,e,r){return Ve(t).writeUInt32BE(e,r)}function P4(t,e,r){return Ve(t).writeUInt32LE(e,r)}var dg={isBuffer:ZB,isEncoding:QB,alloc:JB,allocUnsafe:e4,allocUnsafeSlow:t4,byteLength:r4,compare:n4,concat:i4,copy:s4,equals:a4,fill:o4,from:l4,includes:u4,indexOf:c4,lastIndexOf:f4,swap16:h4,swap32:d4,swap64:p4,toBuffer:Ve,toString:g4,write:m4,readDoubleBE:y4,readDoubleLE:w4,readFloatBE:_4,readFloatLE:b4,readInt32BE:v4,readInt32LE:E4,readUInt32BE:S4,readUInt32LE:T4,writeDoubleBE:A4,writeDoubleLE:x4,writeFloatBE:R4,writeFloatLE:O4,writeInt32BE:I4,writeInt32LE:C4,writeUInt32BE:D4,writeUInt32LE:P4},Es={};const je=dg,$4="0000000000000000000",N4="7777777777777777777",Ec=48,lS=je.from([117,115,116,97,114,0]),L4=je.from([Ec,Ec]),F4=je.from([117,115,116,97,114,32]),M4=je.from([32,0]),U4=4095,Ro=257,Zd=263;Es.decodeLongPath=function(e,r){return Fs(e,0,e.length,r)};Es.encodePax=function(e){let r="";e.name&&(r+=rd(" path="+e.name+`
`)),e.linkname&&(r+=rd(" linkpath="+e.linkname+`
`));const n=e.pax;if(n)for(const i in n)r+=rd(" "+i+"="+n[i]+`
`);return je.from(r)};Es.decodePax=function(e){const r={};for(;e.length;){let n=0;for(;n<e.length&&e[n]!==32;)n++;const i=parseInt(je.toString(e.subarray(0,n)),10);if(!i)return r;const s=je.toString(e.subarray(n+1,i-1)),a=s.indexOf("=");if(a===-1)return r;r[s.slice(0,a)]=s.slice(a+1),e=e.subarray(i)}return r};Es.encode=function(e){const r=je.alloc(512);let n=e.name,i="";if(e.typeflag===5&&n[n.length-1]!=="/"&&(n+="/"),je.byteLength(n)!==n.length)return null;for(;je.byteLength(n)>100;){const s=n.indexOf("/");if(s===-1)return null;i+=i?"/"+n.slice(0,s):n.slice(0,s),n=n.slice(s+1)}return je.byteLength(n)>100||je.byteLength(i)>155||e.linkname&&je.byteLength(e.linkname)>100?null:(je.write(r,n),je.write(r,ni(e.mode&U4,6),100),je.write(r,ni(e.uid,6),108),je.write(r,ni(e.gid,6),116),z4(e.size,r,124),je.write(r,ni(e.mtime.getTime()/1e3|0,11),136),r[156]=Ec+G4(e.type),e.linkname&&je.write(r,e.linkname,157),je.copy(lS,r,Ro),je.copy(L4,r,Zd),e.uname&&je.write(r,e.uname,265),e.gname&&je.write(r,e.gname,297),je.write(r,ni(e.devmajor||0,6),329),je.write(r,ni(e.devminor||0,6),337),i&&je.write(r,i,345),je.write(r,ni(cS(r),6),148),r)};Es.decode=function(e,r,n){let i=e[156]===0?0:e[156]-Ec,s=Fs(e,0,100,r);const a=Qn(e,100,8),o=Qn(e,108,8),l=Qn(e,116,8),c=Qn(e,124,12),u=Qn(e,136,12),h=W4(i),d=e[157]===0?null:Fs(e,157,100,r),b=Fs(e,265,32),T=Fs(e,297,32),w=Qn(e,329,8),E=Qn(e,337,8),p=cS(e);if(p===8*32)return null;if(p!==Qn(e,148,8))throw new Error("Invalid tar header. Maybe the tar is corrupted or it needs to be gunzipped?");if(k4(e))e[345]&&(s=Fs(e,345,155,r)+"/"+s);else if(!B4(e)){if(!n)throw new Error("Invalid tar header: unknown format.")}return i===0&&s&&s[s.length-1]==="/"&&(i=5),{name:s,mode:a,uid:o,gid:l,size:c,mtime:new Date(1e3*u),type:h,linkname:d,uname:b,gname:T,devmajor:w,devminor:E,pax:null}};function k4(t){return je.equals(lS,t.subarray(Ro,Ro+6))}function B4(t){return je.equals(F4,t.subarray(Ro,Ro+6))&&je.equals(M4,t.subarray(Zd,Zd+2))}function j4(t,e,r){return typeof t!="number"?r:(t=~~t,t>=e?e:t>=0||(t+=e,t>=0)?t:0)}function W4(t){switch(t){case 0:return"file";case 1:return"link";case 2:return"symlink";case 3:return"character-device";case 4:return"block-device";case 5:return"directory";case 6:return"fifo";case 7:return"contiguous-file";case 72:return"pax-header";case 55:return"pax-global-header";case 27:return"gnu-long-link-path";case 28:case 30:return"gnu-long-path"}return null}function G4(t){switch(t){case"file":return 0;case"link":return 1;case"symlink":return 2;case"character-device":return 3;case"block-device":return 4;case"directory":return 5;case"fifo":return 6;case"contiguous-file":return 7;case"pax-header":return 72}return 0}function uS(t,e,r,n){for(;r<n;r++)if(t[r]===e)return r;return n}function cS(t){let e=256;for(let r=0;r<148;r++)e+=t[r];for(let r=156;r<512;r++)e+=t[r];return e}function ni(t,e){return t=t.toString(8),t.length>e?N4.slice(0,e)+" ":$4.slice(0,e-t.length)+t+" "}function q4(t,e,r){e[r]=128;for(let n=11;n>0;n--)e[r+n]=t&255,t=Math.floor(t/256)}function z4(t,e,r){t.toString(8).length>11?q4(t,e,r):je.write(e,ni(t,11),r)}function H4(t){let e;if(t[0]===128)e=!0;else if(t[0]===255)e=!1;else return null;const r=[];let n;for(n=t.length-1;n>0;n--){const a=t[n];e?r.push(a):r.push(255-a)}let i=0;const s=r.length;for(n=0;n<s;n++)i+=r[n]*Math.pow(256,n);return e?i:-1*i}function Qn(t,e,r){if(t=t.subarray(e,e+r),e=0,t[e]&128)return H4(t);{for(;e<t.length&&t[e]===32;)e++;const n=j4(uS(t,32,e,t.length),t.length,t.length);for(;e<n&&t[e]===0;)e++;return n===e?0:parseInt(je.toString(t.subarray(e,n)),8)}}function Fs(t,e,r,n){return je.toString(t.subarray(e,uS(t,0,e,e+r)),n)}function rd(t){const e=je.byteLength(t);let r=Math.floor(Math.log(e)/Math.log(10))+1;return e+r>=Math.pow(10,r)&&r++,e+r+t}const{Writable:V4,Readable:Y4,getStreamError:fS}=oS,K4=kE,hS=dg,Ps=Es,X4=hS.alloc(0);class Z4{constructor(){this.buffered=0,this.shifted=0,this.queue=new K4,this._offset=0}push(e){this.buffered+=e.byteLength,this.queue.push(e)}shiftFirst(e){return this._buffered===0?null:this._next(e)}shift(e){if(e>this.buffered)return null;if(e===0)return X4;let r=this._next(e);if(e===r.byteLength)return r;const n=[r];for(;(e-=r.byteLength)>0;)r=this._next(e),n.push(r);return hS.concat(n)}_next(e){const r=this.queue.peek(),n=r.byteLength-this._offset;if(e>=n){const i=this._offset?r.subarray(this._offset,r.byteLength):r;return this.queue.shift(),this._offset=0,this.buffered-=n,this.shifted+=n,i}return this.buffered-=e,this.shifted+=e,r.subarray(this._offset,this._offset+=e)}}class Q4 extends Y4{constructor(e,r,n){super(),this.header=r,this.offset=n,this._parent=e}_read(e){this.header.size===0&&this.push(null),this._parent._stream===this&&this._parent._update(),e(null)}_predestroy(){this._parent.destroy(fS(this))}_detach(){this._parent._stream===this&&(this._parent._stream=null,this._parent._missing=dS(this.header.size),this._parent._update())}_destroy(e){this._detach(),e(null)}}class J4 extends V4{constructor(e){super(e),e||(e={}),this._buffer=new Z4,this._offset=0,this._header=null,this._stream=null,this._missing=0,this._longHeader=!1,this._callback=nd,this._locked=!1,this._finished=!1,this._pax=null,this._paxGlobal=null,this._gnuLongPath=null,this._gnuLongLinkPath=null,this._filenameEncoding=e.filenameEncoding||"utf-8",this._allowUnknownFormat=!!e.allowUnknownFormat,this._unlockBound=this._unlock.bind(this)}_unlock(e){if(this._locked=!1,e){this.destroy(e),this._continueWrite(e);return}this._update()}_consumeHeader(){if(this._locked)return!1;this._offset=this._buffer.shifted;try{this._header=Ps.decode(this._buffer.shift(512),this._filenameEncoding,this._allowUnknownFormat)}catch(e){return this._continueWrite(e),!1}if(!this._header)return!0;switch(this._header.type){case"gnu-long-path":case"gnu-long-link-path":case"pax-global-header":case"pax-header":return this._longHeader=!0,this._missing=this._header.size,!0}return this._locked=!0,this._applyLongHeaders(),this._header.size===0||this._header.type==="directory"?(this.emit("entry",this._header,this._createStream(),this._unlockBound),!0):(this._stream=this._createStream(),this._missing=this._header.size,this.emit("entry",this._header,this._stream,this._unlockBound),!0)}_applyLongHeaders(){this._gnuLongPath&&(this._header.name=this._gnuLongPath,this._gnuLongPath=null),this._gnuLongLinkPath&&(this._header.linkname=this._gnuLongLinkPath,this._gnuLongLinkPath=null),this._pax&&(this._pax.path&&(this._header.name=this._pax.path),this._pax.linkpath&&(this._header.linkname=this._pax.linkpath),this._pax.size&&(this._header.size=parseInt(this._pax.size,10)),this._header.pax=this._pax,this._pax=null)}_decodeLongHeader(e){switch(this._header.type){case"gnu-long-path":this._gnuLongPath=Ps.decodeLongPath(e,this._filenameEncoding);break;case"gnu-long-link-path":this._gnuLongLinkPath=Ps.decodeLongPath(e,this._filenameEncoding);break;case"pax-global-header":this._paxGlobal=Ps.decodePax(e);break;case"pax-header":this._pax=this._paxGlobal===null?Ps.decodePax(e):Object.assign({},this._paxGlobal,Ps.decodePax(e));break}}_consumeLongHeader(){this._longHeader=!1,this._missing=dS(this._header.size);const e=this._buffer.shift(this._header.size);try{this._decodeLongHeader(e)}catch(r){return this._continueWrite(r),!1}return!0}_consumeStream(){const e=this._buffer.shiftFirst(this._missing);if(e===null)return!1;this._missing-=e.byteLength;const r=this._stream.push(e);return this._missing===0?(this._stream.push(null),r&&this._stream._detach(),r&&this._locked===!1):r}_createStream(){return new Q4(this,this._header,this._offset)}_update(){for(;this._buffer.buffered>0&&!this.destroying;){if(this._missing>0){if(this._stream!==null){if(this._consumeStream()===!1)return;continue}if(this._longHeader===!0){if(this._missing>this._buffer.buffered)break;if(this._consumeLongHeader()===!1)return!1;continue}const e=this._buffer.shiftFirst(this._missing);e!==null&&(this._missing-=e.byteLength);continue}if(this._buffer.buffered<512)break;if(this._stream!==null||this._consumeHeader()===!1)return}this._continueWrite(null)}_continueWrite(e){const r=this._callback;this._callback=nd,r(e)}_write(e,r){this._callback=r,this._buffer.push(e),this._update()}_final(e){this._finished=this._missing===0&&this._buffer.buffered===0,e(this._finished?null:new Error("Unexpected end of data"))}_predestroy(){this._continueWrite(null)}_destroy(e){this._stream&&this._stream.destroy(fS(this)),e(null)}[Symbol.asyncIterator](){let e=null,r=null,n=null,i=null,s=null;const a=this;return this.on("entry",c),this.on("error",d=>{e=d}),this.on("close",u),{[Symbol.asyncIterator](){return this},next(){return new Promise(l)},return(){return h(null)},throw(d){return h(d)}};function o(d){if(!s)return;const b=s;s=null,b(d)}function l(d,b){if(e)return b(e);if(i){d({value:i,done:!1}),i=null;return}r=d,n=b,o(null),a._finished&&r&&(r({value:void 0,done:!0}),r=n=null)}function c(d,b,T){s=T,b.on("error",nd),r?(r({value:b,done:!1}),r=n=null):i=b}function u(){o(e),r&&(e?n(e):r({value:void 0,done:!0}),r=n=null)}function h(d){return a.destroy(d),o(d),new Promise((b,T)=>{if(a.destroyed)return b({value:void 0,done:!0});a.once("close",function(){d?T(d):b({value:void 0,done:!0})})})}}}var ej=function(e){return new J4(e)};function nd(){}function dS(t){return t&=511,t&&512-t}var Qd={exports:{}};const hw={S_IFMT:61440,S_IFDIR:16384,S_IFCHR:8192,S_IFBLK:24576,S_IFIFO:4096,S_IFLNK:40960};try{Qd.exports=require("fs").constants||hw}catch{Qd.exports=hw}var tj=Qd.exports;const{Readable:rj,Writable:nj,getStreamError:pS}=oS,ws=dg,$s=tj,Eu=Es,ij=493,sj=420,gS=ws.alloc(1024);class aj extends nj{constructor(e,r,n){super({mapWritable:cj,eagerOpen:!0}),this.written=0,this.header=r,this._callback=n,this._linkname=null,this._isLinkname=r.type==="symlink"&&!r.linkname,this._isVoid=r.type!=="file"&&r.type!=="contiguous-file",this._finished=!1,this._pack=e,this._openCallback=null,this._pack._stream===null?this._pack._stream=this:this._pack._pending.push(this)}_open(e){this._openCallback=e,this._pack._stream===this&&this._continueOpen()}_continuePack(e){if(this._callback===null)return;const r=this._callback;this._callback=null,r(e)}_continueOpen(){this._pack._stream===null&&(this._pack._stream=this);const e=this._openCallback;if(this._openCallback=null,e!==null){if(this._pack.destroying)return e(new Error("pack stream destroyed"));if(this._pack._finalized)return e(new Error("pack stream is already finalized"));this._pack._stream=this,this._isLinkname||this._pack._encode(this.header),this._isVoid&&(this._finish(),this._continuePack(null)),e(null)}}_write(e,r){if(this._isLinkname)return this._linkname=this._linkname?ws.concat([this._linkname,e]):e,r(null);if(this._isVoid)return e.byteLength>0?r(new Error("No body allowed for this entry")):r();if(this.written+=e.byteLength,this._pack.push(e))return r();this._pack._drain=r}_finish(){this._finished||(this._finished=!0,this._isLinkname&&(this.header.linkname=this._linkname?ws.toString(this._linkname,"utf-8"):"",this._pack._encode(this.header)),mS(this._pack,this.header.size),this._pack._done(this))}_final(e){if(this.written!==this.header.size)return e(new Error("Size mismatch"));this._finish(),e(null)}_getError(){return pS(this)||new Error("tar entry destroyed")}_predestroy(){this._pack.destroy(this._getError())}_destroy(e){this._pack._done(this),this._continuePack(this._finished?null:this._getError()),e()}}class oj extends rj{constructor(e){super(e),this._drain=id,this._finalized=!1,this._finalizing=!1,this._pending=[],this._stream=null}entry(e,r,n){if(this._finalized||this.destroying)throw new Error("already finalized or destroyed");typeof r=="function"&&(n=r,r=null),n||(n=id),(!e.size||e.type==="symlink")&&(e.size=0),e.type||(e.type=uj(e.mode)),e.mode||(e.mode=e.type==="directory"?ij:sj),e.uid||(e.uid=0),e.gid||(e.gid=0),e.mtime||(e.mtime=new Date),typeof r=="string"&&(r=ws.from(r));const i=new aj(this,e,n);return ws.isBuffer(r)?(e.size=r.byteLength,i.write(r),i.end(),i):(i._isVoid,i)}finalize(){if(this._stream||this._pending.length>0){this._finalizing=!0;return}this._finalized||(this._finalized=!0,this.push(gS),this.push(null))}_done(e){e===this._stream&&(this._stream=null,this._finalizing&&this.finalize(),this._pending.length&&this._pending.shift()._continueOpen())}_encode(e){if(!e.pax){const r=Eu.encode(e);if(r){this.push(r);return}}this._encodePax(e)}_encodePax(e){const r=Eu.encodePax({name:e.name,linkname:e.linkname,pax:e.pax}),n={name:"PaxHeader",mode:e.mode,uid:e.uid,gid:e.gid,size:r.byteLength,mtime:e.mtime,type:"pax-header",linkname:e.linkname&&"PaxHeader",uname:e.uname,gname:e.gname,devmajor:e.devmajor,devminor:e.devminor};this.push(Eu.encode(n)),this.push(r),mS(this,r.byteLength),n.size=e.size,n.type=e.type,this.push(Eu.encode(n))}_doDrain(){const e=this._drain;this._drain=id,e()}_predestroy(){const e=pS(this);for(this._stream&&this._stream.destroy(e);this._pending.length;){const r=this._pending.shift();r.destroy(e),r._continueOpen()}this._doDrain()}_read(e){this._doDrain(),e()}}var lj=function(e){return new oj(e)};function uj(t){switch(t&$s.S_IFMT){case $s.S_IFBLK:return"block-device";case $s.S_IFCHR:return"character-device";case $s.S_IFDIR:return"directory";case $s.S_IFIFO:return"fifo";case $s.S_IFLNK:return"symlink"}return"file"}function id(){}function mS(t,e){e&=511,e&&t.push(gS.subarray(0,512-e))}function cj(t){return ws.isBuffer(t)?t:ws.from(t)}ig.extract=ej;ig.pack=lj;/**
 * TAR Format Plugin
 *
 * @module plugins/tar
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */var fj=el,hj=ig,yS=Sl,Un=function(t){if(!(this instanceof Un))return new Un(t);t=this.options=yS.defaults(t,{gzip:!1}),typeof t.gzipOptions!="object"&&(t.gzipOptions={}),this.supports={directory:!0,symlink:!0},this.engine=hj.pack(t),this.compressor=!1,t.gzip&&(this.compressor=fj.createGzip(t.gzipOptions),this.compressor.on("error",this._onCompressorError.bind(this)))};Un.prototype._onCompressorError=function(t){this.engine.emit("error",t)};Un.prototype.append=function(t,e,r){var n=this;e.mtime=e.date;function i(a,o){if(a){r(a);return}n.engine.entry(e,o,function(l){r(l,e)})}if(e.sourceType==="buffer")i(null,t);else if(e.sourceType==="stream"&&e.stats){e.size=e.stats.size;var s=n.engine.entry(e,function(a){r(a,e)});t.pipe(s)}else e.sourceType==="stream"&&yS.collectStream(t,i)};Un.prototype.finalize=function(){this.engine.finalize()};Un.prototype.on=function(){return this.engine.on.apply(this.engine,arguments)};Un.prototype.pipe=function(t,e){return this.compressor?this.engine.pipe.apply(this.engine,[this.compressor]).pipe(t,e):this.engine.pipe.apply(this.engine,arguments)};Un.prototype.unpipe=function(){return this.compressor?this.compressor.unpipe.apply(this.compressor,arguments):this.engine.unpipe.apply(this.engine,arguments)};var dj=Un;function pj(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}const gj=new Int32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function wS(t){if(Buffer.isBuffer(t))return t;if(typeof t=="number")return Buffer.alloc(t);if(typeof t=="string")return Buffer.from(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function mj(t){const e=wS(4);return e.writeInt32BE(t,0),e}function pg(t,e){t=wS(t),Buffer.isBuffer(e)&&(e=e.readUInt32BE(0));let r=~~e^-1;for(var n=0;n<t.length;n++)r=gj[(r^t[n])&255]^r>>>8;return r^-1}function gg(){return mj(pg.apply(null,arguments))}gg.signed=function(){return pg.apply(null,arguments)};gg.unsigned=function(){return pg.apply(null,arguments)>>>0};var yj=gg;const wj=pj(yj);var _j=wj;/**
 * JSON Format Plugin
 *
 * @module plugins/json
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */var bj=Bt.inherits,_S=va.Transform,vj=_j,bS=Sl,Oi=function(t){if(!(this instanceof Oi))return new Oi(t);t=this.options=bS.defaults(t,{}),_S.call(this,t),this.supports={directory:!0,symlink:!0},this.files=[]};bj(Oi,_S);Oi.prototype._transform=function(t,e,r){r(null,t)};Oi.prototype._writeStringified=function(){var t=JSON.stringify(this.files);this.write(t)};Oi.prototype.append=function(t,e,r){var n=this;e.crc32=0;function i(s,a){if(s){r(s);return}e.size=a.length||0,e.crc32=vj.unsigned(a),n.files.push(e),r(null,e)}e.sourceType==="buffer"?i(null,t):e.sourceType==="stream"&&bS.collectStream(t,i)};Oi.prototype.finalize=function(){this._writeStringified(),this.end()};var Ej=Oi;/**
 * Archiver Vending
 *
 * @ignore
 * @license [MIT]{@link https://github.com/archiverjs/node-archiver/blob/master/LICENSE}
 * @copyright (c) 2012-2014 Chris Talkington, contributors.
 */var Sj=Ek,Oo={},Fi=function(t,e){return Fi.create(t,e)};Fi.create=function(t,e){if(Oo[t]){var r=new Sj(t,e);return r.setFormat(t),r.setModule(new Oo[t](e)),r}else throw new Error("create("+t+"): format not registered")};Fi.registerFormat=function(t,e){if(Oo[t])throw new Error("register("+t+"): format already registered");if(typeof e!="function")throw new Error("register("+t+"): format module invalid");if(typeof e.prototype.append!="function"||typeof e.prototype.finalize!="function")throw new Error("register("+t+"): format module missing methods");Oo[t]=e};Fi.isRegisteredFormat=function(t){return!!Oo[t]};Fi.registerFormat("zip",n6);Fi.registerFormat("tar",dj);Fi.registerFormat("json",Ej);var Tj=Fi;const Aj=bw(Tj);var xa={exports:{}},mg={exports:{}},xj=vS;function vS(t,e){if(t&&e)return vS(t)(e);if(typeof t!="function")throw new TypeError("need wrapper function");return Object.keys(t).forEach(function(n){r[n]=t[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var s=t.apply(this,n),a=n[n.length-1];return typeof s=="function"&&s!==a&&Object.keys(a).forEach(function(o){s[o]=a[o]}),s}}var ES=xj;mg.exports=ES(Fu);mg.exports.strict=ES(SS);Fu.proto=Fu(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Fu(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return SS(this)},configurable:!0})});function Fu(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function SS(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},r=t.name||"Function wrapped with `once`";return e.onceError=r+" shouldn't be called more than once",e.called=!1,e}var TS=mg.exports,Rj=TS,Oj=function(){},Ij=Be.Bare?queueMicrotask:process.nextTick.bind(process),Cj=function(t){return t.setHeader&&typeof t.abort=="function"},Dj=function(t){return t.stdio&&Array.isArray(t.stdio)&&t.stdio.length===3},AS=function(t,e,r){if(typeof e=="function")return AS(t,null,e);e||(e={}),r=Rj(r||Oj);var n=t._writableState,i=t._readableState,s=e.readable||e.readable!==!1&&t.readable,a=e.writable||e.writable!==!1&&t.writable,o=!1,l=function(){t.writable||c()},c=function(){a=!1,s||r.call(t)},u=function(){s=!1,a||r.call(t)},h=function(E){r.call(t,E?new Error("exited with error code: "+E):null)},d=function(E){r.call(t,E)},b=function(){Ij(T)},T=function(){if(!o){if(s&&!(i&&i.ended&&!i.destroyed))return r.call(t,new Error("premature close"));if(a&&!(n&&n.ended&&!n.destroyed))return r.call(t,new Error("premature close"))}},w=function(){t.req.on("finish",c)};return Cj(t)?(t.on("complete",c),t.on("abort",b),t.req?w():t.on("request",w)):a&&!n&&(t.on("end",l),t.on("close",l)),Dj(t)&&t.on("exit",h),t.on("end",u),t.on("finish",c),e.error!==!1&&t.on("error",d),t.on("close",b),function(){o=!0,t.removeListener("complete",c),t.removeListener("abort",b),t.removeListener("request",w),t.req&&t.req.removeListener("finish",c),t.removeListener("end",l),t.removeListener("close",l),t.removeListener("finish",c),t.removeListener("exit",h),t.removeListener("end",u),t.removeListener("error",d),t.removeListener("close",b)}},Pj=AS,$j=TS,Nj=Pj,Mu;try{Mu=require("fs")}catch{}var Io=function(){},Lj=typeof process>"u"?!1:/^v?\.0/.test(process.version),wf=function(t){return typeof t=="function"},Fj=function(t){return!Lj||!Mu?!1:(t instanceof(Mu.ReadStream||Io)||t instanceof(Mu.WriteStream||Io))&&wf(t.close)},Mj=function(t){return t.setHeader&&wf(t.abort)},Uj=function(t,e,r,n){n=$j(n);var i=!1;t.on("close",function(){i=!0}),Nj(t,{readable:e,writable:r},function(a){if(a)return n(a);i=!0,n()});var s=!1;return function(a){if(!i&&!s){if(s=!0,Fj(t))return t.close(Io);if(Mj(t))return t.abort();if(wf(t.destroy))return t.destroy();n(a||new Error("stream was destroyed"))}}},dw=function(t){t()},kj=function(t,e){return t.pipe(e)},Bj=function(){var t=Array.prototype.slice.call(arguments),e=wf(t[t.length-1]||Io)&&t.pop()||Io;if(Array.isArray(t[0])&&(t=t[0]),t.length<2)throw new Error("pump requires two streams per minimum");var r,n=t.map(function(i,s){var a=s<t.length-1,o=s>0;return Uj(i,a,o,function(l){r||(r=l),l&&n.forEach(dw),!a&&(n.forEach(dw),e(r))})});return t.reduce(kj)},jj=Bj;const{PassThrough:Wj}=jt;var Gj=t=>{t={...t};const{array:e}=t;let{encoding:r}=t;const n=r==="buffer";let i=!1;e?i=!(r||n):r=r||"utf8",n&&(r=null);const s=new Wj({objectMode:i});r&&s.setEncoding(r);let a=0;const o=[];return s.on("data",l=>{o.push(l),i?a=o.length:a+=l.length}),s.getBufferedValue=()=>e?o:n?Buffer.concat(o,a):o.join(""),s.getBufferedLength=()=>a,s};const{constants:qj}=Xr,zj=jj,Hj=Gj;class xS extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function _f(t,e){if(!t)return Promise.reject(new Error("Expected a stream"));e={maxBuffer:1/0,...e};const{maxBuffer:r}=e;let n;return await new Promise((i,s)=>{const a=o=>{o&&n.getBufferedLength()<=qj.MAX_LENGTH&&(o.bufferedData=n.getBufferedValue()),s(o)};n=zj(t,Hj(e),o=>{if(o){a(o);return}i()}),n.on("data",()=>{n.getBufferedLength()>r&&a(new xS)})}),n.getBufferedValue()}xa.exports=_f;xa.exports.default=_f;xa.exports.buffer=(t,e)=>_f(t,{...e,encoding:"buffer"});xa.exports.array=(t,e)=>_f(t,{...e,array:!0});xa.exports.MaxBufferError=xS;var Vj=xa.exports,gn={},Ol={},Yj=bf;function bf(){this.pending=0,this.max=1/0,this.listeners=[],this.waiting=[],this.error=null}bf.prototype.go=function(t){this.pending<this.max?OS(this,t):this.waiting.push(t)};bf.prototype.wait=function(t){this.pending===0?t(this.error):this.listeners.push(t)};bf.prototype.hold=function(){return RS(this)};function RS(t){t.pending+=1;var e=!1;return r;function r(i){if(e)throw new Error("callback called twice");if(e=!0,t.error=t.error||i,t.pending-=1,t.waiting.length>0&&t.pending<t.max)OS(t,t.waiting.shift());else if(t.pending===0){var s=t.listeners;t.listeners=[],s.forEach(n)}}function n(i){i(t.error)}}function OS(t,e){e(RS(t))}var Il=vr,vf=Bt,yg=jt,IS=yg.Readable,wg=yg.Writable,Kj=yg.PassThrough,Xj=Yj,Ef=Cr.EventEmitter;Ol.createFromBuffer=Zj;Ol.createFromFd=Qj;Ol.BufferSlicer=qn;Ol.FdSlicer=Gn;vf.inherits(Gn,Ef);function Gn(t,e){e=e||{},Ef.call(this),this.fd=t,this.pend=new Xj,this.pend.max=1,this.refCount=0,this.autoClose=!!e.autoClose}Gn.prototype.read=function(t,e,r,n,i){var s=this;s.pend.go(function(a){Il.read(s.fd,t,e,r,n,function(o,l,c){a(),i(o,l,c)})})};Gn.prototype.write=function(t,e,r,n,i){var s=this;s.pend.go(function(a){Il.write(s.fd,t,e,r,n,function(o,l,c){a(),i(o,l,c)})})};Gn.prototype.createReadStream=function(t){return new Sf(this,t)};Gn.prototype.createWriteStream=function(t){return new Tf(this,t)};Gn.prototype.ref=function(){this.refCount+=1};Gn.prototype.unref=function(){var t=this;if(t.refCount-=1,t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.autoClose&&Il.close(t.fd,e);function e(r){r?t.emit("error",r):t.emit("close")}};vf.inherits(Sf,IS);function Sf(t,e){e=e||{},IS.call(this,e),this.context=t,this.context.ref(),this.start=e.start||0,this.endOffset=e.end,this.pos=this.start,this.destroyed=!1}Sf.prototype._read=function(t){var e=this;if(!e.destroyed){var r=Math.min(e._readableState.highWaterMark,t);if(e.endOffset!=null&&(r=Math.min(r,e.endOffset-e.pos)),r<=0){e.destroyed=!0,e.push(null),e.context.unref();return}e.context.pend.go(function(n){if(e.destroyed)return n();var i=new Buffer(r);Il.read(e.context.fd,i,0,r,e.pos,function(s,a){s?e.destroy(s):a===0?(e.destroyed=!0,e.push(null),e.context.unref()):(e.pos+=a,e.push(i.slice(0,a))),n()})})}};Sf.prototype.destroy=function(t){this.destroyed||(t=t||new Error("stream destroyed"),this.destroyed=!0,this.emit("error",t),this.context.unref())};vf.inherits(Tf,wg);function Tf(t,e){e=e||{},wg.call(this,e),this.context=t,this.context.ref(),this.start=e.start||0,this.endOffset=e.end==null?1/0:+e.end,this.bytesWritten=0,this.pos=this.start,this.destroyed=!1,this.on("finish",this.destroy.bind(this))}Tf.prototype._write=function(t,e,r){var n=this;if(!n.destroyed){if(n.pos+t.length>n.endOffset){var i=new Error("maximum file length exceeded");i.code="ETOOBIG",n.destroy(),r(i);return}n.context.pend.go(function(s){if(n.destroyed)return s();Il.write(n.context.fd,t,0,t.length,n.pos,function(a,o){a?(n.destroy(),s(),r(a)):(n.bytesWritten+=o,n.pos+=o,n.emit("progress"),s(),r())})})}};Tf.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.context.unref())};vf.inherits(qn,Ef);function qn(t,e){Ef.call(this),e=e||{},this.refCount=0,this.buffer=t,this.maxChunkSize=e.maxChunkSize||Number.MAX_SAFE_INTEGER}qn.prototype.read=function(t,e,r,n,i){var s=n+r,a=s-this.buffer.length,o=a>0?a:r;this.buffer.copy(t,e,n,s),setImmediate(function(){i(null,o)})};qn.prototype.write=function(t,e,r,n,i){t.copy(this.buffer,n,e,e+r),setImmediate(function(){i(null,r,t)})};qn.prototype.createReadStream=function(t){t=t||{};var e=new Kj(t);e.destroyed=!1,e.start=t.start||0,e.endOffset=t.end,e.pos=e.endOffset||this.buffer.length;for(var r=this.buffer.slice(e.start,e.pos),n=0;;){var i=n+this.maxChunkSize;if(i>=r.length){n<r.length&&e.write(r.slice(n,r.length));break}e.write(r.slice(n,i)),n=i}return e.end(),e.destroy=function(){e.destroyed=!0},e};qn.prototype.createWriteStream=function(t){var e=this;t=t||{};var r=new wg(t);return r.start=t.start||0,r.endOffset=t.end==null?this.buffer.length:+t.end,r.bytesWritten=0,r.pos=r.start,r.destroyed=!1,r._write=function(n,i,s){if(!r.destroyed){var a=r.pos+n.length;if(a>r.endOffset){var o=new Error("maximum file length exceeded");o.code="ETOOBIG",r.destroyed=!0,s(o);return}n.copy(e.buffer,r.pos,0,n.length),r.bytesWritten+=n.length,r.pos=a,r.emit("progress"),s()}},r.destroy=function(){r.destroyed=!0},r};qn.prototype.ref=function(){this.refCount+=1};qn.prototype.unref=function(){if(this.refCount-=1,this.refCount<0)throw new Error("invalid unref")};function Zj(t,e){return new qn(t,e)}function Qj(t,e){return new Gn(t,e)}var ii=Xr.Buffer,Jd=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array<"u"&&(Jd=new Int32Array(Jd));function CS(t){if(ii.isBuffer(t))return t;var e=typeof ii.alloc=="function"&&typeof ii.from=="function";if(typeof t=="number")return e?ii.alloc(t):new ii(t);if(typeof t=="string")return e?ii.from(t):new ii(t);throw new Error("input must be buffer, number, or string, received "+typeof t)}function Jj(t){var e=CS(4);return e.writeInt32BE(t,0),e}function _g(t,e){t=CS(t),ii.isBuffer(e)&&(e=e.readUInt32BE(0));for(var r=~~e^-1,n=0;n<t.length;n++)r=Jd[(r^t[n])&255]^r>>>8;return r^-1}function bg(){return Jj(_g.apply(null,arguments))}bg.signed=function(){return _g.apply(null,arguments)};bg.unsigned=function(){return _g.apply(null,arguments)>>>0};var e8=bg,ep=vr,t8=el,DS=Ol,r8=e8,Af=Bt,xf=Cr.EventEmitter,PS=jt.Transform,vg=jt.PassThrough,n8=jt.Writable;gn.open=i8;gn.fromFd=$S;gn.fromBuffer=s8;gn.fromRandomAccessReader=Eg;gn.dosDateTimeToDate=LS;gn.validateFileName=FS;gn.ZipFile=Ii;gn.Entry=Cl;gn.RandomAccessReader=Mi;function i8(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!0),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),r==null&&(r=Sc),ep.open(t,"r",function(n,i){if(n)return r(n);$S(i,e,function(s,a){s&&ep.close(i,Sc),r(s,a)})})}function $S(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose==null&&(e.autoClose=!1),e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1),r==null&&(r=Sc),ep.fstat(t,function(n,i){if(n)return r(n);var s=DS.createFromFd(t,{autoClose:!0});Eg(s,i.size,e,r)})}function s8(t,e,r){typeof e=="function"&&(r=e,e=null),e==null&&(e={}),e.autoClose=!1,e.lazyEntries==null&&(e.lazyEntries=!1),e.decodeStrings==null&&(e.decodeStrings=!0),e.validateEntrySizes==null&&(e.validateEntrySizes=!0),e.strictFileNames==null&&(e.strictFileNames=!1);var n=DS.createFromBuffer(t,{maxChunkSize:65536});Eg(n,t.length,e,r)}function Eg(t,e,r,n){typeof r=="function"&&(n=r,r=null),r==null&&(r={}),r.autoClose==null&&(r.autoClose=!0),r.lazyEntries==null&&(r.lazyEntries=!1),r.decodeStrings==null&&(r.decodeStrings=!0);var i=!!r.decodeStrings;if(r.validateEntrySizes==null&&(r.validateEntrySizes=!0),r.strictFileNames==null&&(r.strictFileNames=!1),n==null&&(n=Sc),typeof e!="number")throw new Error("expected totalSize parameter to be a number");if(e>Number.MAX_SAFE_INTEGER)throw new Error("zip file too large. only file sizes up to 2^52 are supported due to JavaScript's Number type being an IEEE 754 double.");t.ref();var s=22,a=65535,o=Math.min(s+a,e),l=dn(o),c=e-l.length;Vs(t,l,0,o,c,function(u){if(u)return n(u);for(var h=o-s;h>=0;h-=1)if(l.readUInt32LE(h)===101010256){var d=l.slice(h),b=d.readUInt16LE(4);if(b!==0)return n(new Error("multi-disk zip files are not supported: found disk number: "+b));var T=d.readUInt16LE(10),w=d.readUInt32LE(16),E=d.readUInt16LE(20),p=d.length-s;if(E!==p)return n(new Error("invalid comment length. expected: "+p+". found: "+E));var m=i?Uu(d,22,d.length,!1):d.slice(22);if(!(T===65535||w===4294967295))return n(null,new Ii(t,w,e,T,m,r.autoClose,r.lazyEntries,i,r.validateEntrySizes,r.strictFileNames));var v=dn(20),N=c+h-v.length;Vs(t,v,0,v.length,N,function(z){if(z)return n(z);if(v.readUInt32LE(0)!==117853008)return n(new Error("invalid zip64 end of central directory locator signature"));var ue=Ys(v,8),Q=dn(56);Vs(t,Q,0,Q.length,ue,function(G){return G?n(G):Q.readUInt32LE(0)!==101075792?n(new Error("invalid zip64 end of central directory record signature")):(T=Ys(Q,32),w=Ys(Q,48),n(null,new Ii(t,w,e,T,m,r.autoClose,r.lazyEntries,i,r.validateEntrySizes,r.strictFileNames)))})});return}n(new Error("end of central directory record signature not found"))})}Af.inherits(Ii,xf);function Ii(t,e,r,n,i,s,a,o,l,c){var u=this;xf.call(u),u.reader=t,u.reader.on("error",function(h){NS(u,h)}),u.reader.once("close",function(){u.emit("close")}),u.readEntryCursor=e,u.fileSize=r,u.entryCount=n,u.comment=i,u.entriesRead=0,u.autoClose=!!s,u.lazyEntries=!!a,u.decodeStrings=!!o,u.validateEntrySizes=!!l,u.strictFileNames=!!c,u.isOpen=!0,u.emittedError=!1,u.lazyEntries||u._readEntry()}Ii.prototype.close=function(){this.isOpen&&(this.isOpen=!1,this.reader.unref())};function Lr(t,e){t.autoClose&&t.close(),NS(t,e)}function NS(t,e){t.emittedError||(t.emittedError=!0,t.emit("error",e))}Ii.prototype.readEntry=function(){if(!this.lazyEntries)throw new Error("readEntry() called without lazyEntries:true");this._readEntry()};Ii.prototype._readEntry=function(){var t=this;if(t.entryCount===t.entriesRead){setImmediate(function(){t.autoClose&&t.close(),!t.emittedError&&t.emit("end")});return}if(!t.emittedError){var e=dn(46);Vs(t.reader,e,0,e.length,t.readEntryCursor,function(r){if(r)return Lr(t,r);if(!t.emittedError){var n=new Cl,i=e.readUInt32LE(0);if(i!==33639248)return Lr(t,new Error("invalid central directory file header signature: 0x"+i.toString(16)));if(n.versionMadeBy=e.readUInt16LE(4),n.versionNeededToExtract=e.readUInt16LE(6),n.generalPurposeBitFlag=e.readUInt16LE(8),n.compressionMethod=e.readUInt16LE(10),n.lastModFileTime=e.readUInt16LE(12),n.lastModFileDate=e.readUInt16LE(14),n.crc32=e.readUInt32LE(16),n.compressedSize=e.readUInt32LE(20),n.uncompressedSize=e.readUInt32LE(24),n.fileNameLength=e.readUInt16LE(28),n.extraFieldLength=e.readUInt16LE(30),n.fileCommentLength=e.readUInt16LE(32),n.internalFileAttributes=e.readUInt16LE(36),n.externalFileAttributes=e.readUInt32LE(38),n.relativeOffsetOfLocalHeader=e.readUInt32LE(42),n.generalPurposeBitFlag&64)return Lr(t,new Error("strong encryption is not supported"));t.readEntryCursor+=46,e=dn(n.fileNameLength+n.extraFieldLength+n.fileCommentLength),Vs(t.reader,e,0,e.length,t.readEntryCursor,function(s){if(s)return Lr(t,s);if(!t.emittedError){var a=(n.generalPurposeBitFlag&2048)!==0;n.fileName=t.decodeStrings?Uu(e,0,n.fileNameLength,a):e.slice(0,n.fileNameLength);var o=n.fileNameLength+n.extraFieldLength,l=e.slice(n.fileNameLength,o);n.extraFields=[];for(var c=0;c<l.length-3;){var u=l.readUInt16LE(c+0),h=l.readUInt16LE(c+2),d=c+4,b=d+h;if(b>l.length)return Lr(t,new Error("extra field length exceeds extra field buffer size"));var T=dn(h);l.copy(T,0,d,b),n.extraFields.push({id:u,data:T}),c=b}if(n.fileComment=t.decodeStrings?Uu(e,o,o+n.fileCommentLength,a):e.slice(o,o+n.fileCommentLength),n.comment=n.fileComment,t.readEntryCursor+=e.length,t.entriesRead+=1,n.uncompressedSize===4294967295||n.compressedSize===4294967295||n.relativeOffsetOfLocalHeader===4294967295){for(var w=null,c=0;c<n.extraFields.length;c++){var E=n.extraFields[c];if(E.id===1){w=E.data;break}}if(w==null)return Lr(t,new Error("expected zip64 extended information extra field"));var p=0;if(n.uncompressedSize===4294967295){if(p+8>w.length)return Lr(t,new Error("zip64 extended information extra field does not include uncompressed size"));n.uncompressedSize=Ys(w,p),p+=8}if(n.compressedSize===4294967295){if(p+8>w.length)return Lr(t,new Error("zip64 extended information extra field does not include compressed size"));n.compressedSize=Ys(w,p),p+=8}if(n.relativeOffsetOfLocalHeader===4294967295){if(p+8>w.length)return Lr(t,new Error("zip64 extended information extra field does not include relative header offset"));n.relativeOffsetOfLocalHeader=Ys(w,p),p+=8}}if(t.decodeStrings)for(var c=0;c<n.extraFields.length;c++){var E=n.extraFields[c];if(E.id===28789){if(E.data.length<6||E.data.readUInt8(0)!==1)continue;var m=E.data.readUInt32LE(1);if(r8.unsigned(e.slice(0,n.fileNameLength))!==m)continue;n.fileName=Uu(E.data,5,E.data.length,!0);break}}if(t.validateEntrySizes&&n.compressionMethod===0){var v=n.uncompressedSize;if(n.isEncrypted()&&(v+=12),n.compressedSize!==v){var N="compressed/uncompressed size mismatch for stored file: "+n.compressedSize+" != "+n.uncompressedSize;return Lr(t,new Error(N))}}if(t.decodeStrings){t.strictFileNames||(n.fileName=n.fileName.replace(/\\/g,"/"));var z=FS(n.fileName,t.validateFileNameOptions);if(z!=null)return Lr(t,new Error(z))}t.emit("entry",n),t.lazyEntries||t._readEntry()}})}})}};Ii.prototype.openReadStream=function(t,e,r){var n=this,i=0,s=t.compressedSize;if(r==null)r=e,e={};else{if(e.decrypt!=null){if(!t.isEncrypted())throw new Error("options.decrypt can only be specified for encrypted entries");if(e.decrypt!==!1)throw new Error("invalid options.decrypt value: "+e.decrypt);if(t.isCompressed()&&e.decompress!==!1)throw new Error("entry is encrypted and compressed, and options.decompress !== false")}if(e.decompress!=null){if(!t.isCompressed())throw new Error("options.decompress can only be specified for compressed entries");if(!(e.decompress===!1||e.decompress===!0))throw new Error("invalid options.decompress value: "+e.decompress)}if(e.start!=null||e.end!=null){if(t.isCompressed()&&e.decompress!==!1)throw new Error("start/end range not allowed for compressed entry without options.decompress === false");if(t.isEncrypted()&&e.decrypt!==!1)throw new Error("start/end range not allowed for encrypted entry without options.decrypt === false")}if(e.start!=null){if(i=e.start,i<0)throw new Error("options.start < 0");if(i>t.compressedSize)throw new Error("options.start > entry.compressedSize")}if(e.end!=null){if(s=e.end,s<0)throw new Error("options.end < 0");if(s>t.compressedSize)throw new Error("options.end > entry.compressedSize");if(s<i)throw new Error("options.end < options.start")}}if(!n.isOpen)return r(new Error("closed"));if(t.isEncrypted()&&e.decrypt!==!1)return r(new Error("entry is encrypted, and options.decrypt !== false"));n.reader.ref();var a=dn(30);Vs(n.reader,a,0,a.length,t.relativeOffsetOfLocalHeader,function(o){try{if(o)return r(o);var l=a.readUInt32LE(0);if(l!==67324752)return r(new Error("invalid local file header signature: 0x"+l.toString(16)));var c=a.readUInt16LE(26),u=a.readUInt16LE(28),h=t.relativeOffsetOfLocalHeader+a.length+c+u,d;if(t.compressionMethod===0)d=!1;else if(t.compressionMethod===8)d=e.decompress!=null?e.decompress:!0;else return r(new Error("unsupported compression method: "+t.compressionMethod));var b=h,T=b+t.compressedSize;if(t.compressedSize!==0&&T>n.fileSize)return r(new Error("file data overflows file bounds: "+b+" + "+t.compressedSize+" > "+n.fileSize));var w=n.reader.createReadStream({start:b+i,end:b+s}),E=w;if(d){var p=!1,m=t8.createInflateRaw();w.on("error",function(v){setImmediate(function(){p||m.emit("error",v)})}),w.pipe(m),n.validateEntrySizes?(E=new Dl(t.uncompressedSize),m.on("error",function(v){setImmediate(function(){p||E.emit("error",v)})}),m.pipe(E)):E=m,E.destroy=function(){p=!0,m!==E&&m.unpipe(E),w.unpipe(m),w.destroy()}}r(null,E)}finally{n.reader.unref()}})};function Cl(){}Cl.prototype.getLastModDate=function(){return LS(this.lastModFileDate,this.lastModFileTime)};Cl.prototype.isEncrypted=function(){return(this.generalPurposeBitFlag&1)!==0};Cl.prototype.isCompressed=function(){return this.compressionMethod===8};function LS(t,e){var r=t&31,n=(t>>5&15)-1,i=(t>>9&127)+1980,s=0,a=(e&31)*2,o=e>>5&63,l=e>>11&31;return new Date(i,n,r,l,o,a,s)}function FS(t){return t.indexOf("\\")!==-1?"invalid characters in fileName: "+t:/^[a-zA-Z]:/.test(t)||/^\//.test(t)?"absolute path: "+t:t.split("/").indexOf("..")!==-1?"invalid relative path: "+t:null}function Vs(t,e,r,n,i,s){if(n===0)return setImmediate(function(){s(null,dn(0))});t.read(e,r,n,i,function(a,o){if(a)return s(a);if(o<n)return s(new Error("unexpected EOF"));s()})}Af.inherits(Dl,PS);function Dl(t){PS.call(this),this.actualByteCount=0,this.expectedByteCount=t}Dl.prototype._transform=function(t,e,r){if(this.actualByteCount+=t.length,this.actualByteCount>this.expectedByteCount){var n="too many bytes in the stream. expected "+this.expectedByteCount+". got at least "+this.actualByteCount;return r(new Error(n))}r(null,t)};Dl.prototype._flush=function(t){if(this.actualByteCount<this.expectedByteCount){var e="not enough bytes in the stream. expected "+this.expectedByteCount+". got only "+this.actualByteCount;return t(new Error(e))}t()};Af.inherits(Mi,xf);function Mi(){xf.call(this),this.refCount=0}Mi.prototype.ref=function(){this.refCount+=1};Mi.prototype.unref=function(){var t=this;if(t.refCount-=1,t.refCount>0)return;if(t.refCount<0)throw new Error("invalid unref");t.close(e);function e(r){if(r)return t.emit("error",r);t.emit("close")}};Mi.prototype.createReadStream=function(t){var e=t.start,r=t.end;if(e===r){var n=new vg;return setImmediate(function(){n.end()}),n}var i=this._readStreamForRange(e,r),s=!1,a=new Rf(this);i.on("error",function(l){setImmediate(function(){s||a.emit("error",l)})}),a.destroy=function(){i.unpipe(a),a.unref(),i.destroy()};var o=new Dl(r-e);return a.on("error",function(l){setImmediate(function(){s||o.emit("error",l)})}),o.destroy=function(){s=!0,a.unpipe(o),a.destroy()},i.pipe(a).pipe(o)};Mi.prototype._readStreamForRange=function(t,e){throw new Error("not implemented")};Mi.prototype.read=function(t,e,r,n,i){var s=this.createReadStream({start:n,end:n+r}),a=new n8,o=0;a._write=function(l,c,u){l.copy(t,e+o,0,l.length),o+=l.length,u()},a.on("finish",i),s.on("error",function(l){i(l)}),s.pipe(a)};Mi.prototype.close=function(t){setImmediate(t)};Af.inherits(Rf,vg);function Rf(t){vg.call(this),this.context=t,this.context.ref(),this.unreffedYet=!1}Rf.prototype._flush=function(t){this.unref(),t()};Rf.prototype.unref=function(t){this.unreffedYet||(this.unreffedYet=!0,this.context.unref())};var a8="\0 !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~";function Uu(t,e,r,n){if(n)return t.toString("utf8",e,r);for(var i="",s=e;s<r;s++)i+=a8[t[s]];return i}function Ys(t,e){var r=t.readUInt32LE(e),n=t.readUInt32LE(e+4);return n*4294967296+r}var dn;typeof Buffer.allocUnsafe=="function"?dn=function(t){return Buffer.allocUnsafe(t)}:dn=function(t){return new Buffer(t)};function Sc(t){if(t)throw t}const Ur=Sw("extract-zip"),{createWriteStream:o8,promises:Ws}=vr,l8=Vj,Ki=Pe,{promisify:Sg}=Bt,u8=jt,c8=gn,f8=Sg(c8.open),h8=Sg(u8.pipeline);class d8{constructor(e,r){this.zipPath=e,this.opts=r}async extract(){return Ur("opening",this.zipPath,"with opts",this.opts),this.zipfile=await f8(this.zipPath,{lazyEntries:!0}),this.canceled=!1,new Promise((e,r)=>{this.zipfile.on("error",n=>{this.canceled=!0,r(n)}),this.zipfile.readEntry(),this.zipfile.on("close",()=>{this.canceled||(Ur("zip extraction complete"),e())}),this.zipfile.on("entry",async n=>{if(this.canceled){Ur("skipping entry",n.fileName,{cancelled:this.canceled});return}if(Ur("zipfile entry",n.fileName),n.fileName.startsWith("__MACOSX/")){this.zipfile.readEntry();return}const i=Ki.dirname(Ki.join(this.opts.dir,n.fileName));try{await Ws.mkdir(i,{recursive:!0});const s=await Ws.realpath(i);if(Ki.relative(this.opts.dir,s).split(Ki.sep).includes(".."))throw new Error(`Out of bound path "${s}" found while processing file ${n.fileName}`);await this.extractEntry(n),Ur("finished processing",n.fileName),this.zipfile.readEntry()}catch(s){this.canceled=!0,this.zipfile.close(),r(s)}})})}async extractEntry(e){if(this.canceled){Ur("skipping entry extraction",e.fileName,{cancelled:this.canceled});return}this.opts.onEntry&&this.opts.onEntry(e,this.zipfile);const r=Ki.join(this.opts.dir,e.fileName),n=e.externalFileAttributes>>16&65535,i=61440,s=16384,o=(n&i)===40960;let l=(n&i)===s;!l&&e.fileName.endsWith("/")&&(l=!0);const c=e.versionMadeBy>>8;l||(l=c===0&&e.externalFileAttributes===16),Ur("extracting entry",{filename:e.fileName,isDir:l,isSymlink:o});const u=this.getExtractedMode(n,l)&511,h=l?r:Ki.dirname(r),d={recursive:!0};if(l&&(d.mode=u),Ur("mkdir",{dir:h,...d}),await Ws.mkdir(h,d),l)return;Ur("opening read stream",r);const b=await Sg(this.zipfile.openReadStream.bind(this.zipfile))(e);if(o){const T=await l8(b);Ur("creating symlink",T,r),await Ws.symlink(T,r)}else await h8(b,o8(r,{mode:u}))}getExtractedMode(e,r){let n=e;return n===0&&(r?(this.opts.defaultDirMode&&(n=parseInt(this.opts.defaultDirMode,10)),n||(n=493)):(this.opts.defaultFileMode&&(n=parseInt(this.opts.defaultFileMode,10)),n||(n=420))),n}}var p8=async function(t,e){if(Ur("creating target directory",e.dir),!Ki.isAbsolute(e.dir))throw new Error("Target directory is expected to be absolute");return await Ws.mkdir(e.dir,{recursive:!0}),e.dir=await Ws.realpath(e.dir),new d8(t,e).extract()};const g8=bw(p8),it=Bt.promisify(pi.exec);async function m8(t,e){try{for(const r of t){const n=Pe.basename(r),i=Pe.join(e,n);await qe.copy(r,i,{overwrite:!1})}return!0}catch(r){return console.error("Error copying files:",r),!1}}async function y8(t,e){try{for(const r of t){const n=Pe.basename(r),i=Pe.join(e,n);await qe.move(r,i,{overwrite:!1})}return!0}catch(r){return console.error("Error moving files:",r),!1}}async function w8(t){try{const e=Pe.join(Pe.dirname(t[0]),Pe.basename(t[0])+".zip"),r=qe.createWriteStream(e),n=Aj("zip",{zlib:{level:9}});r.on("close",()=>{console.log("Archive created:",e)}),n.pipe(r);for(const i of t)(await qe.stat(i)).isDirectory()?n.directory(i,Pe.basename(i)):n.file(i,{name:Pe.basename(i)});return await n.finalize(),!0}catch(e){return console.error("Error creating zip:",e),!1}}async function _8(t){try{const e=Pe.dirname(t);return await g8(t,{dir:e}),!0}catch(e){return console.error("Error extracting archive:",e),!1}}async function b8(t){try{const e=Pe.join(process.env.USERPROFILE||"","Desktop"),r=Pe.join(e,Pe.basename(t)+".lnk");if(process.platform==="win32"){const n=`powershell "$ws = New-Object -ComObject WScript.Shell; $s = $ws.CreateShortcut('${r}'); $s.TargetPath = '${t}'; $s.Save()"`;await it(n)}return!0}catch(e){return console.error("Error creating shortcut:",e),!1}}async function v8(t){try{return process.platform==="win32"&&await ye.shell.showItemInFolder(t[0]),!0}catch(e){return console.error("Error sharing files:",e),!1}}async function E8(t){try{const e=await qe.readFile(t),r=Nn.createHash("sha256");return r.update(e),r.digest("hex")}catch(e){return console.error("Error calculating file hash:",e),""}}async function S8(t){try{return process.platform==="win32"&&await it(`explorer /select,"${t}"`),!0}catch(e){return console.error("Error showing properties:",e),!1}}async function T8(t){try{const e=await ye.dialog.showOpenDialog({title:"Open With...",filters:[{name:"Applications",extensions:["exe"]}],properties:["openFile"]});return!e.canceled&&e.filePaths.length>0?e.filePaths[0]:null}catch(e){return console.error("Error showing open with dialog:",e),null}}async function A8(t,e){try{return await it(`"${e}" "${t}"`),!0}catch(r){return console.error("Error opening file with app:",r),!1}}async function x8(t){try{return ye.shell.openPath(t),!0}catch(e){return console.error("Error opening in new window:",e),!1}}async function R8(t){try{return process.platform==="win32"?await it(`powershell -Command "Start-Process -FilePath '${t}' -Verb Print"`):process.platform==="darwin"?await it(`lpr "${t}"`):await it(`lpr "${t}"`),!0}catch(e){return console.error("Error printing file:",e),!1}}async function O8(t){try{const e=Pe.extname(t).toLowerCase();return[".txt",".md",".json",".xml",".html",".css",".js",".ts",".jsx",".tsx",".ini",".cfg",".conf",".log"].includes(e)?(process.platform==="win32"?await it(`notepad "${t}"`):process.platform==="darwin"?await it(`open -e "${t}"`):await it(`xdg-open "${t}"`),!0):(await ye.shell.openPath(t),!0)}catch(e){return console.error("Error editing file:",e),!1}}async function I8(t){try{const e=Pe.join(fs.homedir(),"Desktop"),r=Pe.basename(t),n=Pe.join(e,r+".lnk");if(process.platform==="win32"){const i=`powershell "$ws = New-Object -ComObject WScript.Shell; $s = $ws.CreateShortcut('${n}'); $s.TargetPath = '${t}'; $s.Save()"`;await it(i)}else await qe.symlink(t,Pe.join(e,r));return!0}catch(e){return console.error("Error sending to desktop:",e),!1}}async function C8(t){try{if(process.platform==="win32"){const e=`powershell "$o = New-Object -ComObject Shell.Application; $o.Namespace('${t}').Self.InvokeVerb('pintohome')"`;await it(e)}return!0}catch(e){return console.error("Error pinning to Quick Access:",e),!1}}async function D8(t,e){try{if(process.platform==="win32"){const r=[];e.hidden!==void 0&&r.push(`attrib ${e.hidden?"+H":"-H"} "${t}"`),e.readOnly!==void 0&&r.push(`attrib ${e.readOnly?"+R":"-R"} "${t}"`);for(const n of r)await it(n)}else{if(e.hidden!==void 0&&e.hidden){const r=Pe.dirname(t),n=Pe.basename(t);n.startsWith(".")||await qe.rename(t,Pe.join(r,"."+n))}if(e.readOnly!==void 0){const r=e.readOnly?292:420;await qe.chmod(t,r)}}return!0}catch(r){return console.error("Error setting file attributes:",r),!1}}async function P8(t){try{if(process.platform==="win32"){const e=`"C:\\Program Files\\Windows Defender\\MpCmdRun.exe" -Scan -ScanType 3 -File "${t}"`;await it(e)}return!0}catch(e){return console.error("Error scanning with Defender:",e),!1}}async function $8(t){try{if(process.platform==="win32"){const e=fs.userInfo().username;await it(`takeown /F "${t}"`),await it(`icacls "${t}" /grant ${e}:F`)}else await it(`sudo chown ${fs.userInfo().username} "${t}"`);return!0}catch(e){return console.error("Error taking ownership:",e),!1}}async function N8(t){try{return process.platform==="win32"?await it(`start cmd /K "cd /d ${t}"`):process.platform==="darwin"?await it(`open -a Terminal "${t}"`):await it(`gnome-terminal --working-directory="${t}"`),!0}catch(e){return console.error("Error opening in terminal:",e),!1}}async function L8(t){try{return process.platform==="win32"&&await it(`start powershell -NoExit -Command "cd '${t}'"`),!0}catch(e){return console.error("Error opening in PowerShell:",e),!1}}async function F8(t){try{if(process.platform==="win32"){const e=`powershell -Command "Add-Type -TypeDefinition 'using System; using System.Runtime.InteropServices; public class Wallpaper { [DllImport(\\"user32.dll\\", CharSet=CharSet.Auto)] public static extern int SystemParametersInfo(int uAction, int uParam, string lpvParam, int fuWinIni); }'; [Wallpaper]::SystemParametersInfo(20, 0, '${t}', 3)"`;await it(e)}else process.platform==="darwin"?await it(`osascript -e 'tell application "Finder" to set desktop picture to POSIX file "${t}"'`):await it(`gsettings set org.gnome.desktop.background picture-uri "file://${t}"`);return!0}catch(e){return console.error("Error setting wallpaper:",e),!1}}async function M8(t,e){try{const r=ye.nativeImage.createFromPath(t);if(r.isEmpty())return!1;const n=e==="cw"?r.resize({width:r.getSize().height,height:r.getSize().width}):r.resize({width:r.getSize().height,height:r.getSize().width});return await qe.writeFile(t,n.toPNG()),!0}catch(r){return console.error("Error rotating image:",r),!1}}async function U8(t,e){try{for(let r=0;r<t.length;r++){const n=t[r],i=Pe.dirname(n),s=Pe.extname(n),a=e.replace("{index}",String(r+1).padStart(3,"0")).replace("{name}",Pe.basename(n,s)).replace("{ext}",s),o=Pe.join(i,a+s);await qe.rename(n,o)}return!0}catch(r){return console.error("Error batch renaming:",r),!1}}async function k8(t){try{return console.log("PDF conversion not yet implemented for:",t),!1}catch(e){return console.error("Error converting to PDF:",e),!1}}async function B8(t,e,r){try{let n=Pe.join(t,e),i=1;for(;await qe.pathExists(n);){const s=Pe.extname(e),a=Pe.basename(e,s);n=Pe.join(t,`${a} (${i})${s}`),i++}if(r==="folder")await qe.mkdir(n);else if(r==="text")await qe.writeFile(n,"");else if(r==="shortcut"&&process.platform==="win32"){const s=`powershell "$ws = New-Object -ComObject WScript.Shell; $s = $ws.CreateShortcut('${n}.lnk'); $s.Save()"`;await it(s),n+=".lnk"}return n}catch(n){throw console.error("Error creating new file:",n),n}}async function j8(t){try{const e=await qe.stat(t);return{mode:e.mode,uid:e.uid,gid:e.gid,isReadOnly:(e.mode&128)===0}}catch(e){return console.error("Error getting file permissions:",e),null}}async function W8(t,e){try{return await qe.chmod(t,e),!0}catch(r){return console.error("Error setting file permissions:",r),!1}}async function G8(t){try{const e=await qe.readFile(t);return{md5:Nn.createHash("md5").update(e).digest("hex"),sha1:Nn.createHash("sha1").update(e).digest("hex"),sha256:Nn.createHash("sha256").update(e).digest("hex")}}catch(e){return console.error("Error calculating file hashes:",e),{md5:"",sha1:"",sha256:""}}}async function q8(t){try{const e=Pe.dirname(t),r=Pe.extname(t),n=Pe.basename(t,r);let i=1,s=Pe.join(e,`${n} - Copy${r}`);for(;await qe.pathExists(s);)s=Pe.join(e,`${n} - Copy (${i})${r}`),i++;return await qe.copy(t,s),s}catch(e){throw console.error("Error duplicating item:",e),e}}try{require("electron-squirrel-startup")&&ye.app.quit()}catch{}process.env.ELECTRON_DISABLE_SECURITY_WARNINGS="true";process.on("uncaughtException",t=>{try{if(t&&t.code==="EBUSY"){console.warn("Ignored EBUSY in main process:",t&&t.message);return}}catch{}console.error("Uncaught exception in main process",t),process.exit(1)});let Te=null,Ga=null;const z8=()=>{try{return ye.app.isPackaged?ot.join(process.resourcesPath,"build","icon.ico"):ot.join(__dirname,"..","build","icon.ico")}catch{return}},MS=async()=>{const t=z8();if(Te=new ye.BrowserWindow({width:1280,height:800,minWidth:800,minHeight:600,backgroundColor:"#0b0b0f",frame:!1,titleBarStyle:"hidden",title:"Xvser",icon:t,show:!0,webPreferences:{preload:ot.join(__dirname,"preload.cjs"),contextIsolation:!0,nodeIntegration:!1,sandbox:!0,devTools:!ye.app.isPackaged}}),ye.app.isPackaged)Te.loadFile(ot.join(__dirname,"../dist/index.html"));else{const e=process.env.VITE_DEV_SERVER_URL||"http://localhost:8000";Te.loadURL(e),Te.webContents.openDevTools({mode:"detach"})}Te.webContents.setWindowOpenHandler(({url:e})=>(ye.shell.openExternal(e),{action:"deny"})),Te.on("maximize",()=>{Te==null||Te.webContents.send("window:maximized")}),Te.on("unmaximize",()=>{Te==null||Te.webContents.send("window:unmaximized")})};ye.app.whenReady().then(()=>{try{ye.app.setName("Xvser"),ye.app.setAppUserModelId("com.voidsystems.xvser")}catch{}MS()});ye.app.on("window-all-closed",()=>{process.platform!=="darwin"&&ye.app.quit()});ye.app.on("activate",()=>{ye.BrowserWindow.getAllWindows().length===0&&MS()});if(ye.app.isPackaged){const t=process.env.APP_UPDATE_TOKEN||process.env.GH_TOKEN||"";t&&(sr.autoUpdater.requestHeaders={Authorization:`token ${t}`},console.log("[updater] using token from environment for private GitHub access")),sr.autoUpdater.autoDownload=!1,sr.autoUpdater.autoInstallOnAppQuit=!0,sr.autoUpdater.on("checking-for-update",()=>{console.log("[updater] checking for update"),Te==null||Te.webContents.send("update:checking")}),sr.autoUpdater.on("update-available",e=>{console.log("[updater] update available",e==null?void 0:e.version),Te==null||Te.webContents.send("update:available",{version:e.version,releaseDate:e.releaseDate,releaseNotes:e.releaseNotes})}),sr.autoUpdater.on("update-not-available",()=>{console.log("[updater] no update"),Te==null||Te.webContents.send("update:not-available")}),sr.autoUpdater.on("download-progress",e=>{console.log(`[updater] downloading ${Math.floor(e.percent)}%`),Te==null||Te.webContents.send("update:download-progress",{percent:e.percent,transferred:e.transferred,total:e.total})}),sr.autoUpdater.on("update-downloaded",e=>{console.log("[updater] update downloaded; ready to install"),Te==null||Te.webContents.send("update:downloaded",{version:e.version})}),sr.autoUpdater.on("error",e=>{console.error("[updater] error",e),Te==null||Te.webContents.send("update:error",{message:e.message})}),setTimeout(()=>{try{sr.autoUpdater.checkForUpdates()}catch(e){console.warn("autoUpdater error",e)}},4e3)}ye.ipcMain.handle("update:check",async()=>{if(!ye.app.isPackaged)return{error:"Updates only available in packaged app"};try{const t=await sr.autoUpdater.checkForUpdates();return{success:!0,updateInfo:t==null?void 0:t.updateInfo}}catch(t){return{error:t.message}}});ye.ipcMain.handle("update:download",async()=>{if(!ye.app.isPackaged)return{error:"Updates only available in packaged app"};try{return await sr.autoUpdater.downloadUpdate(),{success:!0}}catch(t){return{error:t.message}}});ye.ipcMain.handle("update:install",()=>ye.app.isPackaged?(sr.autoUpdater.quitAndInstall(!1,!0),{success:!0}):{error:"Updates only available in packaged app"});async function H8(t){let e=[];try{e=await sd.readdir(t,{withFileTypes:!0})}catch{e=(await qe.readdir(t)).map(a=>({name:a}))}const r=new Array(e.length);await(async(s,a,o)=>{let l=0;const c=s.length,u=Array(Math.min(a,c)).fill(0).map(async()=>{for(;;){const h=l++;if(h>=c)break;await o(s[h],h)}});await Promise.all(u)})(e,64,async(s,a)=>{const o=s.name??s,l=ot.join(t,o);try{const c=await sd.stat(l),u=typeof s.isDirectory=="function"?s.isDirectory():c.isDirectory();r[a]={name:o,path:l,isDir:u,size:c.size,mtimeMs:c.mtimeMs,ext:ot.extname(o).toLowerCase()}}catch{r[a]=void 0}});const i=r.filter(Boolean);return i.sort((s,a)=>s.isDir===a.isDir?s.name.localeCompare(a.name):s.isDir?-1:1),i}function V8(t){Ga&&(Ga.close(),Ga=null);try{Ga=E1.watch(t,{depth:0,ignoreInitial:!0}),Ga.on("add",e=>Te==null?void 0:Te.webContents.send("fs:changed",{type:"add",path:e})).on("addDir",e=>Te==null?void 0:Te.webContents.send("fs:changed",{type:"addDir",path:e})).on("unlink",e=>Te==null?void 0:Te.webContents.send("fs:changed",{type:"unlink",path:e})).on("unlinkDir",e=>Te==null?void 0:Te.webContents.send("fs:changed",{type:"unlinkDir",path:e})).on("change",e=>Te==null?void 0:Te.webContents.send("fs:changed",{type:"change",path:e})).on("error",e=>{try{if(e.code==="EBUSY"){console.warn("Watcher ignored EBUSY for",t);return}}catch{}console.error("Watcher error for",t,e)})}catch(e){if(e&&e.code==="EBUSY"){console.warn("Failed to start watcher (EBUSY) for",t);return}throw e}}ye.ipcMain.handle("fs:chooseDir",async()=>{const t=await ye.dialog.showOpenDialog(Te,{properties:["openDirectory","createDirectory"]});return t.canceled||t.filePaths.length===0?null:t.filePaths[0]});ye.ipcMain.handle("fs:list",async(t,e)=>await H8(e));ye.ipcMain.handle("fs:setWatch",async(t,e)=>(V8(e),!0));ye.ipcMain.handle("fs:openPath",async(t,e)=>(await ye.shell.openPath(e),!0));ye.ipcMain.handle("fs:trash",async(t,e)=>(ye.shell.trashItem?await ye.shell.trashItem(e):await qe.remove(e),!0));ye.ipcMain.handle("fs:rename",async(t,e,r)=>{const n=ot.join(ot.dirname(e),r);return await qe.rename(e,n),n});ye.ipcMain.handle("fs:newFolder",async(t,e,r="New Folder")=>{let n=0,i=ot.join(e,r);for(;await qe.pathExists(i);)n+=1,i=ot.join(e,`${r} (${n})`);return await qe.mkdir(i),i});function US(){return tp.platform()==="win32"}async function Y8(){const t=[];for(let e=65;e<=90;e++){const r=String.fromCharCode(e),n=`${r}:\\`;try{await qe.access(n),t.push({name:`${r}:`,path:n,type:"drive"})}catch{}}return t}function K8(){const t=process.env.USERPROFILE||tp.homedir();return[{name:"Desktop",path:ot.join(t,"Desktop"),icon:"desktop"},{name:"Documents",path:ot.join(t,"Documents"),icon:"documents"},{name:"Downloads",path:ot.join(t,"Downloads"),icon:"downloads"},{name:"Pictures",path:ot.join(t,"Pictures"),icon:"pictures"},{name:"Music",path:ot.join(t,"Music"),icon:"music"},{name:"Videos",path:ot.join(t,"Videos"),icon:"videos"}]}ye.ipcMain.handle("fs:getDrives",async()=>US()?await Y8():[{name:"Root",path:"/",type:"drive"}]);ye.ipcMain.handle("fs:getKnownFolders",async()=>{if(US())return K8();const t=tp.homedir();return[{name:"Home",path:t,icon:"home"},{name:"Desktop",path:ot.join(t,"Desktop"),icon:"desktop"},{name:"Documents",path:ot.join(t,"Documents"),icon:"documents"},{name:"Downloads",path:ot.join(t,"Downloads"),icon:"downloads"},{name:"Pictures",path:ot.join(t,"Pictures"),icon:"pictures"}]});ye.ipcMain.handle("fs:getFreeSpace",async(t,e)=>{try{if(!e)return null;if(process.platform==="win32"){const r=e.match(/^([A-Za-z]:)\\?/),n=r?r[1].charAt(0):null;if(n){const i=async s=>{try{const o=((await new Promise((c,u)=>{pi.exec(s,{windowsHide:!0},(h,d,b)=>{if(h)return u(h);c((d||b).toString())})})).match(/(\d[\d,]*)/)||[])[1];if(!o)return null;const l=parseInt(o.replace(/,/g,""),10);if(Number.isFinite(l))return l}catch{}return null};try{const s=`powershell -NoProfile -Command "(Get-Volume -DriveLetter ${n}).SizeRemaining"`,a=await i(s);if(a!==null)return a}catch{}try{const s=`powershell -NoProfile -Command "[long](Get-PSDrive -Name ${n}).Free"`,a=await i(s);if(a!==null)return a}catch{}try{const a=`wmic logicaldisk where "DeviceID='${n+":"}'" get FreeSpace /value`,l=(await new Promise((c,u)=>{pi.exec(a,{windowsHide:!0},(h,d,b)=>{if(h)return u(h);c((d||b).toString())})})).match(/FreeSpace=(\d+)/);if(l)return parseInt(l[1],10)}catch{}}return null}else{const r=`df -k "${e.replace(/"/g,'\\"')}"`,i=(await new Promise((o,l)=>{pi.exec(r,(c,u,h)=>{if(c)return l(c);o(u||h)})})).trim().split(/\r?\n/);if(i.length<2)return null;const s=i[1].split(/\s+/),a=parseInt(s[3],10);return Number.isFinite(a)?a*1024:null}}catch(r){return console.error("Failed to get free space for",e,r),null}});ye.ipcMain.handle("fs:getFileIcon",async(t,e,r="normal",n=!1)=>{try{const i=ot.extname(e).toLowerCase();if([".mp4",".mkv",".avi",".mov",".wmv",".flv",".webm",".m4v",".3gp"].includes(i)&&!n){let d={};return r==="small"&&(d.size="small"),r==="large"&&(d.size="large"),(await ye.app.getFileIcon(e,d)).toDataURL()}const{getThumbnail:o}=await Promise.resolve().then(()=>require("./thumbnail-rgkoIwFV.js")),l=await o(e,{width:r==="small"?64:r==="large"?256:128,height:r==="small"?64:r==="large"?256:128,quality:85});if(l)return l;let c={};return r==="small"&&(c.size="small"),r==="large"&&(c.size="large"),(await ye.app.getFileIcon(e,c)).toDataURL()}catch{try{const s=ye.nativeImage.createFromPath(e);if(!s.isEmpty())return s.toDataURL()}catch{}return null}});ye.ipcMain.handle("fs:revealInFolder",async(t,e)=>{try{return ye.shell.showItemInFolder(e),!0}catch{return await ye.shell.openPath(ot.dirname(e)),!0}});ye.ipcMain.handle("window:minimize",()=>{Te==null||Te.minimize()});ye.ipcMain.handle("window:maximize",()=>{Te==null||Te.maximize()});ye.ipcMain.handle("window:unmaximize",()=>{Te==null||Te.unmaximize()});ye.ipcMain.handle("window:close",()=>{Te==null||Te.close()});ye.ipcMain.handle("window:isMaximized",()=>(Te==null?void 0:Te.isMaximized())??!1);ye.ipcMain.handle("fs:copyFiles",async(t,e,r)=>m8(e,r));ye.ipcMain.handle("fs:moveFiles",async(t,e,r)=>y8(e,r));ye.ipcMain.handle("fs:compressToZip",async(t,e)=>w8(e));ye.ipcMain.handle("fs:extractArchive",async(t,e)=>_8(e));ye.ipcMain.handle("fs:createShortcut",async(t,e)=>b8(e));ye.ipcMain.handle("fs:shareFiles",async(t,e)=>v8(e));ye.ipcMain.handle("fs:getFileHash",async(t,e)=>E8(e));ye.ipcMain.handle("fs:showProperties",async(t,e)=>S8(e));ye.ipcMain.handle("fs:showOpenWithDialog",async(t,e)=>T8());ye.ipcMain.handle("fs:openWith",async(t,e,r)=>A8(e,r));ye.ipcMain.handle("fs:openInNewWindow",async(t,e)=>x8(e));ye.ipcMain.handle("fs:printFile",async(t,e)=>R8(e));ye.ipcMain.handle("fs:editFile",async(t,e)=>O8(e));ye.ipcMain.handle("fs:sendToDesktop",async(t,e)=>I8(e));ye.ipcMain.handle("fs:pinToQuickAccess",async(t,e)=>C8(e));ye.ipcMain.handle("fs:setFileAttributes",async(t,e,r)=>D8(e,r));ye.ipcMain.handle("fs:scanWithDefender",async(t,e)=>P8(e));ye.ipcMain.handle("fs:takeOwnership",async(t,e)=>$8(e));ye.ipcMain.handle("fs:openInTerminal",async(t,e)=>N8(e));ye.ipcMain.handle("fs:openInPowerShell",async(t,e)=>L8(e));ye.ipcMain.handle("fs:setAsWallpaper",async(t,e)=>F8(e));ye.ipcMain.handle("fs:rotateImage",async(t,e,r)=>M8(e,r));ye.ipcMain.handle("fs:batchRename",async(t,e,r)=>U8(e,r));ye.ipcMain.handle("fs:convertToPDF",async(t,e)=>k8(e));ye.ipcMain.handle("fs:createNewFile",async(t,e,r,n)=>B8(e,r,n));ye.ipcMain.handle("fs:getFilePermissions",async(t,e)=>j8(e));ye.ipcMain.handle("fs:setFilePermissions",async(t,e,r)=>W8(e,r));ye.ipcMain.handle("fs:getFileHashes",async(t,e)=>G8(e));ye.ipcMain.handle("fs:duplicateItem",async(t,e)=>q8(e));
